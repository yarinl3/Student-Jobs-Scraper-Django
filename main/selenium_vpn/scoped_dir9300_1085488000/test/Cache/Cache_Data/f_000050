if (!window.STREAM_CONFIGS) { window.STREAM_CONFIGS = {}; };
      window.STREAM_CONFIGS.ENV = window.STREAM_CONFIGS.ENV || 'production';
      window.STREAM_ID = 'cfa80d99-1f1c-440e-a98e-19acac6b7fe4';
      window.STREAM_CONFIGS['cfa80d99-1f1c-440e-a98e-19acac6b7fe4'] = {"_id":"cfa80d99-1f1c-440e-a98e-19acac6b7fe4","status":1,"envVars":[],"blockAdDomains":[{"value":"bundle.clearstream.tv","display":"bundle.clearstream.tv"},{"value":"ato.mx","display":"ato.mx"},{"value":"rtb.pretiox.com","display":"rtb.pretiox.com"},{"value":"dotomi.com","display":"dotomi.com"},{"display":"fastclick.net","value":"fastclick.net"}],"blockAdDFPDomains":[],"playlistSortBy":[],"playlistExcludeTags":[],"customParams":[{"mappingName":"c1"},{"mappingName":"c2"},{"mappingName":"c3"},{"mappingName":"c4"},{"mappingName":"c5"}],"predefinedParams":{"videoId":false},"abTests":{"storageType":"session","templates":[]},"ui":{"controls":{"prev":{"enabled":true,"color":"#ffffff"},"next":{"enabled":true,"color":"#ffffff"},"playPause":{"enabled":true,"color":"#ffffff"}},"progress":{"enabled":true,"color":"#ffffff"},"sound":{"enabled":true,"color":"#ffffff"},"timers":{"enabled":true,"color":"#ffffff"},"skipButton":{"enabled":false,"color":"#ffffff"}},"type":"stream","provider":1,"providerURL":"https://p.channelexco.com/player/player.js?pv=117.25","providerSDK":"https://cdn.ex.co/player/ap/1.2.1/player.js","showPlayButtonOnCTA":false,"prefetchPlayer":true,"adsConfig":{"pb":{"src":"https://cdn.ex.co/player/prebid/prebid_mp_5.20.0_02_22.js"},"safeAds":true,"whiteOps":{"enabled":true,"sampleRate":10},"iiq":{"enabled":false},"displayAdVersion":1,"displayAd":{"trigger":{"timeout":30},"autoSkipAfter":{"unfilled":10}},"displayAdV2":{"desktop":{"timeout":8,"delay":15,"unfilledCap":2},"mobile":{"timeout":8,"delay":15,"unfilledCap":2},"type":1}},"logoHeight":65,"logoWidth":100,"mobileHeight":0,"mobileWidth":0,"desktopHeight":0,"desktopWidth":0,"minimizeFixedPadding":10,"minimizeSizePercentage":410,"loop":true,"logo":true,"logoImage":"https://cdn.playbuzz.com/logos/d4dbb2d2-057c-4ad9-ba3c-4ac5a6d223f8_1601477355252.png","slotTimeout":5,"errorLimit":40,"midrollDelay":3,"midrollTimeout":10,"midrollTime":7,"vastRetry":0,"itemsListSize":0,"ivtWhiteops":false,"ivtMoat":true,"isGeoExclude":false,"randomFrom":0,"autoplay":true,"playerVersion":"aniview-7","mute":true,"minimizeLocation":"bottom-right","enableCloseButton":true,"disableOnMobile":false,"enableMinimize":true,"debugMode":false,"logoPosition":"left","ivtForensiq":false,"comscorePixel":false,"random":false,"stickyMode":"non-persistent","showPlaybuzzLogo":false,"autoContinue":true,"nativePlayerVersion":"https://cdn.ex.co/player/2.81.js","adsInterval":15,"adsMode":"breaking-ads","playbackMode":"auto-play","playbackModeMobile":"auto-play","minimizeSizePercentageMobile":214,"breakingAdsMode":"os","showFullScreen":false,"showFullScreenMobile":false,"muteMobile":true,"noMuteOnBlur":false,"pauseOnMobilePageBlur":false,"skipButton":false,"inventoryEventWeight":0,"includeMediaSection":true,"moatSamplingRate":20,"scrollInToViewOverride":false,"maxRun":100,"timeToFirstAd":0,"playbackModeOverride":false,"playerName":"DEFAULT_CONFIG","tabletTraffic":"mobile","maxAdsPerContent":0,"skipOffset":3,"monetization":true,"showTimelineReplay":false,"subVersion":"content-player-premium","timeBetweenErrorLimits":5,"minimizeHorizontalFixedPadding":15,"minimizeVerticalFixedPadding":15,"tracking":{"on":false,"mcd_player_error":0,"mcd_player_in":0,"mcd_player_out":0,"mcd_content_progress":0},"components":{"cta":{"enabled":true,"text":"Read More","color":"#03c0ff","desktop":{"enabled":true,"sticky":true},"mobile":{"enabled":true,"sticky":true},"animation":false,"icon":"new_window"},"titleComponent":{"enabled":false,"desktop":{"sticky":true,"enabled":true},"mobile":{"sticky":true,"enabled":true},"title":{"content":"Playing Now"},"textColor":"#fff","backgroundColor":"primary"},"videoGallery":{"enabled":false,"pluginURL":"https://player.avplayer.com/script/2/2.29/plugins/videoPlayListGallery.js","desktop":{"sticky":false,"enabled":true},"mobile":{"sticky":false,"enabled":true}},"paging":{"color":"primary"},"transition":{"logo":false},"poster":{"enabled":false},"infoPanel":{"enabled":false,"position":"left","logo":true,"color":"primary"},"premiumPopup":{"unmute":true,"ignoreCTA":true,"enabled":false},"videoTeasers":{"enabled":false,"duration":"30"},"upNextVideo":{"enabled":false,"timeOffset":"5"}},"content":{"userPlaylist":{"enabled":true,"mp4Extension":false,"id":"61ba420447b0220011c111c3"},"rss":{"videoConfig":{"template":"template1","size":5,"progressBar":{"enabled":true},"colors":{"primary":"#000"},"cta":{"showButton":true,"button":{"mobile":{"sticky":true,"enabled":true},"desktop":{"sticky":true,"enabled":true},"enabled":true},"text":"Read more","coverPlayer":true},"videoTitle":"Trending now"},"pauseRegeneration":true,"updateInterval":180,"enabled":false,"source":"https://cdn.playbuzz.com/content/monetization/RSS/RSS_example.xml"},"mrss":{"sort":[],"enabled":false,"limit":10},"clientSide":false},"minimizeLocationMobile":"bottom-large","reporting":{"queryParams":[{"_id":"5c2c9791640a4c599b589e9b","name":"utm_source","mappingName":"AV_UTM_SOURCE","__v":0},{"_id":"5c2c97acc9243559e44494f7","name":"utm_medium","mappingName":"AV_UTM_MEDIUM","__v":0},{"_id":"5c2c97bde49e3d5a20fa6ba2","name":"utm_campaign","mappingName":"AV_UTM_CAMPAIGN","__v":0},{"_id":"5df7703524cb256cbccfc6da","name":"utm_term","mappingName":"AV_UTM_TERM"},{"_id":"5df7704424cb256cbccfef59","name":"utm_content","mappingName":"AV_UTM_CONTENT"}],"passThroughURLParams":{"replace":false,"params":{"ipid":"exco-read-more"}},"reportCpmOnImpression":false,"customParams":[]},"sticky":{"directLoad":false,"nonPersistentPerSessionMobile":false,"nonPersistentPerSessionDesktop":false,"widthUnitDesktop":"pixels","widthUnitMobile":"pixels","transitionDesktop":"regular","transitionMobile":"regular","closeButtonBehavior":"continue-on-close","desktopVerticalPadding":15,"mobileVerticalPadding":65,"desktopHorizontalPadding":15,"mobileHorizontalPadding":15,"floatingCloseButton":true,"offsetMobile":{"top":{"type":"element","value":".header-top.sticky"},"bottom":{"type":"element","value":"#MAD"}},"minWidth":256,"minWidthDesktop":256,"minWidthMobile":256,"upperStickyBackgroundColor":"#03c0ff","maxWidthDesktop":410,"isBiPositional":true},"debug":{"logger":false},"forceMinimumSize":false,"adsDelay":0,"name":"smallbusiness.chron.com_LEAF","desktopChannel":"61923ea49eb4cf522850b087","mobileChannel":"61923ede5a33ba5d70153ec0","colorTheme":{"progressBar":{"_id":"5e15da53d36ae20012e4109c"},"playButton":{"_id":"5e15da53d36ae20012e4109d"}},"updatedBy":{"id":"3c9f67e8-80be-40f9-8832-52169488d34d"},"placement":{"_id":"5e2a0f71e539710013b8fb2c","mobile":{"_id":"5e2a0f71e539710013b8fb2d"},"desktop":{"_id":"5e2a0f71e539710013b8fb2e"}},"appearance":{"borderRadius":{"radius":7},"colorPalette":{"primary":"#39333e","secondary":"#049cff"},"font":{"family":"Roboto"}},"targeting":{"bots":{"values":["APPLE"],"operator":"all"},"integrations":{"operator":"all"},"playerLoads":{"values":["adBlock"],"operator":"exclude"},"browsers":{"values":["chrome","safari","firefox","opera","ie","edge","mozilla"],"operator":"all"},"os":{"values":["ios","android","windows","osx"],"operator":"all"},"geoLocation":{"operator":"include","values":["AU","BR","CA","CN","CO","DK","FI","FR","DE","IL","IT","MX","NL","NO","ES","SE","CH","GB","US","IE"]}},"lazy":{"type":"element"},"sdkCore":false,"dple":{"desktop":false,"mobile":false,"desktopDelay":8,"mobileDelay":8},"sdkVersion":"http://playbuzz-cdn.s3.amazonaws.com/player/4.144.0/sdk.js","isGam":false,"targetingConfigs":[],"createdBy":{"id":"d83795ba-7bb3-49cb-ac6f-db2f7527d8dc"},"customCSS":".pbs{\n    z-index: 1000\n}\n.article--content .article--content-embed.inline-iframe {\npadding-bottom: 61%;\n}","minimizeZindex":2147483645,"customJS":{"sdkLoaded":"function apply() {\n   const playerId = window.STREAM_ID;\n    var cp = {\n        \"section1\": \"\",\n        \"section2\": \"\",\n        \"section3\": \"\",\n        \"page_type2\": \"\",\n        \"permutive\": \"\"\n    };\n    var HDN = window.HDN;\n    if (HDN && HDN.dataLayer && HDN.dataLayer.content) {\n        let content = window.HDN.dataLayer.content;\n        cp.page_type2 = (content.objectType || \"\").replace(/\\s/g, '');\n        if (content.sectionPath && Array.isArray(content.sectionPath)) {\n            for (var i = 0; i < content.sectionPath.length; i++) {\n                cp['section' + (i + 1)] = content.sectionPath[i];\n            }\n        }\n    }\n    let pdfps = JSON.parse(localStorage.getItem('_pdfps'));\n    if (Array.isArray(pdfps)) {\n        pdfps.splice(100);\n        cp.permutive = pdfps.join(\",\");\n    }\n    if (playerId && cp) {\n        document.getElementById(playerId).dataset.exsConfig = JSON.stringify({\n            \"customParams\": cp\n        });\n    } else {\n        console.warn('[exco-log] - Failed to fetch custom params')\n    }\n}"},"excoTag":{"id":"b9d49e83-20d2-48ff-af9a-cac1a905dd8b"},"rates":{"nd":{"dc":{"dT":"cpm","r":"5.90"},"mc":{"dT":"cpm","r":"2.25"}},"pd":{"dc":{"dT":"fasf","r":"2"},"mc":{"dT":"fasf","r":"2"}}},"publisher":{"sellerId":"0012000001fxZm9AAE","sellersJSONDomain":"hearst.com","googlePublisherId":"22604724357"},"country":"IL","connection":"mobile","botName":"","isBot":false,"contents":[{"id":"76b07f11-7d57-48ae-8260-019c85324c96","video":{"mp4":{"src":"https://mcd.ex.co/video/upload/v1490095101/landscape76b07f11-7d57-48ae-8260-019c85324c96_1651098117556.mp4"},"jpg":{"src":"https://mcd.ex.co/video/upload/so_4/v1490095101/landscape76b07f11-7d57-48ae-8260-019c85324c96_1651098117556.jpg"},"m3u8":{"src":"https://mcd.ex.co/video/upload/sp_sd/v1490095101/landscape76b07f11-7d57-48ae-8260-019c85324c96_1651098117556.m3u8"}},"source":"rss","poster":"https://mcd.ex.co/video/upload/so_4/v1490095101/landscape76b07f11-7d57-48ae-8260-019c85324c96_1651098117556.jpg","videoSpecMeta":{"duration":32.2,"actions":[{"startTime":2,"endTime":7,"type":"cta","data":{"url":"https://www.chron.com/sports/texans/article/Laremy-Tunsil-gas-mask-bong-video-NFT-NFL-Draft-17131034.php","text":"READ MORE","color":"#fff","backgroundColor":"#03c0ff"}},{"startTime":8,"endTime":13,"type":"cta","data":{"url":"https://www.chron.com/life/travel/article/Homophobic-first-class-passenger-assault-delta-air-17130752.php","text":"READ MORE","color":"#fff","backgroundColor":"#03c0ff"}},{"startTime":14,"endTime":19,"type":"cta","data":{"url":"https://www.chron.com/sports/astros/article/2015-Yankees-cheating-Astros-Dallas-Keuchel-game-17130533.php","text":"READ MORE","color":"#fff","backgroundColor":"#03c0ff"}},{"startTime":20,"endTime":25,"type":"cta","data":{"url":"https://www.chron.com/sports/rockets/article/Draymond-Green-Bill-Simmons-vote-Jalen-Green-Jones-17130394.php","text":"READ MORE","color":"#fff","backgroundColor":"#03c0ff"}},{"startTime":26,"endTime":31,"type":"cta","data":{"url":"https://www.chron.com/sports/texans/article/Vince-Wilfork-son-guilty-Super-Bowl-rings-DAundre-17128634.php","text":"READ MORE","color":"#fff","backgroundColor":"#03c0ff"}}],"items":[{"title":"Texans' Laremy Tunsil turning infamous gas-mask video into NFT","author":"Matt Young","date":"2022-04-27T18:45:41.000Z","pubDate":"Wed, 27 Apr 2022 18:45:41 UT","link":"https://www.chron.com/sports/texans/article/Laremy-Tunsil-gas-mask-bong-video-NFT-NFL-Draft-17131034.php"},{"title":"Delta flight attendant allegedly assaulted by 'homophobic' first-class passenger allegedly assaulted","author":"Dan Carson","date":"2022-04-27T17:40:54.000Z","pubDate":"Wed, 27 Apr 2022 17:40:54 UT","link":"https://www.chron.com/life/travel/article/Homophobic-first-class-passenger-assault-delta-air-17130752.php"},{"title":"Give Dallas Keuchel another Cy Young for way he dominated cheating 2015 Yankees","author":"Matt Young","date":"2022-04-27T16:36:08.000Z","pubDate":"Wed, 27 Apr 2022 16:36:08 UT","link":"https://www.chron.com/sports/astros/article/2015-Yankees-cheating-Astros-Dallas-Keuchel-game-17130533.php"},{"title":"Draymond Green questions Bill Simmons’ voting eligibility after his ‘F--k Jalen Green’ comment","author":"Matt Young","date":"2022-04-27T15:16:37.000Z","pubDate":"Wed, 27 Apr 2022 15:16:37 UT","link":"https://www.chron.com/sports/rockets/article/Draymond-Green-Bill-Simmons-vote-Jalen-Green-Jones-17130394.php"},{"title":"Vince Wilfork's son pleads guilty in theft of father's Super Bowl rings","author":"Matt Young","date":"2022-04-26T21:25:15.000Z","pubDate":"Tue, 26 Apr 2022 21:25:15 UT","link":"https://www.chron.com/sports/texans/article/Vince-Wilfork-son-guilty-Super-Bowl-rings-DAundre-17128634.php"}],"description":"Texans' Laremy Tunsil turning infamous gas-mask video into NFT, Delta flight attendant allegedly assaulted by 'homophobic' first-class passenger allegedly assaulted, Give Dallas Keuchel another Cy Young for way he dominated cheating 2015 Yankees, Draymond Green questions Bill Simmons’ voting eligibility after his ‘F--k Jalen Green’ comment, Vince Wilfork's son pleads guilty in theft of father's Super Bowl rings"},"feedId":"61ba08aa18433d0011bccedb","context":["ic_6174988","ic_0858141","ic_2897216","ic_0899282","ic_9954675","ic_3393155","ic_1693502","ic_8672499","ic_1467809","ic_5171627","ic_1155100","ic_4670094","ic_3885449"],"contextId":"iris_ea168c66aaf66961"}]};
      if (!window.__EXCO_INTEGRATION_TYPE) { window.__EXCO_INTEGRATION_TYPE = 'default'; };
      var com;!function(v){"use strict";v.com||(v.com={}),v.com.aniview||(v.com.aniview={}),v.com.aniview.player||(v.com.aniview.player={}),v.com.aniview.player.avVer="2.2.81.1";v.com.aniview.player.avPlayer=function(s){var n,r,o,e,l,a,d=new function(){var a={};this.subscribe=function(t,e,i){a[e]||(a[e]=[]),a[e].push({callback:t,context:i})},this.unsubscribe=function(t,e){if(a[e])for(var i=0;i<a[e].length;i++)if(a[e][i].callback===t){a[e].splice(i,1);break}},this.dispatch=function(t,e,i,n){if(a[t])for(var o=0;o<a[t].length;o++)if(a[t][o]&&"function"==typeof a[t][o].callback)try{a[t][o].callback.call(a[t][o].context,e,i,n)}catch(t){}}},p=this;p.AdLoaded=!1,p.playing=!1,p.muted=!s.autosound;var i,c,u=null,h=null,g=null;s.publisherId&&(s.publisherId=s.publisherId.trim()),s.channelId&&(s.channelId=s.channelId.trim()),l={AdLoaded:[],AdStarted:[],AdStopped:[],AdSkipped:[],AdClosed:[],AdSkippableStateChange:["adSkippableState"],AdSizeChange:["adWidth","adHeight"],AdLinearChange:["adLinear"],AdDurationChange:["adDuration","adRemainingTime"],AdExpandedChange:["adExpanded"],AdRemainingTimeChange:["adRemainingTime"],AdVolumeChange:["adVolume"],AdImpression:[],AdVideoStart:[],AdVideoFirstQuartile:[],AdVideoMidpoint:[],AdVideoThirdQuartile:[],AdVideoComplete:[],AdClickThru:[],AdInteraction:[],AdUserAcceptInvitation:[],AdUserMinimize:[],AdUserClose:[],AdPaused:[],AdPlaying:[],AdLog:[],AdError:[],Inventory:[],InventoryRequest:[],FullScreenRequest:[],AdEvent:[],VPAIDLoadError:[],AdTimeout:[]},document.getElementById("videoSlot"),n&&n.parentNode&&(n.parentNode.removeChild(n),n=null),(n=document.createElement("iframe")).setAttribute("id","AVLoader"+s.position),n.style.display="none",n.src="about:blank",e=function(){var t,e,i="https://player.aniview.com/script/6.1/";!s.baseJsUrl&&""!=s.baseJsUrl||(i=s.baseJsUrl);isNaN(s.abtest)&&5==Math.floor(20*Math.random())&&(s.abtest=5),5==s.abtest&&(i+="ab5/",s.baseJsUrl=i),i=i+"AVmanager.js?v=1.0&type=s&pid="+s.publisherId;try{(o=n.contentWindow.document.createElement("script")).src=i,o.setAttribute("data-av","AVScript"+s.position),o.type="text/javascript",e=function(){if("function"==typeof n.contentWindow.getVPAIDAd){for(t in r=n.contentWindow.getVPAIDAd(),l)l.hasOwnProperty(t)&&function(a){r.subscribe(function(t,e,i){for(var n=0;n<arguments.length;n++)0<n&&0,0;for(n=0;n<l[a].length;n++)l[a][n].charAt(0).toUpperCase(),l[a][n].slice(1);if("AdEvent"==a&&"function"==typeof p.onEvent&&p.onEvent(t,e,i),"AdLoaded"==a&&(p.AdLoaded=!0,"function"==typeof p.onLoad&&p.onLoad()),"AdImpression"==a&&(p.playing=!0,"function"==typeof p.onPlay&&p.onPlay(t)),"AdVideoFirstQuartile"==a&&"function"==typeof p.onPlay25&&p.onPlay25(),"AdVideoMidpoint"==a&&"function"==typeof p.onPlay50&&p.onPlay50(),"AdVideoThirdQuartile"==a&&"function"==typeof p.onPlay75&&p.onPlay75(),"AdVideoComplete"==a&&(p.playing=!1,"function"==typeof p.onPlay100&&p.onPlay100(t)),"AdClickThru"==a&&"function"==typeof p.onClick&&p.onClick(),"AdPaused"==a&&"function"==typeof p.onPause&&p.onPause(),"AdPlaying"==a&&"function"==typeof p.onResume&&p.onResume(),"AdError"==a&&"function"==typeof p.onError&&p.onError(t),"AdStopped"==a&&"function"==typeof p.onStopped&&p.onStopped(),"AdSkipped"==a&&"function"==typeof p.onSkip&&p.onSkip(),"AdClosed"==a&&"function"==typeof p.onClose&&p.onClose(t),"AdVolumeChange"==a){var o=p.muted;if(void 0!==r.adVolume&&(p.muted=!(0<r.adVolume)),o==p.muted)return;"function"!=typeof p.onUnmute||p.muted?"function"==typeof p.onMute&&p.muted&&(p.onMute(),p.muted=!0):(p.onUnmute(),p.muted=!1)}"ContentImpression"==a&&"function"==typeof p.onContentPlay&&p.onContentPlay(t),"ContentComplete"==a&&"function"==typeof p.onContentPlay100&&p.onContentPlay100(),"ContentPaused"==a&&"function"==typeof p.onContentPaused&&p.onContentPaused(),"ContentPlaying"==a&&"function"==typeof p.onContentPlaying&&p.onContentPlaying(),"Inventory"==a&&"function"==typeof p.onInventory&&p.onInventory(),"InventoryRequest"==a&&"function"==typeof p.onInventoryRequest&&p.onInventoryRequest(t),"FullScreenRequest"==a&&"function"==typeof p.onFullScreenRequest&&p.onFullScreenRequest(t),d.dispatch(a,t,e,i)},a)}(t);!function(){var t,e,i;t={},e=document.getElementById(s.position).parentNode||"BODY"!=document.getElementById(s.position).parentNode.tagName?document.getElementById(s.position).parentNode.clientWidth:document.body.clientWidth||screen.width;1200<Math.floor(e)&&(e=1200);{var n;i=Math.ceil(e/1.777),0==s.height&&100==s.width&&(s.height=i,s.width=e,n=document.documentElement.clientHeight||document.body.clientHeight||screen.height,s.height>n&&(s.height=n,s.width=Math.ceil(1.77*n)))}void 0===s.hideControls&&(s.hidecontrols=!1);(t=s).slot=document.getElementById(s.position),t.videoSlot=document.getElementById("videoSlot"),t.videoSlotCanAutoPlay=!0,t.getviewability=g,r.initAd(s.width,s.height,"normal","","",t)}()}},o.onload=function(){e()},n.contentWindow.document.body.appendChild(o)}catch(t){d.dispatch(l.VPAIDLoadError,t)}},p.play=function(){var t;p.playCalled||(p.playCalled=!0,document.body&&"function"==typeof document.body.appendChild?document.body.appendChild(n):document.getElementById(s.position).appendChild(n),n.contentWindow&&(t=n.contentWindow.document.open(),n.contentWindow.avCallback=e,t.write('<html><body onload="window.avCallback();"></body></html>'),n.contentWindow.document.close()))},p.startAd=function(t){p.AdLoaded&&r.startAd(t)},p.setWaterfallState=function(t,e,i){r&&"function"==typeof r.setWaterfallState&&r.setWaterfallState(t,e,i)},p.unmute=function(){r&&r.setAdVolume(1)},p.mute=function(){try{r&&r.setAdVolume(0)}catch(t){}},p.pause=function(){r&&r.pauseAd()},p.resume=function(){r&&r.resumeAd()},p.skip=function(){r&&r.skipAd()},p.close=function(){r&&"function"==typeof r.stopAd&&r.stopAd(),setTimeout(function(){try{n&&(document.body.removeChild(n),r=n=null)}catch(t){}},3e3)},p.getEvents=function(){var t,e=[];for(t in l)e.push(t);return e},p.updateGui=function(t){try{if("object"==typeof t)for(var e in t){var i=e.toLowerCase();n.contentWindow.AV_PlayerGui.config[i]=t[e],n.contentWindow.AV_PlayerGui.config[e]=t[e],"showTimeline"==e&&"function"==typeof n.contentWindow.AV_PlayerGui.showTimeline&&n.contentWindow.AV_PlayerGui.showTimeline(t[e])}}catch(t){}},p.resize=function(t,e,i){i=i||"normal",r&&r.resizeAd(Math.floor(t),Math.floor(e),i)},p.getAdDuration=function(){if(r)return r.getAdDuration()},p.getAdRemainingTime=function(){if(r)return r.getAdRemainingTime()},p.getAdVolume=function(){if(r)return r.getAdVolume()},p.setAdVolume=function(t){if(r)return r.setAdVolume(t)},p.seek=function(t){if(r)return r.seekAd(t)},p.getContentPaused=function(){if(r)return r.getContentPaused()},this.pauseContent=function(){if(r)return r.pauseContent()},this.resumeContent=function(){if(r)return r.resumeContent()},this.setContentVolume=function(t){if(r)return r.setContentVolume(t)},this.on=function(t,e,i){d.subscribe(e,t,i)},this.off=function(t,e,i){d.unsubscribe(e,t,i)},a=function(){var n=null,o=.5,a=null,s=!1,r=this;function i(){var t=r.getVieabilityInfo(a.el,a.wnd),e=t.vertical.value*t.horizontal.value,i=t.vertical.state;return{inView:o<e,ratio:e,state:i}}function l(){var t=i();n&&n(t.inView,t.ratio,t.state)}this.start=function(t,e,i){return!s&&(!!(a=function(t){var e,i,n=null;try{v.top.location.href;if(n=v.frameElement)for(var o,a=v;a!==v.top;){if((a=(o=n.ownerDocument).defaultView||o.parentWindow)===v.top){i=a,e=n;break}n=a.frameElement}}catch(t){return s=!0,null}if(null==n){if(!(e="object"==typeof t?t:document.getElementById(t)))return s=!0,null;i=v}return{el:e,wnd:i}}(t))&&(i&&(o=i),e&&(a.wnd.addEventListener("resize",l,!0),a.wnd.addEventListener("scroll",l,!0),n=e,setTimeout(l,10)),!0))},this.stop=function(){n&&(a.wnd.removeEventListener("resize",l,!0),a.wnd.removeEventListener("scroll",l,!0),n=null)},this.get=function(t,e){return!s&&a?i():{inView:!1,ratio:0,state:"UNKNOWN"}},this.getHorizontalViewability=function(t,e){var i=e.innerWidth,n=t.getBoundingClientRect().left,o=t.getBoundingClientRect().right,a=o-n;return i<n?{value:0,state:"OUT_RIGHT"}:o<=0?{value:0,state:"OUT_LEFT"}:0<=n&&o<=i?{value:1,state:"IN_HVIEW"}:n<0&&i<o?{value:i/a,state:"LR_TRUNC"}:n<0&&o<=i?{value:o/a,state:"L_TRUNC"}:0<=n&&i<o?{value:(i-n)/a,state:"R_TRUNC"}:{value:0,state:"OUT"}},this.getVerticalViewability=function(t,e){var i=e.innerHeight,n=t.getBoundingClientRect().top,o=t.getBoundingClientRect().bottom,a=o-n;return i<n?{value:0,state:"OUT_BOTTOM"}:o<=0?{value:0,state:"OUT_TOP"}:0<=n&&o<=i?{value:1,state:"IN_VVIEW"}:n<0&&i<o?{value:i/a,state:"BT_TRUNC"}:n<0&&o<=i?{value:o/a,state:"T_TRUNC"}:0<=n&&i<o?{value:(i-n)/a,state:"B_TRUNC"}:{value:0,state:"OUT"}},this.getVieabilityInfo=function(t,e){return{vertical:r.getVerticalViewability(t,e),horizontal:r.getHorizontalViewability(t,e)}}},this.startViewability=function(t,e,i){return(u=u||new a).start(t,e,i)},this.stopViewability=function(){u&&u.stop()},this.getViewability=function(){if(u)return u.get()},g=function(t,e,i){if(t)return h||(h=new a).start(t,e,i),h.get();h.stop()},s.noMuteOnBlur||(i={hidden:void 0,visibilityChange:void 0},void 0!==document.hidden?(i.hidden="hidden",i.visibilityChange="visibilitychange"):void 0!==document.webkitHidden?(i.hidden="webkitHidden",i.visibilityChange="webkitvisibilitychange"):void 0!==document.mozHidden?(i.hidden="mozHidden",i.visibilityChange="mozvisibilitychange"):void 0!==document.msHidden&&(i.hidden="msHidden",i.visibilityChange="msvisibilitychange"),i.hidden&&document.addEventListener(i.visibilityChange,function(t){document[i.hidden]&&p.mute()},!1)),c={addClass:function(t,e){t.style.cssText=e},setfloatingCSS:function(){s.floating.size||(s.floating.size=.5),s.floating.right||(s.floating.right=0),s.floating.bottom||(s.floating.bottom=0),this.floatingCSS="z-index:10000001;position:fixed; bottom:"+s.floating.bottom+"px; right:"+s.floating.right+"px; -webkit-transform:scale("+s.floating.size+"); -webkit-transform-origin:bottom right; transform:scale("+s.floating.size+"); transform-origin:bottom right"},getPlaceholderWidth:function(t){var e=t.parentNode||"BODY"!=t.parentNode.tagName?t.parentNode.clientWidth:document.body.clientWidth||screen.width;return 1020<e&&(e=1020),100!=s.width&&0!=s.height?e=s.width:(s.height=Math.floor(e/1.777),s.width=e),e},hidePlayer:function(t,e){t.style.width=this.getPlaceholderWidth(t)+"px",t.style.height="1px",e.style.position="absolute",e.style.top="-100000px"},showPlayer:function(t,e){t.style.height=s.height+"px",p.resize(s.width,s.height),e.style.top="",e.style.position="",e.style.zIndex="9999999"},startAd:function(t){this.playerInView&&this.playerLoadedFirstTime&&!this.startAdFirstTime&&(this.startAdFirstTime=!0,p.startAd(t))},startViewability:function(n){var o=this,t=!1;s.floting&&!s.floating&&(s.floating=s.floting),(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(t=!0),s.preloader||(s.preloader={});var a=document.querySelector("#"+s.position);o.addClass(n,"overflow:hidden; -webkit-transition:1s ease height; transition:1s ease height"),s.floating&&0<s.floating.size&&o.setfloatingCSS(),s.playOnView&&!s.autoPlay&&o.hidePlayer(n,a),p.on("AdLoaded",function(){o.playerLoadedFirstTime=!0,o.startAd()}),p.on("AdImpression",function(){s.preloader.type,o.showPlayer(n,a),s.unMuteOnMouseEnter&&!t&&(a.addEventListener("mouseenter",function(t){setTimeout(function(){p.unmute()},5)}),a.addEventListener("mouseleave",function(t){setTimeout(function(){p.mute()},5)})),s.pauseOnBlur&&!t&&v.addEventListener("blur",function(){setTimeout(function(){p.pause()},500)})}),p.on("AdVideoComplete",function(){s.lastFrame||s.preloader.type||o.hidePlayer(n,a)}),p.on("AdSkipped",function(){o.hidePlayer(n,a)}),p.on("AdClosed",function(){o.hidePlayer(n,a)}),p.on("AdError",function(t){var e=t&&t.errorlimit;s.preloader.type||s.passbackUrl?s.passbackUrl&&s.playOnView&&e&&o.showPlayer(n,a):o.hidePlayer(n,a)}),s.playOnView?p.startViewability(n,function(t,e,i){t?(s.preloader.type&&!o.playerInView&&0==s.Preroll&&o.showPlayer(n,a),o.playerInView=!0,p.playing||o.startAd(),(p.playing||""!=s.preloader.type&&s.preloader.type)&&(s.pauseOnUnseen&&p.resume(),o.addClass(a,""))):(p.playing||""!=s.preloader.type&&s.preloader.type)&&("OUT_TOP"===i&&s.floating&&o.addClass(a,o.floatingCSS),s.pauseOnUnseen&&p.pause())},.5):(o.startAdFirstTime=!1,o.playerInView=!0,o.playerLoadedFirstTime=!0,o.startAd(),o.showPlayer(n,a))}},p.startTemplate=function(t){c.startViewability(t)}}}(window),function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}"function"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,window.CustomEvent=t)}(),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={});var e=t.com.aniview.player.EventListener=function(){this.listeners={}};e.prototype.listeners=null,e.prototype.event=function(t,e){var i=new CustomEvent(t,{});i.data=e,this.dispatchEvent(i)},e.prototype.addEventListener=function(t,e,i){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push({callback:e,context:i})},e.prototype.removeEventListener=function(t,e){if(t in this.listeners)for(var i=this.listeners[t],n=0,o=i.length;n<o;n++)if(i[n]===e)return i.splice(n,1),this.removeEventListener(t,e)},e.prototype.dispatchEvent=function(t){if(t.type in this.listeners)for(var e=this.listeners[t.type],i=0,n=e.length;i<n;i++){var o=e[i].context;void 0===o&&(o=this);try{e[i].callback.call(o,t,t.data)}catch(t){}}}}(window),function(t){var e,i,n;function a(){}e=t.aniview||(t.aniview={}),i=e.utils||(e.utils={}),a.clone=function(t){if(null==t||"object"!=typeof t)return t;var e,i=t.constructor();for(e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i},a.isMergeableObject=function(t){return t&&"object"==typeof t&&"[object RegExp]"!==Object.prototype.toString.call(t)&&"[object Date]"!==Object.prototype.toString.call(t)},a.emptyTarget=function(t){return Array.isArray(t)?[]:{}},a.cloneIfNecessary=function(t,e){return e&&!0===e.clone&&a.isMergeableObject(t)?a.deepmerge(emptyTarget(t),t,e):t},a.defaultArrayMerge=function(i,t,n){var o=i.slice();return t.forEach(function(t,e){void 0===o[e]?o[e]=a.cloneIfNecessary(t,n):a.isMergeableObject(t)?o[e]=a.deepmerge(i[e],t,n):-1===i.indexOf(t)&&o.push(a.cloneIfNecessary(t,n))}),o},a.mergeObject=function(e,i,n){if(null==i||null==e)return e;var o={};return a.isMergeableObject(e)&&Object.keys(e).forEach(function(t){o[t]=a.cloneIfNecessary(e[t],n)}),Object.keys(i).forEach(function(t){a.isMergeableObject(i[t])&&e[t]?o[t]=a.deepmerge(e[t],i[t],n):o[t]=a.cloneIfNecessary(i[t],n)}),o},a.deepmerge=function(t,e,i){var n=Array.isArray(e),o=(i||{arrayMerge:a.defaultArrayMerge}).arrayMerge||a.defaultArrayMerge;return n?Array.isArray(t)?o(t,e,i):a.cloneIfNecessary(e,i):a.mergeObject(t,e,i)},a.deepmergeall=function(t,i){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce(function(t,e){return a.deepmerge(t,e,i)})},n=a,i.ObjectUtils=n}(com=com||{}),function(m){"use strict";m.com||(m.com={}),m.com.aniview||(m.com.aniview={}),m.com.aniview.player||(m.com.aniview.player={});var a=m.com.aniview.player.Utils={};a.extendsClass=function(t,e){function i(){}i.prototype=e.prototype,t.prototype=new i},a.getPath=function(t){return t&&-1!=t.indexOf("?")&&(t=t.split("?").shift()),t},a.clone=function(t,e){if(null==t||"object"!=typeof t)return t;var i,n=t.constructor();for(i in t)t.hasOwnProperty(i)&&(n[i]=e&&0<e?a.clone(t[i],e-1):t[i]);return n},a.getExtension=function(t){return(t=a.getPath(t))&&-1!=t.indexOf(".")?t.split(".").pop().toLowerCase():null},a.isOneVideoElement=function(){var t=this.getOS();return"webos"===t||"tizen"===t&&"4"===this.getOSVersion().major},a.isMobile=function(){return!!this.isOneVideoElement()||(this._isMobile||(t=!1,e=navigator.userAgent||navigator.vendor||m.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),this._isMobile=t),this._isMobile);var t,e},a.getBrowser=function(){return this._browser||(-1!=navigator.userAgent.toLowerCase().indexOf("chrome")&&-1!=navigator.vendor.toLowerCase().indexOf("google")?this._browser="chrome":-1!=navigator.userAgent.toLowerCase().indexOf("opera")?this._browser="opera":-1!=navigator.userAgent.toLowerCase().indexOf("firefox")?this._browser="firefox":-1!=navigator.userAgent.toLowerCase().indexOf("safari")||navigator.vendor&&-1!=navigator.vendor.toLowerCase().indexOf("apple")?this._browser="safari":-1!=navigator.userAgent.toLowerCase().indexOf("msie")||1==!!document.documentMode?this._browser="ie":-1!=navigator.userAgent.toLowerCase().indexOf("mozilla")&&(this._browser="edge")),this._browser},a.logLevel=0,a.LOG_LEVEL={DEBUG:3,INFO:2,ERR:1},a.log=function(t,e){if((e=e||a.LOG_LEVEL.INFO)<=a.logLevel){var i=new Date,n="avcp::["+i.getHours()+":"+(i.getMinutes()<10?"0":"")+i.getMinutes()+":"+(i.getSeconds()<10?"0":"")+i.getSeconds()+"] "+t;switch(e){case a.LOG_LEVEL.DEBUG:console.debug?console.debug(n):console.log(n);break;case a.LOG_LEVEL.INFO:console.info(n);break;case a.LOG_LEVEL.ERR:console.error(n)}}},a.getOS=function(){return this._os||(-1!==navigator.appVersion.toLowerCase().indexOf("android")?this._os="android":-1!==navigator.appVersion.toLowerCase().indexOf("mac")&&/iPad|iPhone|iPod/.test(navigator.userAgent)?this._os="ios":-1!==navigator.appVersion.toLowerCase().indexOf("win")?this._os="windows":-1!==navigator.appVersion.toLowerCase().indexOf("mac")?this._os="mac":-1!==navigator.appVersion.toLowerCase().indexOf("x11")?this._os="unix":-1!==navigator.appVersion.toLowerCase().indexOf("web0s")||-1!==navigator.appVersion.toLowerCase().indexOf("webos")?this._os="webos":-1!==navigator.appVersion.toLowerCase().indexOf("tizen")?this._os="tizen":-1!==navigator.appVersion.toLowerCase().indexOf("linux")?this._os="linux":this._os=""),this._os},a.getOSVersion=function(){var t,e=navigator.userAgent.toLowerCase().split(" "),i=null,n=0,o=0;return"tizen"===this.getOS()?-1!==(t=e.indexOf("tizen"))&&(n=(i=e[t+1].split("."))[0]):-1!==(t=e.indexOf("os"))&&(n=(i=e[t+1].split("_"))[0],o=i[1]),{major:n,minor:o}},a.getChromeVersion=function(){var t=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return!!t&&parseInt(t[2],10)},a.httpsReplace=function(t){return"https:"==a.getProtocol()&&(t=(t=(t=t.replace("data1.ani-view.com","gbdl.hs.llnwd.net/v1")).replace("data1.aniview.com","aniview.hs.llnwd.net/d1")).replace(/^http:\/\//i,"https://")),t},a.getProtocol=function(){if(void 0!==a.protocol)return a.protocol;if("http:"==m.location.protocol||"https:"==m.location.protocol)a.protocol=m.location.protocol,a.topWindow=m;else{var t=m,e=t.location.protocol,i=0;try{for(;"http:"!=e&&"https:"!=e&&i<15&&t!==t.parent;)e=(t=t.parent).location.protocol,i++}catch(t){}"http:"==e||"https:"==e?(a.protocol=e,a.topWindow=t):a.protocol="https:"}return a.protocol},a.shuffleArray=function(t,e){var i=t.length;if(e=e||0,i)for(;i!=e&&i--;){var n=Math.floor(Math.random()*(t.length-1)+e),o=t[n];t[n]=t[i],t[i]=o}},a.loadScript=function(t,e){var i=document.createElement("script");i.src=t,i.onload=e,document.getElementsByTagName("head")[0].appendChild(i)},a.fastHash=function(t){var e,i=0;if(0===t.length)return i;for(e=0;e<t.length;e++)i=(i<<5)-i+t.charCodeAt(e),i|=0;return i<0&&(i+=4294967295),i},a.generateRandomString=function(){return this.fastHash(Math.random()+""+Date.now())},a.parseInt=function(t,e,i){return t=parseInt(t),isNaN(t)&&(t=0),t<e?t=e:i<t&&(t=i),t};var n,i=null;a.requestAnimationFrame=function(t,e){(i=i||(m.requestAnimationFrame||m.webkitRequestAnimationFrame||m.mozRequestAnimationFrame||m.oRequestAnimationFrame||m.msRequestAnimationFrame||function(t,e){setTimeout(t,1e3/60)}))(t,e)},a.fullscreenEnabled=function(){var t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||this.fixedFullScreenElement;if(this.fsels&&(this.fsels.content==t||this.fsels.ad==t||this.fsels.container==t))return t},a.setFullScreenElements=function(t){this.fsels=t},a.isFullscreenApiEnabled=function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled},a.requestFullScreenFixed=function(t,e){if(e){if(this.fsPrev)return;this.fsPrev={position:t.style.position,top:t.style.top,left:t.style.left,width:t.style.width,height:t.style.height,zIndex:t.style.zIndex,bodyMargin:t.ownerDocument.body.style.margin},t.style.position="fixed",t.style.top="0px",t.style.left="0px";var i=a.getDeviceDimensionsBasedOnOrientation();t.style.width=i.width,t.style.height=i.height,t.style.zIndex="2147483647",t.ownerDocument.body.style.margin="0",this.fixedFullScreenElement=t}else{if(!this.fsPrev)return;(t=this.fixedFullScreenElement).style.position=this.fsPrev.position,t.style.top=this.fsPrev.top,t.style.left=this.fsPrev.left,t.style.width=this.fsPrev.width,t.style.height=this.fsPrev.height,t.style.zIndex=this.fsPrev.zIndex,t.ownerDocument.body.style.margin=this.fsPrev.bodyMargin,this.fsPrev=null,this.fixedFullScreenElement=null}},a.requestFullscreen=function(t){var e,i,n;this.isFullscreenApiEnabled()?(t.requestFullscreen?(e="fullscreenerror",i="requestFullscreen"):t.mozRequestFullScreen?(e="mozfullscreenerror",i="mozRequestFullScreen"):t.webkitRequestFullscreen?(e="webkitfullscreenerror",i="webkitRequestFullscreen"):t.webkitEnterFullscreen?(e="webkitfullscreenerror",i="webkitEnterFullscreen"):t.msRequestFullscreen?(e="MSFullscreenError",i="msRequestFullscreen"):this.requestFullScreenFixed(t,!0),e&&(n=this,t.addEventListener(e,function(){n.requestFullScreenFixed(t,!0)}),t[i]())):this.requestFullScreenFixed(t,!0)},a.cancelFullscreen=function(){this.requestFullScreenFixed(null,!1),document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},a.getFullScreenChangeEvent=function(){var t=document;return t.exitFullscreen?"fullscreenchange":t.webkitExitFullscreen||t.webkitCancelFullScreen?"webkitfullscreenchange":t.mozCancelFullScreen?"mozfullscreenchange":t.msExitFullscreen?"MSFullscreenChange":null},a.getWindowWidth=function(){return m.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},a.getWindowHeight=function(){return m.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},a.isResponsiveLayout=function(t,e){return 100==t&&0==e},a.getDeviceDimensionsBasedOnOrientation=function(){function t(){for(var t=1/0,e=0;e<arguments.length;e++)arguments[e]&&arguments[e]<t&&100<arguments[e]&&(t=arguments[e]);return t}var e,i,n=t(screen.clientWidth,screen.availWidth,screen.width,document.documentElement.clientWidth),o=t(screen.clientHeight,screen.availHeight,screen.height,document.documentElement.clientHeight,document.body?document.body.clientHeight:0),a=m.orientation&&90!==m.orientation&&-90!==m.orientation?(e=o*(i=document.documentElement.clientWidth/o),n*i):(e=n*(i=document.documentElement.clientWidth/n),o*i);return{width:e,height:a}},a.__extends=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});a.viewabilityProto=function(s,r){var a=null,l=.5,d=null,p=!1,c=this,u="hidden",h="visibilitychange",g="visibilityState";function i(){var t,e=d.iframe?d.baseEl:null,i=c.getVieabilityInfo(d.el,d.wnd,e),n=i.vertical.value*i.horizontal.value,o=i.vertical.state,a=i.vertical.diff;return r&&(t=s?s.document:null,r&&t&&t[g]===u)&&(n=0,o="OUT_TAB"),{inView:l<=n,ratio:n,state:o,distance:i.vertical.distance,diff:a}}function v(t){var e=i();a&&a(e.inView,e.ratio,e.state,e.distance,t)}void 0===document.hidden&&(void 0!==document.msHidden?(u="msHidden",h="msvisibilitychange",g="msVisibilityState"):void 0!==document.webkitHidden?(u="webkitHidden",h="webkitvisibilitychange",g="webkitVisibilityState"):void 0!==document.mozHidden&&(u="mozHidden",h="mozvisibilitychange",g="mozVisibilityState")),this.checkViewability=function(){v()},this.start=function(t,e,i,n){return!p&&(!!(d=function(t,e){var i,n,o=null,a="object"==typeof t?t:document.getElementById(t);try{m.top.location.href;if(o=m.frameElement)for(var s,r=m;r!==m.top;){if((r=(s=o.ownerDocument).defaultView||s.parentWindow)===m.top){n=r,i=o;break}o=r.frameElement}}catch(t){return p=!0,null}if(null==o){if(!(i=a))return p=!0,null;n=m}return{el:i,wnd:n,baseEl:a,iframe:!(null==o)&&e}}(t,n))&&(i&&(l=1<i?i/100:i),e&&(d.wnd.addEventListener("resize",v,!0),d.wnd.addEventListener("scroll",v,!0),r&&d.wnd.document.addEventListener(h,v),d.wnd.addEventListener("orientationchange",v,!0),o=com.aniview.player.Utils.getFullScreenChangeEvent(),d.wnd.document.addEventListener(o,v,!0),a=e,setTimeout(v,10)),!0));var o},this.stop=function(){a&&(d.wnd.removeEventListener("resize",v,!0),d.wnd.removeEventListener("scroll",v,!0),d.wnd.removeEventListener("orientationchange",v,!0),a=null)},this.get=function(t,e){return!p&&d?i():{inView:!1,ratio:0,state:"UNKNOWN"}},this.getHorizontalViewability=function(t,e){var i=e.innerWidth,n=t.getBoundingClientRect().left,o=t.getBoundingClientRect().right,a=o-n;return i<n?{value:0,state:"OUT_RIGHT"}:o<=0?{value:0,state:"OUT_LEFT"}:0<=n&&o<=i?{value:1,state:"IN_HVIEW"}:n<0&&i<o?{value:i/a,state:"LR_TRUNC"}:n<0&&o<=i?{value:o/a,state:"L_TRUNC"}:0<=n&&i<o?{value:(i-n)/a,state:"R_TRUNC"}:{value:0,state:"OUT"}},this.getVerticalViewability=function(t,e,i){var n=e.innerHeight,o=t.getBoundingClientRect().top,a=t.getBoundingClientRect().bottom,s=a-o;return i&&(s=(a=(o+=i.getBoundingClientRect().top)+(i.getBoundingClientRect().bottom-i.getBoundingClientRect().top))-o),n<o?{value:0,state:"OUT_BOTTOM",out:-1,diff:o-n}:a<=0?{value:0,state:"OUT_TOP",out:-1,diff:a}:0<=o&&a<=n?{value:1,state:"IN_VVIEW",out:0,distance:n-o,diff:0}:o<0&&n<a?{value:n/s,state:"BT_TRUNC",out:-o+a-n,diff:0}:o<0&&a<=n?{value:a/s,state:"T_TRUNC",out:-o,diff:0}:0<=o&&n<a?{value:(n-o)/s,state:"B_TRUNC",out:a-n,diff:0}:{value:0,state:"OUT",out:-1,diff:-1e4}},this.getVieabilityInfo=function(t,e,i){return{vertical:c.getVerticalViewability(t,e,i),horizontal:c.getHorizontalViewability(t,e,i)}}},a.getEl=function(t){return"object"==typeof t?t:document.getElementById(t)},a.startViewability=function(t,e,i,n){var o=this.getEl(t);return o.avViewability||(o.avViewability=new a.viewabilityProto(m,n)),o.avViewability.start(o,e,i)},a.stopViewability=function(t){var e=this.getEl(t);e.avViewability&&e.avViewability.stop()},a.getViewability=function(t){var e=this.getEl(t);if(e.avViewability)return e.avViewability.get()},a.setIniFloatingPropertyX=function(t){this.floatingDocStyle.setProperty("--floatIniX",t.toString()+"px")},a.setIniFloatingPropertyY=function(t){this.floatingDocStyle.setProperty("--floatIniY",t.toString()+"px")},a.setFinFloatingPropertyX=function(t){this.floatingDocStyle.setProperty("--floatFinalX",t.toString()+"px")},a.setFinFloatingPropertyY=function(t){this.floatingDocStyle.setProperty("--floatFinalY",t.toString()+"px")},a.setFloatingProperty=function(t,e){this.setFinFloatingPropertyX(t),this.setFinFloatingPropertyY(e)},a.setFloatingAnimateProperty=function(t,e,i,n){this.setIniFloatingPropertyX(t),this.setIniFloatingPropertyY(e),this.setFinFloatingPropertyX(i),this.setFinFloatingPropertyY(n)};var p=!(a.animateReturnPlayer=function(t,e){var i,n=t.parentElement.getBoundingClientRect(),o=document.documentElement.clientWidth-n.right,a=e.floating.position.includes("bottom")?(i=e.floating.bottom||0,document.documentElement.clientHeight-n.bottom):(i=e.floating.top||0,n.top),s=e.floating.position.includes("right")?e.floating.right:e.floating.left;this.setFloatingAnimateProperty(s,i,o,a),this.floatingDocStyle.setProperty("--floatScale",e.floating.size.toString());var r="animation-duration:"+e.floating.animationDurationMS+"ms; animation-fill-mode: forwards;";switch(e.floating.position){case"bottom-left":r+="-webkit-transform-origin:bottom left; transform-origin:bottom left; animation-name:av-floating-back-bottom-left;";break;case"top-left":r+="-webkit-transform-origin:top left; transform-origin:top left; animation-name:av-floating-back-top-left;";break;case"top-right":r+="-webkit-transform-origin:top right; transform-origin:top right; animation-name:av-floating-back-top-right;";break;case"bottom-right":r+="-webkit-transform-origin:bottom right; transform-origin:bottom right; animation-name:av-floating-back-bottom-right;"}return r});a.setFloating=function(t,e,i,n,o,a){var s,r,l,d;e?((i.floating.floatOnBottom||"T_TRUNC"!==n&&"OUT_TOP"!==n)&&!i.floating.floatOnBottom||(i.floating.animate?(t.style.cssText="",s=null,r=0,r=i.floating.position.includes("bottom")?(s=document.documentElement.clientHeight-t.getBoundingClientRect().bottom,i.floating.bottom||0):(s=t.getBoundingClientRect().top,i.floating.top||0),l=document.documentElement.clientWidth-t.getBoundingClientRect().right,d=i.floating.position.includes("right")?i.floating.right||0:i.floating.left||0,this.setFloatingAnimateProperty(l,s,d,r),this.floatingDocStyle.setProperty("--floatScale",i.floating.size.toString())):i.floating.resize&&a(i.width*i.floating.size,i.height*i.floating.size,!0),t.style.cssText=i.floatingCSS,p=!0),t.classList.add("av-floating")):(!p||!i.floating.animate||!i.floating.floatOnBottom&&!o||!t.parentElement||t.parentElement.getBoundingClientRect().bottom>=t.getBoundingClientRect().bottom&&!i.floating.floatOnBottom&&i.floating.position.includes("bottom")||t.parentElement.getBoundingClientRect().bottom>=t.getBoundingClientRect().bottom+t.clientHeight&&!i.floating.floatOnBottom?(t.style.cssText="",i.floating.resize&&a()):t.style.cssText=this.animateReturnPlayer(t,i),t.classList.remove("av-floating"))},a.isFloating=function(t){return t&&t.floating&&0<t.floating.size},a.setFloatingCSS=function(t){if(!t.floatingCSS)if(t.floating.floatingCSS)t.floating=t.floating.floatingCSS;else{var e,i;switch(t.floating.right||(t.floating.right=0),t.floating.left||(t.floating.left=0),t.floating.top||(t.floating.top=0),t.floating.bottom||(t.floating.bottom=0),t.floating.position||(t.floating.position="bottom-right"),!t.floating.animate||null===(e=document.getElementsByTagName("head")[0]).querySelector("#av_animate_css")&&((i=document.createElement("style")).type="text/css",i.id="av_animate_css",i.appendChild(document.createTextNode("{--floatScale;--floatIniX;--floatIniY;--floatFinalX;--floatFinalY;}@keyframes av-floating-away-bottom-right{0%{bottom:var(--floatIniY); right:var(--floatIniX); -webkit-transform-origin:bottom right;}100%{transform: scale(var(--floatScale)); -webkit-transform-origin:bottom right; bottom: var(--floatFinalY); right: var(--floatFinalX);}}@keyframes av-floating-away-top-right{0%{top:var(--floatIniY); right:var(--floatIniX); -webkit-transform-origin:top right;}100%{transform: scale(var(--floatScale)); -webkit-transform-origin:top right; top: var(--floatFinalY); right: var(--floatFinalX);}}@keyframes av-floating-away-bottom-left{0%{bottom:var(--floatIniY); right:var(--floatIniX); -webkit-transform-origin:bottom left;}100%{transform: scale(var(--floatScale)); -webkit-transform-origin:bottom left; bottom: var(--floatFinalY); right: var(--floatFinalX);}}@keyframes av-floating-away-top-left{0%{top:var(--floatIniY); right:var(--floatIniX); -webkit-transform-origin:top left;}100%{transform: scale(var(--floatScale)); -webkit-transform-origin:top left; top: var(--floatFinalY); right: var(--floatFinalX);}}@keyframes av-floating-back-bottom-left{0%{ bottom: var(--floatIniY); left:var(--floatIniX);transform: scale(var(--floatScale)); position: fixed}98%{bottom:var(--floatFinalY); right:var(--floatFinalX); transform: scale(1); position: fixed}100%{position: static;}}@keyframes av-floating-back-top-left{0%{ top: var(--floatIniY); left:var(--floatIniX);transform: scale(var(--floatScale)); position: fixed}98%{top:var(--floatFinalY); right:var(--floatFinalX); transform: scale(1); position: fixed}100%{position: static;}}@keyframes av-floating-back-top-right{0%{ top: var(--floatIniY); right:var(--floatIniX);transform: scale(var(--floatScale)); position: fixed}98%{top:var(--floatFinalY); right:var(--floatFinalX); transform: scale(1); position: fixed}100%{position: static;}}@keyframes av-floating-back-bottom-right{0%{ bottom: var(--floatIniY); right:var(--floatIniX);transform: scale(var(--floatScale)); position: fixed}98%{bottom:var(--floatFinalY); right:var(--floatFinalX); transform: scale(1); position: fixed}100%{position: static;}}}")),e.appendChild(i)),t.floating.animate&&!t.floating.animationDurationMS&&(t.floating.animationDurationMS=750),this.floatingDocStyle=document.getElementById(t.position).style,t.floating.position){case"bottom-left":case"bottom":t.floatingCSS="bottom:"+t.floating.bottom+"px; left:"+t.floating.left+"px; -webkit-transform-origin:bottom left; transform-origin:bottom left;",t.floating.animate&&(t.floatingCSS+=" animation-name: av-floating-away-bottom-left;",this.setFloatingProperty(t.floating.left,t.floating.bottom));break;case"top-left":case"top":t.floatingCSS="top:"+t.floating.top+"px; left:"+t.floating.left+"px; -webkit-transform-origin:top left; transform-origin:top left;",t.floating.animate&&(t.floatingCSS+=" animation-name: av-floating-away-top-left;",this.setFloatingProperty(t.floating.left,t.floating.top));break;case"top-right":t.floatingCSS="top:"+t.floating.top+"px; right:"+t.floating.right+"px; -webkit-transform-origin:top right; transform-origin:top right;",t.floating.animate&&(t.floatingCSS+=" animation-name: av-floating-away-top-right;",this.setFloatingProperty(t.floating.right,t.floating.top));break;case"bottom-right":t.floatingCSS="bottom:"+t.floating.bottom+"px; right:"+t.floating.right+"px; -webkit-transform-origin:bottom right; transform-origin:bottom right;",t.floating.animate&&(t.floatingCSS+=" animation-name: av-floating-away-bottom-right;",this.setFloatingProperty(t.floating.right,t.floating.bottom))}t.floating.resize?t.floatingCSS+="z-index:10000001;position:fixed;":t.floating.animate?t.floatingCSS+=" animation-duration:"+t.floating.animationDurationMS+"ms; z-index:10000001;position:fixed; animation-fill-mode:forwards; transition: width 20s, height 20s;":t.floatingCSS+="z-index:10000001;position:fixed; transform:scale("+t.floating.size+"); -webkit-transform:scale("+t.floating.size+");"}},a.isSticky=function(t){return t&&t.sticky&&0<t.sticky.size},a.setStickyCSS=function(t,e){if(!e.stickyCSS){if(e.sticky.floatingCSS)e.sticky=e.sticky.floatingCSS;else switch(e.sticky.right||(e.sticky.right=0),e.sticky.left||(e.sticky.left=0),e.sticky.top||(e.sticky.top=0),e.sticky.bottom||(e.sticky.bottom=0),e.sticky.position||(e.sticky.position="bottom-right"),e.sticky.position){case"bottom-right":e.stickyCSS="z-index:10000001;position:fixed; bottom:"+e.sticky.bottom+"px; right:"+e.sticky.right+"px; -webkit-transform:scale("+e.sticky.size+"); -webkit-transform-origin:bottom right; transform:scale("+e.sticky.size+"); transform-origin:bottom right";break;case"bottom-left":case"bottom":e.stickyCSS="z-index:10000001;position:fixed; bottom:"+e.sticky.bottom+"px; left:"+e.sticky.left+"px; -webkit-transform:scale("+e.sticky.size+"); -webkit-transform-origin:bottom left; transform:scale("+e.sticky.size+"); transform-origin:bottom left";break;case"top-left":case"top":e.stickyCSS="z-index:10000001;position:fixed; top:"+e.sticky.top+"px; left:"+e.sticky.left+"px; -webkit-transform:scale("+e.sticky.size+"); -webkit-transform-origin:top left; transform:scale("+e.sticky.size+"); transform-origin:top left";break;case"top-right":e.stickyCSS="z-index:10000001;position:fixed; top:"+e.sticky.top+"px; right:"+e.sticky.right+"px; -webkit-transform:scale("+e.sticky.size+"); -webkit-transform-origin:top right; transform:scale("+e.sticky.size+"); transform-origin:top right"}t.style.cssText=e.stickyCSS,t.classList.add("av-sticky")}},a.getTrueDomain=function(){try{return function(){var t=null;try{var i=function(t){var e,i=[];do{try{e=e?e.parent:m,t.call(null,e,i)}catch(t){return i.push({referrer:null,location:null,isTop:!1}),i}}while(e!==m.top);return i}(function(e,i){try{i.push({referrer:e.document.referrer||null,location:e.location.href||null,isTop:e===m.top})}catch(t){i.push({referrer:null,location:null,isTop:e===m.top})}});!function(t){try{if(!m.location.ancestorOrigins)return;for(var e=0,i=m.location.ancestorOrigins.length;e<i;e++)t.call(null,m.location.ancestorOrigins[e],e)}catch(t){}}(function(t,e){i[e].ancestor=t});for(var t="",e=(i.length,i.length-1);0<=e;e--)if(!(t=i[e].location)&&0<e&&(t=(t=i[e-1].referrer)||i[e-1].ancestor),t){!!m.location.ancestorOrigins||e==i.length-1&&i[i.length-1].isTop;break}}catch(t){}return t}()}catch(t){return null}},a.logOnPlayer=function(t,e){var i=document.getElementById("player-in-log");i||(t.changeGUI({customHtml:'<div id="player-funnel-wrapper"><div id="player-in-log" style="white-space:pre;height:150px;overflow-y:auto;background-color:lightgray;width:300px;padding:2px;border:1px solid black;"></div></div>'}),i=document.getElementById("player-in-log")),i&&(i.textContent+=e+"\r\n",i.scrollTop=i.scrollHeight)},a.getHostName=function(t){try{t=decodeURIComponent(t),t=decodeURIComponent(t),t=decodeURIComponent(t)}catch(t){}function e(t){return void 0===t||null==t||""==(t=t.trimStr())?"":function(t){if(void 0===t||null==t)return"";if(""==(t=t.trimStr()))return"";var e,i;if(-1<t.indexOf("://"))if(-1<(i=t.split("://"))[0].indexOf("/")||-1<i[0].indexOf(".")||-1<i[0].indexOf("?")||-1<i[0].indexOf("&")){if(i[0]=i[0].trimStr(),0!=i[0].indexOf("//"))return"";e=i[0].split("//")[1].split("/")[0].trimStr().split("?")[0].split("&")[0]}else i[1]=i[1].trimStr(),e=i[1].split("/")[0].trimStr().split("?")[0].split("&")[0];else e=0==t.indexOf("//")?t.split("//")[1].split("/")[0].trimStr().split("?")[0].split("&")[0]:t.split("/")[0].trimStr().split("?")[0].split("&")[0];return e}(t).split(":")[0]}return String.prototype.trimStr=function(){return this.replace(/^\s+|\s+$/g,"")},e(t)},a.checkNativeVideo=function(e){var t=document.createElement("video");t.src="data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",t.setAttribute("playsinline",!0),t.setAttribute("webkit-playsinline",!0),t.style.display="none",t.muted=!0;var i=t.play(),n=!1;i?(i.then(function(){n||e("ok"),n=!0}).catch(function(t){n||e("error"),n=!0}),setTimeout(function(){n||e("maybe"),n=!0},1e4)):e("maybe")}}(window),function(b){"use strict";b.com||(b.com={}),b.com.aniview||(b.com.aniview={}),b.com.aniview.player||(b.com.aniview.player={});var w={contentCap:0,playerCap:0,contentImp:0,playerImp:0,setPlayerCap:function(t){this.playerCap=t||0},setContentCap:function(t){this.contentCap=t||0,this.contentImp=0},isContentCap:function(){return 0<this.contentCap&&this.contentImp>=this.contentCap},isPlayerCap:function(){return 0<this.playerCap&&this.playerImp>=this.playerCap},isCap:function(){return this.isContentCap()||this.isPlayerCap()},getCap:function(){return{content:this.isContentCap(),player:this.isPlayerCap()}},inc:function(){return this.contentImp++,this.playerImp++,this.isCap()}},i=0,C=b.com.aniview.player.AdsController=function(t,e){var i=this;return i.listeners={},i.preloadAdTime=t.config.content.slotTimeout,i.startAdTimeout=t.config.content.startAdTimeout,i.nextAdTimeout=t.config.content.podTimeout,i.container=document.createElement("div"),i.container.id="ads_"+com.aniview.player.Utils.generateRandomString(),i.noAdsOnContentPause=t.config.noAdsOnContentPause,i.container.style.width="100%",i.container.style.height="100%",i.slotX=null,i.abk=!1,i.content=t,i.adConfig=com.aniview.utils.ObjectUtils.clone(i.content.config.adConfig),i.breakingAds=e,i.breakingAds||i.content.config.content.breakingAdsMode===C.BreakingAdsModes.onePlayer?i.breakingAdsMode=i.content.config.content.breakingAdsMode&&i.content.config.content.breakingAdsMode.length?i.content.config.content.breakingAdsMode:C.BreakingAdsModes.default:i.breakingAdsMode=C.BreakingAdsModes.default,i.breakingAds&&(i.breakingAdsStart=isNaN(i.content.config.content.breakingAdsStart)?0:i.content.config.content.breakingAdsStart),i.state=C.stateEnum.none,i.playState=i.content.playStateEnum.none,w.setPlayerCap(i.content.config.content.impCap||0),["run","done","start","pauseSlotTimeout"].forEach(function(t){var e=i[t+"_"+i.breakingAdsMode];e&&(i[t]=e)}),this};C.aEvents={},C.stateEnum={adLoaded:"adloaded",startAd:"startAd",progress:"progress",none:"none",done:"done",playing:"playing",stopAll:"stopAll",impressionCapped:"impressionCapped"},C.BreakingAdsModes={default:"default",keepGoing:"kg",oneSession:"os",onePlayer:"op"};var e=null,x=b.com.aniview.player.Utils,E={player:{},isFirstAd:!0,skip:0};C.getEvents=function(){var t;return null===e&&b.com&&b.com.aniview&&b.com.aniview.player&&b.com.aniview.player.avPlayer&&(t=new b.com.aniview.player.avPlayer({}),e=t.getEvents()),e},e=C.getEvents();for(var t=0;t<e.length;t++){var n=e[t];C.aEvents[n]=n}C.prototype.container=null,C.prototype.slots=null,C.prototype.content=null,C.prototype.setRef1=function(t,e,i){t.ref1||(t.ref1=""),"string"==typeof t.ref1?t.ref1=t.ref1+"&"+e+"="+i:"object"==typeof t.ref1&&(t.ref1[e]=""+i)},C.prototype.setSlotX=function(t){var e=null;(this.slotX=t)&&(t.selected=!0,t.sid=++i,t.adsCount=0,e=t.time),this.log("setSlotX, time: "+e+" id: "+i)},C.prototype.run_op=function(t,e,i,n,o,a){var s=(a=a||{}).waitForAdsReset;if(this.canStartOnView=this.canStartOnView||a.inView,this.state!==C.stateEnum.stopAll&&!w.isCap()&&!this.abk)if(null!=b.com.aniview.player.avPlayer){if(0!=this.content.active){this.slots||(this.slots=[]),i=!1;var r=this,l=Math.round(t||0);this.failedOnPreroll,this.failedOnPreroll=!1;if(r.state!==C.stateEnum.startAd&&this.slotX&&l>this.slotX.time+(this.slotX.timeout||10)&&(r.slotX=null),null==r.slotX)for(var d=0;d<this.slots.length;d++){var p=this.slots[d];if(p&&!p.selected&&(-1==p.time&&0<e&&(p.time=e),0<=p.time)){var c=Math.max(p.time-p.preloadAdTime,0);if(l<=p.time&&c<=l){r.state==C.stateEnum.none&&r.setState(C.stateEnum.progress),r.load(p,r.content.getWidth(),r.content.getHeight()),r.setSlotX(p);break}}}return r.slotX?(0==r.slotX.time&&(i=!0),r.state==C.stateEnum.progress||(r.state==C.stateEnum.adLoaded?(r.slotX.time==l||0!==r.slotX.time&&Math.abs(r.slotX.time==l)<5)&&r.start(r.slotX):r.state==C.stateEnum.done||(r.state,C.stateEnum.startAd)),s&&r.slotX.timeoutFunc&&this.startSlotTimeout(r.slotX,1e3*r.slotX.nextAdTimeout||5e3)):this.errorLimit&&s&&setTimeout(function(){r.done(!1,!1,C.aEvents.AdTimeout)},1),this.preload=o&&i,!!i&&"preroll"}}else i&&(this.failedOnPreroll=!0)},C.prototype.run=function(t,e,i,n,o,a){a=a||{};if(this.canStartOnView=this.canStartOnView||a.inView,this.state!==C.stateEnum.stopAll&&!w.isCap()&&!this.abk)if(null!=b.com.aniview.player.avPlayer){if(0!=this.content.active){this.slots||(this.slots=[]),i=!1;var s,r,l=this,d=Math.round(t),p=Math.round(e),c=this.failedOnPreroll&&0===d;if(this.failedOnPreroll=!1,l.state==C.stateEnum.none){if(this.breakingAds){var u=isNaN(d)?0:d,h={time:0<u?u+this.breakingAds:this.breakingAdsStart,type:"ad",adConfig:l.content.config.adConfig,adType:"ba"};if(this.breakingAdsMode!==C.BreakingAdsModes.keepGoing&&this.breakingAdsMode!==C.BreakingAdsModes.oneSession||(h.adConfig.loop=!0,isNaN(this.breakingAds)||(h.adConfig.midrolltime=+this.breakingAds)),this.breakingAdsMode===C.BreakingAdsModes.keepGoing||this.breakingAdsMode===C.BreakingAdsModes.oneSession)this.slots=[];else for(var g=this.slots.length-1;0<=g;g--)0!==this.slots[g].time&&this.slots.splice(g,1);this.slots.length||this.slots.push(h)}for(g=0;g<this.slots.length;g++){var v=this.slots[g],m=this.getSlotTimeout(v);if(v){if(v.adConfig||(v.adConfig={}),this.breakingAds&&0!==v.time){l.setState(C.stateEnum.progress),l.load(v,l.content.getWidth(),l.content.getHeight()),l.setSlotX(v);break}if(0==v.time&&(isNaN(d)||c)){this.setState(C.stateEnum.progress),l.setSlotX(v),l.timeout=v.timeout+v.time;var f=l.content.getWidth(),y=l.content.getHeight();com.aniview.player.Utils.fullscreenEnabled()&&(f=screen.width,y=screen.height,x.fixedFullScreenElement&&(f=x.fixedFullScreenElement.clientWidth,y=x.fixedFullScreenElement.clientHeight)),"ba"!==v.adType&&(i=!0),n=n&&i,l.load(v,f,y,n);break}if(v.time<m&&0!=v.time){v.time=m,l.setState(C.stateEnum.progress),l.timeout=v.timeout+v.time,l.load(v,l.content.getWidth(),l.content.getHeight()),l.setSlotX(v);break}if(d==(v.postroll&&!isNaN(p)?p:v.time)-m&&0!=v.time&&(E.isFirstAd||this.breakingAdsMode!==C.BreakingAdsModes.onePlayer)){l.setState(C.stateEnum.progress),l.timeout=v.timeout+v.time,l.load(v,l.content.getWidth(),l.content.getHeight()),l.setSlotX(v);break}if(d==v.time&&0!=v.time&&this.breakingAdsMode===C.BreakingAdsModes.onePlayer&&!E.isFirstAd){l.timeout=v.timeout+v.time,v.time>E.skip&&(v.player=E.player,l.start(l.slotX),E.skip=v.time,l.setSlotX(v));break}}}}else{l.state==C.stateEnum.progress?(0==l.slotX.time&&"ba"!=l.slotX.adType&&(i=!0),l.timeout):l.state==C.stateEnum.adLoaded&&(this.preload||d>=l.slotX.time||isNaN(d))?(0==l.slotX.time&&this.breakingAdsMode!=C.BreakingAdsModes.oneSession&&(i=!0),this.preload&&(s=1e3*this.getSlotTimeout(l.slotX)+1e3*this.getSlotStartTimeout(l.slotX),l.startSlotTimeout(l.slotX,s)),r=l.slotX.preroll&&0!==l.slotX.time,l.slotX.postroll||r||l.start(l.slotX)):l.state==C.stateEnum.done?(this.breakingAdsMode!==C.BreakingAdsModes.onePlayer?l.destroyAdPlayer():this.setState(C.stateEnum.none),l.breakingAds&&(l.slots=[])):l.state==C.stateEnum.startAd&&l.slotX&&0==l.slotX.time&&this.breakingAdsMode!==C.BreakingAdsModes.oneSession&&this.breakingAdsMode!==C.BreakingAdsModes.keepGoing&&(i=!0)}return this.preload=o&&i,!!i&&"preroll"}}else i&&(this.failedOnPreroll=!0)},C.prototype.getPrerollSlot=function(t){if(!t||"object"!=typeof t)return!1;for(var e,i=0;i<t.length;i++)if((e=t[i])&&(e.preroll||0==e.time))return e;return!1},C.prototype.getPostrollSlot=function(t){if(Array.isArray(t)&&!(t.length<=0))for(var e=0;e<t.length;++e)if(t[e]&&t[e].postroll)return t[e]},C.prototype.destroyAdPlayer=function(t){if(this.slotX){try{this.removeIvents(this.slotX.player),this.slotX.player.close()}catch(t){}this.clearSlotTimeout(this.slotX),this.slotX.player=null,this.removeAdsManagerAfterXSec(this.slotX.div.id,this.container.id,t)}this.setState(C.stateEnum.none),this.slotX=null,this.log("Destroy player",x.LOG_LEVEL.DEBUG)},C.prototype.checkCap=function(){return w.getCap()},C.prototype.continue=function(t,e){if(this.breakingAdsMode!==C.BreakingAdsModes.default&&this.breakingAdsMode!==C.BreakingAdsModes.onePlayer)return!1;this.slotX&&++this.slotX.adsCount;var i=w.isCap();if(this.slotX&&!i&&!e&&this.slotX.adsCount<this.slotX.maxAds&&t!==C.aEvents.AdTimeout){var n=1e3*this.getSlotNextAdTimeout(this.slotX);return this.breakingAdsMode===C.BreakingAdsModes.onePlayer&&this.setWaterfallState(!0,!0),this.setState(C.stateEnum.startAd),this.startSlotTimeout(this.slotX,n),!0}return!1},C.prototype.done_op=function(t,e,i,n){var o,a=n&&n.errorlimit;i!==b.com.aniview.player.video.VideoTag.Events.ContentUserClose&&this.continue(i,a)||(a&&(this.event(i,{adsId:this.container.id,errorlimit:a,errorInfo:n}),this.destroyAdPlayer()),this.setWaterfallState(!1,i!==C.aEvents.AdError),this.state!==C.stateEnum.done&&(o=C.stateEnum.adLoaded,this.setState(o),this.event(C.aEvents.AdClosed,{adsId:this.container.id,errorLimit:a})),this.setSlotX(null),this.log("done_op, state: "+this.state+" errLimit: "+a+" reason: "+i))},C.prototype.done=function(t,e,i,n){var o,a=n&&n.errorlimit,s=!1;(this.breakingAdsMode===C.BreakingAdsModes.keepGoing||this.breakingAdsMode===C.BreakingAdsModes.oneSession)&&this.content.config.content.bAImpressionCapping&&this.content.config.content.bAImpressionCapping<=e&&(this.log("Exit on capping limit"),t=!(s=!(this.content.preroll=!1))),this.continue(i,a)||this.state!==C.stateEnum.done&&(o=C.stateEnum.adLoaded,t||(this.breakingAdsMode===C.BreakingAdsModes.oneSession||s?(o=s?C.stateEnum.impressionCapped:C.stateEnum.stopAll,i&&this.event(i,{adsId:this.container.id,errorlimit:a,errorInfo:n}),this.destroyAdPlayer()):(this.breakingAdsMode===C.BreakingAdsModes.default&&(i&&this.event(i,{adsId:this.container.id}),this.destroyAdPlayer()),o=C.stateEnum.done)),this.setState(o),this.event(C.aEvents.AdClosed,{adsId:this.container.id,errorLimit:a}))},C.prototype.removeAdsManagerAfterXSec=function(i,n,t){var o=this;i&&null!=o&&(isNaN(t)&&(t=2e3),setTimeout(function(){try{var t=document.getElementById(n),e=document.getElementById(i);e&&t&&t.removeChild(e)}catch(t){o.log("Failed removing child",x.LOG_LEVEL.ERR)}},t))},C.prototype.init=function(t,e,i,n){var o=!1;this.slotX&&(this.slotX.preroll&&(this.slotX.time=0),this.breakingAdsMode===C.BreakingAdsModes.default&&(this.state===C.stateEnum.progress||this.state===C.stateEnum.adLoaded)&&this.slotX.adConfig&&t[0]&&t[0].adConfig&&(o=this.slotX.adConfig.channelId===t[0].adConfig.channelId));var a=this.state===C.stateEnum.impressionCapped;this.breakingAdsMode!==C.BreakingAdsModes.default&&!a||(!a&&o||(null!=this.slotX&&(this.removeIvents(this.slotX.player),e||this.removeAdsManagerAfterXSec(this.slotX.div.id,this.container.id)),this.slotX=null,this.breakingAdsMode!==C.BreakingAdsModes.onePlayer&&(this.prerollSlot=null),this.setState(C.stateEnum.none)),this.slots=com.aniview.player.Utils.clone(t)),this.breakingAdsMode===C.BreakingAdsModes.onePlayer&&(this.slots=com.aniview.player.Utils.clone(t)),E.skip=0;var s,r,l,d=w.isCap();t&&w.setContentCap(i||0),this.slots&&(s=this.slots,(r=n)&&s&&0==r.time&&Object.assign&&(l=r,s[0]&&0==s[0].time&&(l=Object.assign({},s[0]),l=Object.assign(l,r),s.shift()),s.unshift(l)),this.slots.forEach(function(t){t.selected=!1,t.preloadAdTime=isNaN(t.preloadAdTime)?isNaN(t.preloadTime)?5:t.preloadTime:t.preloadAdTime,t.adConfig||(t.adConfig={})})),this.breakingAdsMode!=C.BreakingAdsModes.keepGoing&&this.breakingAdsMode!=C.BreakingAdsModes.oneSession||d&&!w.isCap()&&this.slotX&&this.slotX.player&&this.slotX.player.setWaterfallState(!0,!0)},C.prototype.initNextPreroll=function(t,e){},C.prototype.load=function(e,t,i,n){if(!w.isCap()){var o=this;if(this.breakingAdsMode!=C.BreakingAdsModes.onePlayer?(e.adConfig=com.aniview.utils.ObjectUtils.mergeObject(this.adConfig,e.adConfig),e.adConfig=this.overrideAdConfig(e.adConfig)):e.adConfig=this.adConfig,this.adsPlayer&&this.breakingAdsMode===C.BreakingAdsModes.onePlayer||(this.lastSlotDiv=e.div=document.createElement("div"),e.div.id="aniview_slot_"+com.aniview.player.Utils.generateRandomString(),e.div.style.position="absolute",e.div.style.width=e.div.style.height="100%",this.container.appendChild(e.div),e.adConfig.position=e.div.id),e.adConfig.width=t,e.adConfig.height=i,e.adConfig.autoPlay=this.breakingAdsMode==C.BreakingAdsModes.oneSession&&!this.noAdsOnContentPause&&!this.content.config.playOnView,this.canStartOnView=this.canStartOnView||!this.content.config.playOnView,e.adConfig.nativeVideo=!0,e.adConfig.showbigplay=!1,e.adConfig.closeButton=!1,e.adConfig.contentPlayer=!0,e.adConfig.contentvideo=this.content.tag.video.element,this.adConfig.oneVideoElement&&(e.adConfig.format="html5"),e.adConfig.advideoslot=this.content.oneVideoElem&&(this.breakingAdsMode!=C.BreakingAdsModes.keepGoing&&this.breakingAdsMode!=C.BreakingAdsModes.oneSession&&this.breakingAdsMode!=C.BreakingAdsModes.onePlayer||"ios"===com.aniview.player.Utils.getOS()&&this.content.config.showFullScreen)?this.content.tag.video.adsElement:null,this.content.config.useImageVideo&&(e.adConfig.advideoslot=null,e.adConfig.nativeVideo=!1),e.adConfig.baseJsUrl)try{delete e.adConfig.baseJsUrl}catch(t){}e.adConfig.baseJsUrlDev&&(e.adConfig.baseJsUrl=e.adConfig.baseJsUrlDev),e.adConfig.baseJsUrlwl&&(e.adConfig.baseJsUrl=e.adConfig.baseJsUrlwl),e.adConfig.fullscreen=this.content.config.showFullScreen&&(!x.isMobile()||this.content.config.mobile.showFullScreen),e.adConfig.fullscreen&&(e.adConfig.fsmode=x.isMobile()?this.content.config.mobile.fullScreenMode?this.content.config.mobile.fullScreenMode:"fixed":"full"),e.adConfig.imaflags&&(e.adConfig.imaAutoplay=!n),e.adConfig.noInlineVideo=this.content.config.noInlineVideo;var a=this.content.getLastVolume();this.content.oneVideoElem&&a&&this.content.config.syncVolume?e.adConfig.autosound=!0:(e.adConfig.advideoslot&&(e.adConfig.advideoslot.muted=!0),e.adConfig.autosound=!1),e.adConfig.imaflags&&(e.adConfig.imaMuted=!e.adConfig.autosound),e.maxAds=isNaN(e.maxAds)?1:+e.maxAds,isNaN(e.adConfig.maximp)||(e.maxAds=Math.min(e.maxAds,+e.adConfig.maximp)),this.breakingAdsMode===C.BreakingAdsModes.onePlayer||this.breakingAds&&(this.breakingAdsMode===C.BreakingAdsModes.keepGoing||this.breakingAdsMode===C.BreakingAdsModes.oneSession)?e.adConfig.contentAdsContainer=this.content.nonLinearInnerDiv:isNaN(e.adConfig.maximp)&&(e.adConfig.maximp=e.maxAds);var s,r=e.time;if(0!=e.time||this.content.firstSessionPlayed||(r=-2),0<this.content.getContentDuration()&&this.setRef1(e.adConfig,"AV_DURATION",this.content.getContentDuration()),this.content.getContentUrl()&&this.setRef1(e.adConfig,"AV_VIDEOURL",this.content.getContentUrl()),this.setRef1(e.adConfig,"AV_SLOTT",0<r||-2==r?r:0),e.adConfig.ctinfo=this.content.ctInfo,this.adsPlayer&&this.breakingAdsMode===C.BreakingAdsModes.onePlayer)e.player=this.adsPlayer,e.div||(e.div=this.lastSlotDiv);else{this.adsPlayer=e.player=new b.com.aniview.player.avPlayer(e.adConfig),this.initIvents(e.player,o,t,i),E.player=e.player,this.log("load() - calling ads player play()",x.LOG_LEVEL.DEBUG),e.player.play();try{var l=document.getElementById("AVLoader"+e.div.id).contentDocument.getElementsByTagName("script")[0];l.onerror=function(t){try{o.abk=t.currentTarget.dataset.av=="AVScript"+e.div.id}catch(t){o.log("Can't set abk",x.LOG_LEVEL.ERR)}o.done()},l.onended=function(t){o.done()},l.oninvalid=function(t){o.done()},l.oncancel=function(t){o.done()},l.onabort=function(t){o.done()}}catch(t){o.log("Failed getting av manager loader",x.LOG_LEVEL.ERR)}}"ba"!==e.adType&&(s=1e3*this.getSlotTimeout(e)+1e3*this.getSlotStartTimeout(e),this.startSlotTimeout(e,s))}},C.prototype.startSlotTimeout=function(t,e){var i,n=this;this.log("setting slot timeoutFunc: "+e,x.LOG_LEVEL.DEBUG),i=function(){n.state===C.stateEnum.progress||n.state===C.stateEnum.startAd?n.preload?t.timeoutFunc=setTimeout(i,1e3):(n.log("Ad removed by timeout with state "+n.state+", slot time: "+t.time,x.LOG_LEVEL.INFO),n.done(!1,!1,C.aEvents.AdTimeout)):(n.state,C.stateEnum.adLoaded)},n.clearSlotTimeout(t),t.timeoutFunc=setTimeout(i,e)},C.prototype.clearSlotTimeout=function(t){t.timeoutFunc&&(clearTimeout(t.timeoutFunc),t.timeoutFunc=null)};var o=!(C.prototype.log=function(t,e){x.log("AdsController::"+this.container.id+" - "+t,e)});C.prototype.start_op=function(t){var e;this.adsPlayer?(this.setState(C.stateEnum.startAd),o||this.errorLimit?(this.setWaterfallState(!1),this.setWaterfallState(!0,!0),e=this.errorLimit?100:1e3*this.getSlotTimeout(t)+1e3*this.getSlotStartTimeout(t),this.startSlotTimeout(t,e),x.log("AdsController::start setWaterfallState",x.LOG_LEVEL.DEBUG)):(o=!0,this.adsPlayer.startAd(!0),x.log("AdsController::start startAd",x.LOG_LEVEL.DEBUG))):x.log("AdsController::start none",x.LOG_LEVEL.DEBUG)},C.prototype.start=function(t){t&&t.player&&(this.setState(C.stateEnum.startAd),t.player.startAd(!0))},C.prototype.AdsEventFunc={},C.prototype.setState=function(t){this.log("Changing ad state to: "+t,x.LOG_LEVEL.DEBUG),this.state=t},C.prototype.initIvents=function(o,a,t,e){var s=this;s.width=t,s.height=e;var r=this.breakingAds&&(this.breakingAdsMode===C.BreakingAdsModes.keepGoing||this.breakingAdsMode===C.BreakingAdsModes.oneSession);o.onInventory=function(){!o||s.width==t&&s.height==e||o.resize(s.width,s.height,x.fullscreenEnabled()?"fullscreen":"normal")},o.onPlay=function(t){a.log("player.onPlay, slot: "+a.slotX.sid),!w.inc()&&a.breakingAdsMode!==C.BreakingAdsModes.onePlayer||o.setWaterfallState(!1),a.content.preroll=!1,a.setState(C.stateEnum.playing),a.clearSlotTimeout(a.slotX),a.playState=a.content.playStateEnum.playing,a.event(C.aEvents.AdVideoStart),o.resize(s.width,s.height,x.fullscreenEnabled()?"fullscreen":"normal");try{var e,i;x.isMobile()&&!a.content.firstGesture||(a.content.config.syncVolume?(e=a.content.getLastVolume())?(i=this,setTimeout(function(){i.unmute(e)},10)):this.mute(e):a.slotX.adConfig.startVolume&&0<a.slotX.adConfig.startVolume&&(i=this,setTimeout(function(){i.unmute(a.slotX.adConfig.startVolume)},10)))}catch(t){}},o.onLoad=function(t){var e=a.content.getContentCurrentTime(),i=a.slotX.time;a.state!=C.stateEnum.progress&&a.state!=C.stateEnum.adLoaded||(a.canStartOnView&&a.content.started&&!a.preload&&a===a.content.ads&&(!0===a.content.preroll||e==i&&0==i)?(a.log("Preroll!! Starting slot"),a.start(a.slotX,!0)):a.state!=C.stateEnum.adLoaded&&a.setState(C.stateEnum.adLoaded))},o.onReady=function(t){a.event(C.aEvents.AdStarted)},o.onPlay100=function(t){a.playState=a.content.playStateEnum.none,a.done(r&&!a.content.preroll,0,C.aEvents.AdVideoComplete)},o.onStopped=function(){a.playState===a.content.playStateEnum.playing&&o.onError&&o.onError({})},o.onError=function(t,e){var i=a.playState,n=!1,o=!(!t||!t.errorlimit);a.errorLimit=o,!r||i!=a.content.playStateEnum.playing||t&&t.errorlimit||(n=!0),a.playState=a.content.playStateEnum.none,!o&&i!=a.content.playStateEnum.playing&&i!=a.content.playStateEnum.paused||(o&&a.log("Exit on error limit"),a.content.preroll=!1,a.done(n,0,C.aEvents.AdError,t))},o.onClose=function(t,e){a.playState=a.content.playStateEnum.none,a.done(r&&!a.content.preroll,0)},o.onPause=function(t){a.playState=a.content.playStateEnum.paused},o.onResume=function(t){a.playState=a.content.playStateEnum.playing},o.onMute=function(t){a.content.config.syncVolume&&a.content.mute(!0)},o.onUnmute=function(t){a.content.config.syncVolume&&a.content.unmute(!0)},o.onSkip=function(t){a.playState=a.content.playStateEnum.none,a.done(r&&!a.content.preroll,0,C.aEvents.AdSkipped)},o.onClick=function(t,e){},o.onFullScreenRequest=function(t){a.content.adsFullScreenRequest(t)};for(var i=C.getEvents(),n=0;n<i.length;n++){!function(n){o.on(n,a.AdsEventFunc[n]=function(t,e,i){s.event(n,{p1:t,p2:e,p3:i})})}(i[n])}},C.prototype.removeIvents=function(t){if(t){t.onInventory=null,t.onPlay=null,t.onLoad=null,t.onReady=null,t.onPlay25=null,t.onPlay50=null,t.onPlay75=null,t.onPlay100=null,t.onError=null,t.onClose=null,t.onPause=null,t.onResume=null,t.onMute=null,t.onUnmute=null,t.onSkip=null,t.onClick=null;var e,i=this.AdsEventFunc;for(e in i)i.hasOwnProperty(e)&&t.off(e,i[e])}},C.prototype.play=function(){this.slotX&&this.slotX.player&&(this.slotX.player.playing?this.slotX.player.resume():this.slotX.player.play())},C.prototype.pause=function(){this.slotX&&this.slotX.player&&this.slotX.player.pause()},C.prototype.skip=function(){this.slotX&&this.slotX.player&&(this.getPlayState()==this.content.playStateEnum.playing||this.getPlayState()==this.content.playStateEnum.paused)&&(this.slotX.player.pause(),this.slotX.player.skip())},C.prototype.setWaterfallState=function(t,e,i){if(b.com.aniview.player.Utils.log("setWaterfallState, active: "+t+", force: "+e,b.com.aniview.player.Utils.LOG_LEVEL.DEBUG),this.slotX&&this.slotX.player&&this.slotX.player.setWaterfallState){if(this.noAdsOnContentPause&&this.userPausedContent&&t)return;this.slotX.player.setWaterfallState(t,e,i)}},C.prototype.setUserPausedContent=function(t){this.noAdsOnContentPause&&t!=this.userPausedContent&&(!(this.userPausedContent=t)&&w.isCap()||this.setWaterfallState(!t,!0,!0))},C.prototype.mute=function(){this.slotX&&this.slotX.player&&this.slotX.player.mute()},C.prototype.unmute=function(){this.slotX&&this.slotX.player&&this.slotX.player.unmute()},C.prototype.setSize=function(t,e,i){this.width=t,this.height=e;var n=this.slotX&&this.slotX.player||this.adsPlayer;n&&n.resize(t,e,i)},C.prototype.updateGui=function(t){this.slotX&&this.slotX.player&&this.slotX.player.updateGui(t)},C.prototype.getSlotTimeout=function(t){return t.firstAdTimeOut||t.nextAdTimeout||t.timeout||this.preloadAdTime||this.preloadTime||15},C.prototype.getSlotStartTimeout=function(t){return t.startAdTimeout||this.startAdTimeout||5},C.prototype.getSlotNextAdTimeout=function(t){return t.nextAdTimeout||this.nextAdTimeout||5},C.prototype.pauseSlotTimeout_op=function(){},C.prototype.pauseSlotTimeout=function(){var t,e;this.slotX&&this.slotX.timeoutFunc&&"ba"!==this.slotX.adType?(t=this.getSlotStartTimeout(this.slotX),e=1e3*(this.slotX.time-this.content.getContentCurrentTime())+t,this.log("Pause slot timeoutFunc with remaining of: "+e,x.LOG_LEVEL.DEBUG),this.clearSlotTimeout(this.slotX)):this.log("pauseSlotTimeout No SlotX or no timeoutFunc found",x.LOG_LEVEL.DEBUG)},C.prototype.continueSlotTimeout=function(){var t,e;this.slotX&&!this.slotX.timeoutFunc&&"ba"!==this.slotX.adType&&(t=this.getSlotStartTimeout(this.slotX),e=1e3*(this.slotX.time-this.content.getContentCurrentTime())+t,this.log("Continue slot timeoutFunc with remaining of: "+e,x.LOG_LEVEL.DEBUG),0<e?this.startSlotTimeout(this.slotX,e):this.content.config.content.breakingAdsMode!==C.BreakingAdsModes.onePlayer&&(this.log("continueSlotTimeout remaining time for timeout was 0 or less",x.LOG_LEVEL.DEBUG),this.done(!1,!1,C.aEvents.AdTimeout)))},C.prototype.fixBreakingAdsOffset=function(t,e){var i;t<e&&this.slotX&&(i=e-t,this.slotX.time=this.slotX.time-i)},C.prototype.getPlayState=function(){return this.playState},C.prototype.changeAdConfig=function(t){this.changedAdConfig=t},C.prototype.overrideAdConfig=function(t){return this.changedAdConfig?com.aniview.utils.ObjectUtils.mergeObject(t,this.changedAdConfig):t},C.prototype.getAdDuration=function(){if(this.slotX&&this.slotX.player)return this.slotX.player.getAdDuration()},C.prototype.getAdRemainingTime=function(){if(this.slotX&&this.slotX.player)return this.slotX.player.getAdRemainingTime()},C.prototype.event=function(t,e){e=e||{},this.log("Ad Event: "+t),t===C.aEvents.AdVolumeChange&&(e.volume=this.slotX.player.getAdVolume());var i=new CustomEvent(t,{});i.data=e,this.dispatchEvent(i)},C.prototype.listeners=null,C.prototype.addEventListener=function(t,e){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(e)},C.prototype.removeEventListener=function(t,e){if(t in this.listeners)for(var i=this.listeners[t],n=0,o=i.length;n<o;n++)if(i[n]===e)return i.splice(n,1),this.removeEventListener(t,e)},C.prototype.removeAllEventListeners=function(){this.listeners={}},C.prototype.dispatchEvent=function(t){if(t.type in this.listeners)for(var e=this.listeners[t.type],i=0,n=e.length;i<n;i++)e[i].call(this,t)}}(window),function(y){"use strict";y.com||(y.com={}),y.com.aniview||(y.com.aniview={}),y.com.aniview.player||(y.com.aniview.player={});y._avcp=y.com.aniview.player.AniviewContentPlayer=function(t){var m;function h(t){if(t)for(var e=t.length-1;0<=e;e--){var i,n=t[e];!n.url||!n.url.length||n.url.length<5?t.splice(e,1):(n.entry=n.entry||{},i=n.entry,n.poster=n.poster||i.thumbnailUrl||t.defaultPoster,i.name=i.name||n.name,i.description=i.description||n.description,i.duration=i.duration||n.duration)}}function o(t,e){for(var i=t&&t.publisherId?t.publisherId:null,n=0;n<e.length;n++){var o=e[n];if(o){o.slots=o.slots||[];for(var a,s=o.slots,r=0;s&&r<s.length;r++){s[r]&&s[r].adConfig?(a=s[r].adConfig,s[r].adConfig=com.aniview.utils.ObjectUtils.mergeObject(t,a),!i&&s[r].adConfig&&s[r].adConfig.publisherId&&(i=s[r].adConfig.publisherId)):s[r]&&(s[r].adConfig=com.aniview.utils.ObjectUtils.mergeObject({},t))}}}return i}function f(e){var i=this;function n(){"playlist"!=e.content.type&&i.dispatcher.event(com.aniview.player.events.Events.InitContentsSuccess,i.config.content.contents)}function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}this.active=!0,i.guid=t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t(),i.firstSessionPlayed=!1,i.userPause=!1,i.state="init",i.initInternalEvents(),i.setPlayerOwner("none"),m=i.playStateEnum.none,i.initConfig(e);var o=document.getElementById(e.position),a=document.createElement("div"),s=document.createElement("div");if(a.id=e.position+"Container",s.id=e.position+"Wrapper",s.classList.add("avp-p-wrapper"),s.appendChild(a),o.appendChild(s),i.container=a,i.wrapper=s,i.pos=o,!i.container)throw"Player container not found";i.container.style.backgroundColor="#000000";var r=y.com.aniview.player.Utils;r.isFloating(e)&&("top"===e.floating.position||"bottom"===e.floating.position)&&e.floating.backgroundColor&&(i.container.style.backgroundColor=e.floating.backgroundColor),r.isSticky(e)&&("top"===e.sticky.position||"bottom"===e.sticky.position)&&e.sticky.backgroundColor&&(i.container.style.backgroundColor=e.sticky.backgroundColor),i.container.style.position="relative",i.container.style.textAlign="initial",i.initPlugins(i.config),i.initContent(i.config),i.initTracking(e),e.autoPlay&&e.detectAutoPlay&&y.com.aniview.player.Utils.isMobile()?(i.config.autoplayDetection=!0,r.checkNativeVideo(function(t){i.config.autoplayDetection=!1,e.simAutoplayError&&(t="error"),"error"==t?"images"==e.detectAutoPlayAction?(i.config.useImageVideo=!0,i.config.autoPlay=!0):(i.config.autoPlay=!1,i.gui.update()):i.config.autoPlay=!0,n(),i.callNextContent&&i.nextContent()})):n()}var l,e=t.playerDomain||"player.avplayer.com";f.libraryHLS="https://"+e+"/script/2/2.55/libs/hls.min.js",f.XlibraryDASH="https://"+e+"/script/2/2.9/libs/dash.all.min.js",f.preloadAdTime=10,f.pixelEnums={playingError:"c10",playerLoaded:"c9",contentImpression:"c8",contentCompleted:"c7",adsImpression:"c6",adsInventory:"c5"},f.prototype.playStateEnum={none:"none",playing:"playing",paused:"paused"},f.prototype.container=null,f.prototype.tag=null,f.prototype.dispatcher=null,f.prototype.content=null,f.prototype.config=null,f.prototype.initialConfig=null,f.prototype.carouselConfig={showPauseButton:!1,showDuration:!1,showFullScreen:!1,showNextButton:!1,showPrevButton:!1,showSoundButton:!1},f.prototype.playedContent=[],f.prototype.nextContentTimeout=-1,f.prototype.started=!1,f.prototype.error=!1,f.prototype.preroll=!1,f.prototype.postroll=!1,f.prototype.state="none",f.prototype.plugins={},f.prototype.oneVideoElement=!1,f.prototype.currentChapterIndex=null,f.getEvents=function(){return com.aniview.player.AdsController.getEvents().concat(y.com.aniview.player.video.VideoTag.getExternalEvents()).concat(y.com.aniview.player.PlayerGUI.getExternalEvents())},f.prototype.checkConfig=function(t){if(null==t)throw"Parameter 'config' must not be undefined";void 0===t.autoPlayOnLightMode&&(t.autoPlayOnLightMode=!0),!t.autoPlayOnLightMode&&y.navigator&&y.navigator.connection&&y.navigator.connection.saveData&&(t.autoPlay=!1),t.logLevel&&(y.com.aniview.player.Utils.logLevel=t.logLevel),t&&t.content&&h(t.content.contents);for(var e=["position","content","content.contents","width","height"],i=0;i<e.length;i++)for(var n=e[i].split("."),o=t,a="config",s=0;s<n.length;s++){var r=n[s];if(a+="."+r,null==o[r])throw"Parameter '"+a+"' must not be undefined";o=o[r]}var l,d={autoPlay:!0,contentAutoLoad:!0,showTimelineReplay:!1,showPrevButton:!0,showPauseButton:!0,showNextButton:!0,showBigPrevNext:!0,showSoundButton:!0,showVolumeControl:!0,showVerticalVolume:!1,showFullScreen:!0,showDuration:!0,hideGuiOnMouseout:!0,syncVolume:!1,handleFirstGesture:!0,gui:{},hideGuiTimeout:2,timelineMode:"default",moveXSec:!1,xSec:10,spinner:"default",theme:"default",themeColor:"#ff0000",delayBeforeNext:4,mobile:{},noInlineVideo:!1},p={};for(l in d)null==t[l]&&(t[l]=d[l]);if(y.com.aniview.player.Utils.isMobile()&&t.autoPlay){if("webos"!==y.com.aniview.player.Utils.getOS()&&-1!==y.com.aniview.player.Utils.getOS().indexOf("tizen")&&(t.newVolume=0,t.syncVolume=!1),t.mobile)for(var c in t.mobile)t[c]=t.mobile[c];for(var u in t.mobile||(t.mobile={}),p)null==t.mobile[u]&&(t[u]=p[u])}t.floating&&t.floating.position&&(t.floating.position=t.floating.position.toLowerCase()),t.sticky&&t.sticky.position&&(t.sticky.position=t.sticky.position.toLowerCase()),void 0===t.vitab&&t.adConfig&&t.adConfig.vitab&&(t.vitab=!0)},f.prototype.init=function(t){var e,i=com.aniview.player.Utils;this.oneVideoElement=i.isOneVideoElement(),void 0!==this.config.adConfig?this.config.adConfig.oneVideoElement=this.oneVideoElement:this.config.adConfig={oneVideoElement:this.oneVideoElement},this.config.adConfig.tagId=this.config.tagId,this.config.adConfig.templateId=this.config.templateId,this.setContentList(t,!1),this.config.originalOrder=this.config.order,this.config.content.order&&(e=this.config.content.randomFrom?this.config.content.randomFrom:0,y.com.aniview.player.Utils.shuffleArray(this.config.content.contents,e));var n=this.config.content.contents[0];this.content=n;var o="";try{o=n.url}catch(t){}var a,s,r=this.config.trackTraffic?"type=ec&pid="+this.publisherId+(this.config.tagId?"&stagid="+this.config.tagId:"")+(this.config.templateId?"&stplid="+this.config.templateId:""):"",l={libraryHLS:f.libraryHLS,hlsConfig:this.config.content.hlsConfig,libraryDASH:f.XlibraryDASH,dashConfig:this.config.content.dashConfig,src:o,autoPlay:this.config.autoPlay,volume:this.config.startVolume,noInlineVideo:this.config.noInlineVideo,useImageVideo:this.config.useImageVideo,avTrackData:r,passHLSParams:this.config.passHLSParams};this.tag=new com.aniview.player.video.VideoTag(l),this.tag.container.style.position="absolute",this.tag.container.style.width="100%",this.tag.container.style.height="100%",this.tag.show(),this.container.appendChild(this.tag.container),this.sendPixel(f.pixelEnums.playerLoaded),this.gui=new com.aniview.player.PlayerGUI(this),this.gui.stateLoading(),this.config.customCss&&(this.config.noCssBreak?this.gui.addStyle(this.config.customCss):(a='[data-id="'+this.gui.container.dataset.id+'"]',s=(s=this.config.customCss.replace(/}/gi,"} "+a)).substring(0,s.length-(a.length+1)),this.gui.addStyle(a+" "+s)));var d=this.config.content;this.isStartMode("WaitForAd")&&(d.firstPrerollSlot||(d.firstPrerollSlot={maxAds:1,nextAdTimeout:5,preloadAdTime:5,time:0,firstAdTimeOut:1}),d.firstPrerollSlot.firstAdTimeOut=15e3),this.isStartMode("WaitForAd")&&this.config.startMode.hidden&&(d.breakingAdsMode===com.aniview.player.AdsController.BreakingAdsModes.oneSession||d.breakingAdsMode===com.aniview.player.AdsController.BreakingAdsModes.onePlayer)&&this.gui.hidePlayer(),this.gui.setPoster(n),this.gui.showPoster(),this.gui.container.style.position="absolute",this.gui.container.style.zIndex=1,this.updateSize(),this.container.appendChild(this.gui.container),this.gui.sharedGui.style.zIndex=4,this.container.appendChild(this.gui.sharedGui),(this.config.closeButton||this.config.floating&&this.config.floating.closeButton)&&this.gui.updateSharedParameter(),this.gui.postInit(),this.nonLinearContainer=document.createElement("div"),this.nonLinearContainer.style.position="absolute",this.nonLinearContainer.style.width="100%",this.nonLinearContainer.style.height="90px",this.nonLinearContainer.className="nonl-container";var p=document.createElement("div");p.style.overflow="hidden",this.nonLinearInnerDiv=document.createElement("div"),this.nonLinearInnerDiv.id="nonl",this.nonLinearInnerDiv.style.width="100%",this.nonLinearInnerDiv.style.height="100%",this.nonLinearContainer.appendChild(p).appendChild(this.nonLinearInnerDiv);var c=this.getContentIndex(this.getContent());c<0&&(c=0);var u=this.hasBreakingAds(c);this.ads=new com.aniview.player.AdsController(this,u),this.setAdsContainer(this.ads),this.initEvents(this,this.tag,this.gui,this.ads),this.tag.setVideoTagConfig(l),this.tag.addVideoAttributes(),this.isContentAutoLoad&&this.tag.initVideo(),this.prepareIosVideoElements(this.tag.video.element,this.tag.video.adsElement),com.aniview.player.Utils.setFullScreenElements({container:this.container,content:this.tag.video.element,ad:this.tag.video.adsElement})},f.prototype.initTracking=function(t){var o=this,e=com.aniview.player.Utils.getProtocol(),i=t.tracking||{},n=i.trackDomain||"track1.avplayer.com",a=i.cmsPublisherId||"",s=i.widgetId||"",r=com.aniview.player.Utils.getHostName(i.domain||com.aniview.player.Utils.getTrueDomain())||"",l=i.subid||"",d=i.cd1||"",p=i.cd2||"",c=i.cd3||"",u=i.app||"",h=100!=t.width?t.width:this.container.clientWidth,g=0!=t.height?t.height:this.container.clientHeight;this.ctInfo={enabled:i.enabled,tUrl:e+"//"+n+"/ctrack?",tData:"&pid="+o.publisherId+"&r="+r+"&sn="+l+"&cd1="+d+"&cd2="+p+"&cd3="+c+"&app="+u+"&wi="+h+"&he="+g+"&test=",lastTimeTrack:0,playTime:0,paused:!1,firstPlay:!0,lastMuted:0==this.config.startVolume,extra:"",duration:null,url:null,trackParams:"",id:"",title:"",setTrackParams:function(){this.enabled&&(this.trackParams="pt=2&cmid="+a+"&cwid="+s+"&cvid="+(this.id||""))},getPixel:function(){return this.tUrl+this.trackParams+this.tData}},this.ctInfo.setTrackParams();var v=com.aniview.player.events.Events;[[v.ContentSourceChanged,null,function(t,e){o.ctInfo.adClosed=!1,o.ctInfo.adImp=!1,o.ctInfo.firstPlay=!0,o.ctInfo.url=e&&e.src||"",o.ctInfo.duration=o.content.duration||"",o.ctInfo.title=o.content.title||"",o.ctInfo.id=o.content.id||"",o.ctInfo.platform=o.content.platform||"",o.ctInfo.keywords=o.content.keywords||"",o.ctInfo.cparam1=o.content.cparam1||"",o.ctInfo.cparam2=o.content.cparam2||"",o.ctInfo.cparam3=o.content.cparam3||"",o.ctInfo.setTrackParams()}],[v.ContentSizeChange,null,function(t,e){}],[v.ContentDurationChange,null,function(t,e){var i=!isNaN(e)&&e||o.content.duration||"";0<e&&(o.ctInfo.duration=i,o.ctInfo.setTrackParams())}],[v.ContentVideoStart,"cply",function(){return o.ctInfo.lastTimeTrack=0,!(o.ctInfo.paused=!1)}],[v.ContentVideoFirstQuartile,"cfqt"],[v.ContentVideoMidpoint,"cmdp"],[v.ContentVideoThirdQuartile,"ctqt"],[v.ContentVideoComplete,"cmpt"],[v.ContentClickThru,"cclk"],[v.AdImpression,null,function(){o.ctInfo.adImp=!0}],[v.AdClosed,null,function(){o.ctInfo.adImp=!1,o.ctInfo.adClosed=!0}],[v.ContentPaused,"cpau",function(){return!o.ctInfo.imp}],[v.ContentPlaying,"cres",function(){return!o.ctInfo.firstPlay&&!o.ctInfo.adClosed||(o.ctInfo.firstPlay=!1,o.ctInfo.adClosed=!1)}],[v.ContentError,"cerr"],[v.ContentNextClicked,"cnxt"],[v.ContentPrevClicked,"cprv"],[v.ContentTimeChange,null,function(t,e){var i,n=!isNaN(e)&&e||o.getContentCurrentTime();isNaN(n)||0==n||(0<(i=n-o.ctInfo.lastTimeTrack)&&(o.ctInfo.playTime+=i),o.ctInfo.lastTimeTrack=n,10<=o.ctInfo.playTime&&(o.track("ctpl","&cppt="+o.ctInfo.playTime),o.ctInfo.playTime=0))}],[v.ContentVolumeChange,null,function(){var t=o.getMuted();t!=o.ctInfo.lastMuted&&(o.ctInfo.lastMuted=t,o.track(t?"cmut":"cunm"))}]].forEach(function(e){o.on(e[0],function(){var t=!0;"function"==typeof e[2]&&(t=e[2].apply(o,arguments)),t&&e[1]&&(o.track(e[1],o.ctInfo.extra),o.ctInfo.extra="")})}),o.track("cpll")},f.prototype.track=function(t,e){var i=e||"";if(this.ctInfo.enabled){var n="";try{var o=com.aniview.player.Utils.getViewability(this.pos),n=o&&"undefined"!==o.ratio?Math.floor(100*o.ratio):"-1"}catch(t){n="-1"}(new Image).src=this.ctInfo.getPixel()+"&vi="+n+"&e="+t+i+"&cb="+Date.now()}},f.prototype.initInternalEvents=function(){this.dispatcher=new com.aniview.player.EventListener;var e=this;this.dispatcher.addEventListener(com.aniview.player.events.Events.InitContentsSuccess,function(t){e.init(t.data.contents),e.state="ready",t.data.async&&e.updateContent(),e.startWhenReady&&t.data.contents.length?e.nextContent():e.isStartMode("WaitForAd")&&!e.firstSessionPlayed||e.gui.changeSpinnerState(!1)}),this.dispatcher.addEventListener(com.aniview.player.events.Events.InitContentsError,function(t){})},f.prototype.initConfig=function(e){if(null==e)throw"Parameter 'config' must not be undefined";this.checkConfig(e);var t=com.aniview.utils.ObjectUtils.clone(e);this.config=t,this.initialConfig={};var i=this.initialConfig;Object.keys(this.carouselConfig).forEach(function(t){i[t]=e[t]}),this.isStartMode("WaitForAd")&&(this.config.contentAutoLoad=!1),this.isContentAutoLoad=this.config.contentAutoLoad,this.oneVideoElem=!t.oneVideoElem||t.oneVideoElem;var n=t.adConfig;return this.publisherId=o(n,t.content.contents),this.adsAllowed=this.config.content.breakingAdsMode!==com.aniview.player.AdsController.BreakingAdsModes.oneSession||!this.config.content.adsDelay,t},f.prototype.initPlugins=function(t){var e=this,i=t.plugins;if(i)for(var n in i)try{var o,a,s=(a=i[n]).name,r=a.config?a.config:{};"Playlist"===s?(o=document.createElement("script"),r.src&&(o.src=r.src,o&&(o.onload=function(){e.plugins[s]=new com.aniview.player[s](e.config,e,r.settings),r.settings&&!0===r.settings.hidePlaylist&&e.hidePlaylist()},document.getElementsByTagName("head")[0].appendChild(o)))):e.plugins[s]=new com.aniview.player.plugins[s](e,r)}catch(t){}},f.prototype.initContent=function(t){var e,i,n,o=this;"playlist"==t.content.type?(o.setContentList([],!1),o.plugins.AVCms?o.plugins.AVCms.setPlaylist(t):(n={message:"No plugin",code:500},this.dispatcher.event(com.aniview.player.events.Events.InitContentsError,n))):(e=t.adConfig,i=t.content.contents,o.mergeSlotsConfigs(i,t.content.slotDefaults,t.content.commonSlots),i=o.mergeAdConfigs(i,e),n={contents:t.content.contents=i,async:!1},o.dispatcher.event(com.aniview.player.events.Events.InitContentsSuccess,n))},f.prototype.closePlayer=function(){this.close();var t=this.pos;t.removeChild(this.container.parentNode),this.ads.done(!1,!1,y.com.aniview.player.video.VideoTag.Events.ContentUserClose),t.style.cssText="",this.resizeObserver&&this.resizeObserver.disconnect()},f.prototype.stopFloating=function(){var t=this;t.config.floating.size=0,com.aniview.player.Utils.setFloating(t.wrapper,!1,t.config,!1,!1,function(){t.getSize()}),this.isFloatingState=!1,delete t.config.floating,delete t.config.floatingCSS,t.config.closeButton||t.gui.removeElementByClass(".avp-p-cn-close  ",!0)},f.prototype.startFloating=function(t){var e=this;e.config.floating=t;var i,n,o=y.com.aniview.player.Utils;o.isFloating(e.config)&&(i=e.config.floating.closeButton&&!e.config.closeButton,o.setFloatingCSS(e.config),i&&!e.config.closeButton&&e.gui.updateSharedParameter(),(n=e.getViewability()).inView?(o.setFloating(e.wrapper,!1,e.config,n.state,t.viewFromBottom,function(){e.getSize()}),i&&(e.container.querySelector(".avp-p-cn-close").style.display="none"),e.isFloatingState=!1):(o.setFloating(e.wrapper,!0,e.config,n.state,t.viewFromBottom,function(){var t=e.getPlayerSize(!0);e.setSize(t.w,t.h,!1,!0)}),e.isFloatingState=!0))},f.prototype.updateContentList=function(t){var e=this.config;h(t),e.adConfig&&(this.publisherId=o(e.adConfig,t)),this.setContentList(t),this.dispatcher.event(com.aniview.player.events.Events.ContentListChanged,t),this.skipAd(),this.nextContent()},f.prototype.getViewability=function(){return com.aniview.player.Utils.getViewability(this.pos)},f.prototype.updateCTInfo=function(t){this.ctInfo&&Object.assign&&Object.assign(this.ctInfo,t)},f.prototype.mergeSlotsConfigs=function(t,e,i){if(e||i)for(var n=0;n<t.length;++n){var o=t[n];if(o){var a=o.slots||[],s=a.slice();if(i&&i.push&&i.forEach(function(t){for(var e=0;e<a.length;++e){var i=a[e];if(t.time===i.time){s[e]=com.aniview.utils.ObjectUtils.mergeObject(t,i);break}}e===a.length&&s.push(t)}),e)for(var r=0;s&&r<s.length;++r)s[r]&&(s[r]=com.aniview.utils.ObjectUtils.mergeObject(e,s[r]));o.slots=s.sort(function(t,e){return t.preroll||e.postroll&&(!isNaN(t.time)||t.postroll)?-1:t.postroll&&(!isNaN(e.time)||e.postroll)||e.preroll||isNaN(t.time)&&!t.postroll?1:t.time<0&&0<=e.time||e.time<0&&0<=t.time?e.time-t.time:t.time>e.time?0:-1})}}},f.prototype.mergeAdConfigs=function(t,e){for(var i=0;i<t.length;i++){var n=t[i];if(n)for(var o,a,s=n.slots,r=0;s&&r<s.length;r++)s[r]&&s[r].adConfig&&(o=s[r].adConfig,a=com.aniview.utils.ObjectUtils.mergeObject(e,o),s[r].adConfig=a)}return t},f.prototype.getOrder=function(){return this.config.content.order},f.prototype.setOrder=function(t){this.config.content.order=t},f.prototype.getSlotTimeout=function(){var t=this.config.content;if("object"==typeof t.slot){if(!isNaN(t.slot.preloadAdTime))return+t.slot.preloadAdTime;if(!isNaN(t.slot.timeout))return+t.slot.timeout}return+t.slotTimeout},f.prototype.setSlotTimeout=function(t){var e=this.config.content;"object"!=typeof e.slot&&(e.slot={}),e.slot.preloadAdTime=+t,e.slot.timeout=+t,e.slotTimeout=+t},f.prototype.getContentList=function(){return this.config.content.contents},f.prototype.setContentList=function(t){if(!t)throw"Parameter 'value' must not be undefined";this.config.content.contents=t},f.prototype.getContentCount=function(){return this.getContentList().length},f.prototype.containsContent=function(t){return-1!=this.getContentIndex(t)},f.prototype.getContentAt=function(t){return 0<=t&&t<this.getContentCount()?this.getContentList()[t]:null},f.prototype.getCurrentContentChapters=function(){var t=this.getContent();if(Array.isArray(t.markers)&&0<t.markers.length&&t.markers.every(function(t){return!isNaN(+t.startTime)&&!isNaN(+t.endTime)}))return t.markers;return[{startTime:0,endTime:this.getContentDuration()}]},f.prototype.getChapterByContentTime=function(e){return this.getCurrentContentChapters().find(function(t){return t.startTime<=e&&t.endTime>e})},f.prototype.getChapterIndexByContentTime=function(e){return this.getCurrentContentChapters().findIndex(function(t){return t.startTime<=e&&t.endTime>e})},f.prototype.getContentById=function(t){for(var e=0;e<this.getContentCount();e++){var i=this.getContentAt(e);if(i.id==t)return i}return null},f.prototype.getContentIndex=function(t){return this.getContentList().indexOf(t)},f.prototype.setContentRandom=function(){if(this.getContentCount()){for(var t,e=[],i=0;i<this.getContentCount();i++){var n=this.getContentAt(i);-1==this.playedContent.indexOf(n)&&n!=this.getContent()&&e.push(n)}0==e.length&&(e=this.getContentList()),0<e.length&&(t=Math.round(Math.random()*(e.length-1)),this.setContent(e[t]))}},f.prototype.addContent=function(t){this.addContentAt(t,this.getContentCount())},f.prototype.addContentAt=function(t,e){-1==this.getContentIndex(t)&&(0<=e&&e<this.getContentCount()?this.getContentList().splice(e,0,t):this.getContentList().push(t))},f.prototype.removeContent=function(t){this.removeContentAt(this.getContentIndex(t))},f.prototype.removeContentAt=function(t){0<=t&&t<this.getContentCount()&&(this.getContentList().splice(t,1),this.updateContent())},f.prototype.getError=function(){return this.error},f.prototype.getContentClickthrough=function(){var t=this.getContent();if(t&&(t.clickthrough||t.clickThrough||t.clickThroughUrl))return t.clickthrough||t.clickThrough||t.clickThroughUrl;if(t.markers&&0<t.markers.length){var e=this.getContentCurrentTime();if(.2<e){var i=this.getChapterByContentTime(e);if(i)return i.url}}return""},f.prototype.getContent=function(){return this.content},f.prototype.setContent=function(t,e){this.plugins.AVCms&&this.plugins.AVCms.setCmsMetadata(t),this.clearNextContentTimeout(),this.content==t&&!e||(this.content=t,this.startPreroll=!1,this.firstGesture=!1,this.contentFallbacks=[],this.content.fallbacks&&0<this.content.fallbacks.length&&(this.contentFallbacks=this.content.fallbacks.slice(),this.contentFallbacks.sort(function(t,e){try{return t.priority>=e.priority?1:-1}catch(t){return 1}})),this.content.fallbackUrl&&this.contentFallbacks.push({url:this.content.fallbackUrl}),0==this.contentFallbacks.length&&this.contentFallbacks.push({url:this.content.url}),this.updateContent())},f.prototype.updateContent=function(){if(0!=this.active)if("ready"==this.state){if(this.userPause=!1,null!=this.content&&this.containsContent(this.content)){var t=this.firstRun?null:this.firstRun=this.config.content.firstPrerollSlot;this.pausedOnShowAd=!1,this.gui.container.appendChild(this.nonLinearContainer);var e=this.getContentIndex(this.getContent()),i=e===this.getContentCount()-1?0:e+1;this.hasBreakingAds(i);this.ads.init(this.content.slots,!1,this.content.impCap,t);this.getNextContent();this.initAdsEvents();var n,o=this.getContent();"audio"==o.type&&this.gui.setPoster(o),!this.oneVideoElem||(n=this.ads.getPrerollSlot(o.slots))&&(this.ads.prerollSlot=n),this.currentChapterIndex=null,this.dispatcher.event(com.aniview.player.events.Events.ContentChapterChanged,null),"carousel"===this.getContent().type?this.changeGUI(Object.assign(com.aniview.utils.ObjectUtils.clone(this.config),com.aniview.utils.ObjectUtils.clone(this.carouselConfig))):this.changeGUI(Object.assign(com.aniview.utils.ObjectUtils.clone(this.config),com.aniview.utils.ObjectUtils.clone(this.initialConfig)));var a={src:o.url,mimetype:o.mimetype,contentAutoLoad:this.isContentAutoLoad,autoPlay:this.config.autoPlay,noInlineVideo:this.config.noInlineVideo};this.isContentAutoLoad||"content"==this.playerOwner?(this.tag.init(a),this.dispatcher.event(com.aniview.player.events.Events.ContentSourceChanged,{src:a.src})):this.playerOwner,this.updateSize(),this.isContentAutoLoad||this.handleContentAutoLoad(),this.handleAutoPlay();var s=this.config.startVolume;if(void 0!==this.config.newVolume&&(s=this.config.newVolume),!isNaN(s)&&s?(this.unmute(!0),this.setVolume(s,!0)):this.mute(!0),this.contentMute&&this.mute(!0),-1==this.playedContent.indexOf(this.content))for(this.playedContent.push(this.content);this.playedContent.length>=this.getContentCount();)this.playedContent.shift()}else this.nextContent();this.currentIndex=this.getContentIndex(this.getContent())}else this.startWhenReady=!0},f.prototype.handleContentAutoLoad=function(){var t=this;t.playOverPosterTimeOut||t.gui.showUi(!1,!0,!0),t.started||(this.isStartMode("WaitForAd")&&0<t.config.startMode.playButtonDelay&&(t.gui.hideUi(!1,!0,!0),t.playOverPosterTimeOut=setTimeout(function(){t.gui.changeSpinnerState(!1),t.gui.showUi(!1,!0,!0),t.showBigPlayOnPoster=!0},1e3*t.config.startMode.playButtonDelay)),t.gui.changeSpinnerState(!0),t.pauseContent(),t.gui.pausePlayButtonsChange("play"))},f.prototype.handleAutoPlay=function(){var t;this.config.autoPlay||this.started?(t=this.isStartMode("WaitForAd")&&this.config.playOnView,this.config.playOnView&&!this.started&&!t||(y.com.aniview.player.Utils.log("Auto played on init",y.com.aniview.player.Utils.LOG_LEVEL.DEBUG),this.play(!1,{waitForAdView:!0,inView:!1}))):this.tag.initiated&&this.tag.video.element.removeAttribute("autoplay")},f.prototype.setAdsContainer=function(t){t.container.style.position="absolute",t.container.style.zIndex=-1,this.container.appendChild(t.container)},f.prototype.log=function(t,e){com.aniview.player.Utils.log("AniviewContentPlayer::"+this.container.id+" - "+t,e)},f.prototype.setContentByIndex=function(t,e){0<=t&&t<this.getContentCount()&&(this.setContent(this.getContentAt(t),e),this.gui.setTitle())},f.prototype.nextContent=function(){var t,e,i;this.config&&!this.config.autoplayDetection?this.getContentCount()&&(i=!1,e=this.getContentIndex(this.getContent()),e++,this.firstcall||(e=0,i=this.firstcall=!0),e>=this.getContentCount()&&(i=!(e=0),this.config.content.order&&(t=this.config.content.randomFrom?this.config.content.randomFrom:0,y.com.aniview.player.Utils.shuffleArray(this.config.content.contents,t))),this.setContentByIndex(e,i)):this.callNextContent=!0},f.prototype.backFromAd=function(){0!=this.active&&(this.content.currentTime=0<=this.content.currentTime&&void 0!==this.content.currentTime?this.content.currentTime:0,this.gui.container.style.zIndex=2,this.oneVideoElement?(this.ads.container.style.zIndex=2,this.tag.container.appendChild(this.tag.video.element)):(this.ads.container.style.zIndex=-1,this.tag.show()))},f.prototype.adClosed=function(t){var e,i,n,o;0!=this.active&&(this.log("Close Ad"),!this.isContentAutoLoad&&t&&t.data&&t.data.errorLimit&&(i=(e=this.getViewability())&&e.inView||this.isFloatingState,this.isStartMode("WaitForAd")&&(this.config.startMode.playOnView=!0,i&&(this.isContentAutoLoad=!0))),this.tag.initiated&&!this.oneVideoElement||(o={src:(n=this.getContent()).url,mimetype:n.mimetype,autoPlay:this.config.autoPlay,noInlineVideo:this.config.noInlineVideo},this.isContentAutoLoad?this.tag.init(o):this.handleContentAutoLoad(),this.isStartMode("WaitForAd")&&!this.firstSessionPlayed||this.gui.changeSpinnerState(!1)),this.started&&(this.startPreroll=!1),this.pausedOnShowAd||this.startPreroll||this.postroll?(this.backFromAd(),this.gui.statePlaying(),this.setPlayerOwner("content"),this.pause()):this.isContentAutoLoad&&this.playContent())},f.prototype.prevContent=function(){var t;this.getContentCount()&&(t=this.getContentIndex(this.getContent()),--t<0&&(t=this.getContentCount()-1),this.setContentByIndex(t))},f.prototype.startFirstContent=function(){0===this.getContentIndex(this.getContent())?this.tag.video.setCurrentTime(0):this.setContentByIndex(0,!0)},f.prototype.getWidth=function(){return this.config.width},f.prototype.getHeight=function(){return this.config.height},f.prototype.setSize=function(t,e,i,n){var o=this.config.width!==t||this.config.height!==e;this.config.width=t,this.config.height=e,i&&this.updatePlayerSize(t,e,this.config),this.updateSize(n),o&&this.dispatcher.event(y.com.aniview.player.video.VideoTag.Events.ContentSizeChange)},f.prototype.getSize=function(){var t,e;!this.playerSize||(t=this.getPlayerSize())&&(e=this.config.width!==t.w||this.config.height!==t.w,this.config.width=t.w,this.config.height=t.h,this.updateSize(),e&&this.dispatcher.event(y.com.aniview.player.video.VideoTag.Events.ContentSizeChange))},f.prototype.isPlayerFloating=function(){return this.isFloatingState},f.prototype.updatePlayerSize=function(t,e,i){this.playerSize=this.playerSize||{};var n,o,a,s,r=this.playerSize.fw||0,l=this.playerSize.fh||0,d=com.aniview.player.Utils,p=d.isFloating(i)?i.floating:d.isSticky(i)?i.sticky:null;p&&(n=this.config.heightRatio?this.config.heightRatio:1.777,a=0<p.screenWidthRatio?(o=y.innerWidth*p.screenWidthRatio)/n:(o=t*p.size,e*p.size),r=r||(p.width?p.width:o),l=l||(p.height?p.height:a),p.minHeight&&p.minHeight>l&&(r=(l=p.minHeight)*n),0<p.maxScreenHeightRatio&&((s=y.innerHeight*p.maxScreenHeightRatio)<l&&(l=s,1!=p.screenWidthRatio&&(r=l*n)))),this.playerSize={w:t,h:e,fw:r,fh:l}},f.prototype.getPlayerSize=function(t){return{w:t?this.playerSize.fw:this.playerSize.w,h:t?this.playerSize.fh:this.playerSize.h}},f.prototype.getResponsiveSize=function(){var t=this.pos.parentNode.clientWidth,e=this.config.heightRatio?this.config.heightRatio:1.777,i=Math.ceil(t/e),n=this.config.maxWidth||1e6,o=this.config.minHeight||0,a=screen.height;90!==y.orientation&&-90!==y.orientation||(a=screen.width);var s=(navigator&&navigator.userAgent&&-1<navigator.userAgent.toLowerCase().indexOf("firefox")?0:document.documentElement.clientHeight)||document.body.clientHeight||screen.height;return a&&a<s&&(s=a),s<i&&(t=(i=s)*e),i<o&&(t=(i=o)*e),n<t&&(i=(t=n)/e),{w:t,h:i}},f.prototype.updateSize=function(t){var e=this.config.height,i=this.config.width,n=com.aniview.player.Utils,o=n.fullscreenEnabled();n.fixedFullScreenElement||(this.container.style.position="relative"),void 0!==this.config.width&&null!=this.config.width||(this.config.width=640),void 0!==this.config.height&&null!=this.config.height||(this.config.height=360);var a,s=this.config.width,r=this.config.height;if(!n.fixedFullScreenElement){if("100%"==this.config.width&&(this.config.width=s=this.pos.parentNode.clientWidth),"100%"==this.config.height&&(this.config.height=r=this.pos.parentNode.clientHeight),this.responsiveLayout&&!t&&!this.isPlayerFloating()||n.isResponsiveLayout(this.config.width,this.config.height)){o&&this.wrapper&&(this.wrapper.style.maxWidth=this.gui.config.width+"px");var l=this.getResponsiveSize();if(this.config.width=s=l.w,this.config.height=r=l.h,this.responsiveLayout=!0,!o&&this.wrapper&&(this.wrapper.style.maxWidth=""),!n.isSticky(this.config)&&!this.resizeObserver&&"function"==typeof ResizeObserver){var d=this,p=!1;try{this.resizeObserver=new ResizeObserver(function(){var t;p||(p=!0,t=d.getResponsiveSize(),d.config.width===t.w&&d.config.height===t.w||(d.isPlayerFloating()?d.updatePlayerSize(t.w,t.h,null):d.setSize(t.w,t.h,!0)),p=!1)}),this.resizeObserver.observe(this.pos.parentNode)}catch(t){}}}n.fullscreenEnabled()&&(r=y.orientation&&90!==y.orientation&&-90!==y.orientation?(s=screen.height,screen.width):(s=screen.width,screen.height))}n.fixedFullScreenElement&&(s=(a=n.getDeviceDimensionsBasedOnOrientation()).width,r=a.height),this.container.style.width=s+"px",this.container.style.height=r+"px",this.caption&&(this.showCaption(!o),this.caption.style.width=s+"px"),this.sizeSet||(this.sizeSet=!0,this.updatePlayerSize(s,r,this.config)),!n.isFloating(this.config)&&!n.isSticky(this.config)||this.isHidden||this.gui.fixFloatingStyle(this.config,t),this.config.centerPlayer&&(this.container.style.margin="auto"),this.tag&&this.tag.setSize(s,r),this.gui&&this.gui.setSize(s,r),this.ads&&this.ads.setSize(s,r,o?"fullscreen":"normal"),i===s&&e===r||this.dispatcher.event(y.com.aniview.player.video.VideoTag.Events.ContentSizeChange)},f.prototype.showCaption=function(t){this.caption&&(this.caption.style.display=t?"":"none")},f.prototype.getContentDuration=function(){var t=NaN;return this.tag&&this.tag.video&&(t=this.tag.video.getDuration()),(isNaN(t)||t<=0)&&this.config&&this.config.content&&!isNaN(this.config.content.duration)&&(t=this.config.content.duration),t},f.prototype.getContentUrl=function(){return this.tag&&this.tag.video?this.tag.video.getUrl():0},f.prototype.getContentRemainingTime=function(){return this.tag&&this.tag.video?this.tag.video.getRemainingTime():0},f.prototype.getContentCurrentTime=function(){return this.tag&&this.tag.video?this.tag.video.getCurrentTime():0},f.prototype.setContentCurrentTimeAddXSec=function(){this.active&&this.config.moveXSec&&"content"===this.playerOwner&&(this.tag.video.setCurrentTimeAddXSec(this.config.xSec),this.firstGesture=!0)},f.prototype.setContentCurrentTimeReduceXSec=function(){this.active&&this.config.moveXSec&&"content"===this.playerOwner&&(this.tag.video.setCurrentTimeReduceXSec(this.config.xSec),this.firstGesture=!0)},f.prototype.setMoveXSec=function(t){this.config.moveXSec=t},f.prototype.setContentCurrentTime=function(t){if(!this.tag)return 0;var e=this.getContentIndex(this.getContent());e<0&&(e=0),this.hasBreakingAds(e)&&this.ads.fixBreakingAdsOffset(t,this.getContentCurrentTime()),this.tag.video&&this.tag.video.setCurrentTime(t)},f.prototype.getContentBufferTime=function(){return this.tag&&this.tag.video?this.tag.video.getBufferTime():0},f.prototype.getPaused=function(){return"none"==this.playerOwner||!(!this.tag||!this.tag.video)&&this.tag.video.getPaused()},f.prototype.getPauseRequested=function(){return"none"==this.playerOwner||(!this.tag||!this.tag.video||this.tag.video.getPauseRequested())},f.prototype.getEnded=function(){return"none"!=this.playerOwner&&(!(!this.tag||!this.tag.video)&&this.tag.video.getEnded())},f.prototype.play=function(t,e){var i,n,o;0!=this.active&&this.tag&&(this.started=!0,this.clearNextContentTimeout(),i=this.tag.video.getIsStarted()&&this.getContentCurrentTime()?this.getContentCurrentTime():void 0,i=this.startPreroll?0:i,n=this.getContentDuration(),e=e||{},!this.waitForAdsReset&&this.isStartMode("WaitForAd")&&(t||this.config.startMode.playOnView&&e.inView)&&(e.waitForAdsReset=this.waitForAdsReset=!0,this.firstSessionPlayed=!0),this.adsAllowed&&(o=this.ads.run(i,n,!this.startPreroll,t,void 0,e)),!1===this.isContentAutoLoad&&(t||this.isStartMode("WaitForAd")&&this.config.startMode.playOnView&&e.inView)&&(this.gui.hideUi(),this.gui.hidePoster(),this.isContentAutoLoad=!0,this.updateContent()),"preroll"===o?(this.preroll=!0,"ads"!=!this.playerOwner&&(this.isStartMode("WaitForAd")&&!this.firstSessionPlayed||this.gui.stateLoading(),this.setPlayerOwner("ads"),"playing"===this.ads.state&&(this.preroll=!1,this.ads.play()))):"playing"===this.ads.state?(this.preroll=!1,this.ads.play()):this.isStartMode("WaitForAd")&&!this.firstSessionPlayed||(this.playContent(),this.userPause=!1,this.ads.setUserPausedContent(!1)))},f.prototype.pause=function(t){this.tag&&(y.com.aniview.player.Utils.log("Pause request",y.com.aniview.player.Utils.LOG_LEVEL.DEBUG),this.firstGesture=!0,"playing"===this.ads.state?this.ads.pause():this.tag.video&&(t&&(this.pausedOnShowAd=!0,this.userPause=!0,this.ads.setUserPausedContent(!0)),this.tag.video.pause(),this.ads.pauseSlotTimeout(),this.gui.showInnerGUI(!1,t)))},f.prototype.playContent=function(){var t,e;0!=this.active&&this.tag&&this.tag.video&&(this.firstSessionPlayed=!0,!(t=com.aniview.player.Utils).isMobile()||"ios"!==t.getOS()||(e=t.getOSVersion())&&"9"===e.major&&this.tag.video.setAutoPlay(),this.tag.video.getPaused()&&this.gui.stateLoading(),this.saveContentConfig(),this.backFromAd(),this.isStartMode("WaitForAd"),this.started=!0,this.log("play!!"),this.setPlayerOwner("content"),this.tag.video.play(),this.ads.continueSlotTimeout())},f.prototype.isStartMode=function(t){return this.config.startMode&&this.config.startMode.mode===t},f.prototype.pauseContent=function(){this.tag&&this.tag.video&&this.tag.video.pause()},f.prototype.getMuted=function(){return!(!this.tag||!this.tag.video)&&this.tag.video.getMuted()},f.prototype.getLastVolume=function(){if(!this.tag)return 0;var e=0;try{e=this.getMuted()?0:this.tag.video.getVolume()}catch(t){e=void 0!==this.config.newVolume?this.config.newVolume:this.config.startVolume}return e},f.prototype.getVolume=function(t){return!t&&this.ads&&"playing"===this.ads.state?this.ads.slotX.player.getAdVolume():this.tag&&this.tag.video?this.tag.video.getVolume():0},f.prototype.setVolume=function(e,t){if(this.tag)if(this.ads&&"playing"===this.ads.state&&!t)try{this.ads.slotX.player.setAdVolume(e)}catch(t){this.config.newVolume=e,this.tag.video&&this.tag.video.setVolume(e)}else this.config.newVolume=e,this.tag.video&&this.tag.video.setVolume(e)},f.prototype.mute=function(t){!t&&this.ads&&"playing"===this.ads.state?this.ads.mute():this.tag&&this.tag.video&&(this.config.newVolume=0,this.contentMute=!0,this.tag.video.mute())},f.prototype.unmute=function(t){this.ads&&"playing"===this.ads.state&&!t?this.ads.unmute():this.tag&&this.tag.video&&(this.tag.video.getVolume()||this.tag.video.setVolume(1),this.contentMute=!1,this.tag.video.unmute(),this.config.newVolume=this.tag.video.getVolume()),!y.event||"click"!==y.event.type&&"touch"!==y.event.type&&"touchstart"!==y.event.type||(this.firstGesture=!0)},f.prototype.on=function(t,e,i){this.dispatcher.addEventListener(t,e,i)},f.prototype.once=function(t,e,i){this.dispatcher.addEventListener(t,e,i,!0)},f.prototype.playNextPlaylistContent=function(t){var e,i,n;this.tag&&(i=(e=t.getContentIndex(t.getContent()))!==t.getContentCount()-1&&t.config.autoContinue,n=e==t.getContentCount()-1&&t.config.autoLoop,(i||n)&&(y.com.aniview.player.Utils.log("Auto playing next video on playlist",y.com.aniview.player.Utils.LOG_LEVEL.INFO),t.gui.hideElementByClass(".avp-p-cn-breplay"),t.nextContent()))},f.prototype.prepareIosVideoElements=function(e,i){var t,n,o=this;function a(t){t?o.config.noInlineVideo||(e&&(e.setAttribute("playsinline",!0),e.setAttribute("webkit-playsinline",!0)),i&&(i.setAttribute("playsinline",t),i.setAttribute("webkit-playsinline",!0))):(e&&(e.removeAttribute("playsinline"),e.removeAttribute("webkit-playsinline")),i&&(i.removeAttribute("playsinline"),i.removeAttribute("webkit-playsinline")))}"ios"==com.aniview.player.Utils.getOS()&&(t=com.aniview.player.Utils.getOSVersion(),n=!0,t&&t.major<=9&&(n=!1),e.addEventListener("webkitbeginfullscreen",function(){l.playContent()}),e.addEventListener("webkitendfullscreen",function(){"content"==l.playerOwner&&(a(!0),n&&l.playContent())}),i.addEventListener("webkitbeginfullscreen",function(){i.play()}),i.addEventListener("webkitendfullscreen",function(){"none"!=l.ads.getPlayState()?(a(!0),n&&i.play()):n&&l.playContent()}))},f.prototype.openFullscreen=function(t){var e,i,n,o=com.aniview.player.Utils,a=this.config.mobile.fullScreenMode?this.config.mobile.fullScreenMode:"full",s=o.getOSVersion(),r=o.getOS();o.isMobile()&&("fixed"==a||"ios"==r&&s&&s.major<=9)?o.requestFullScreenFixed(this.container):"ios"==r?(e=l.tag.video.element,i=l.tag.video.adsElement,n=t?i.paused:l.getPaused(),e.removeAttribute("playsinline"),e.removeAttribute("webkit-playsinline"),i.removeAttribute("playsinline"),i.removeAttribute("webkit-playsinline"),t?(i.pause(),i.play()):(e.pause(),e.play()),n&&l.pause()):o.requestFullscreen(this.container)},f.prototype.adsFullScreenRequest=function(t){t?l.openFullscreen(!0):l.closeFullscreen(!0)},f.prototype.closeFullscreen=function(){var t=com.aniview.player.Utils,e=t.getOSVersion();t.isMobile()&&"ios"==t.getOS()&&e&&9<e.major&&l.tag.video.element.setAttribute("playsinline",!0),t.cancelFullscreen()},f.prototype.initEvents=function(a,s,t,e){function i(t){switch(t.type){case y.com.aniview.player.video.VideoTag.Events.ContentError:case y.com.aniview.player.video.VideoTag.Events.ContentVideoComplete:m=v.playStateEnum.none,t.data.remaining=v.getContentCount()-(v.getContentIndex(v.getContent())+1);break;case y.com.aniview.player.video.VideoTag.Events.contentPaused:m=v.playStateEnum.paused;break;case y.com.aniview.player.video.VideoTag.Events.ContentPlaying:m=v.playStateEnum.playing}v.dispatcher.dispatchEvent(t)}var n,l,d,p,c,u,h,g,v=this;for(n in y.com.aniview.player.video.VideoTag.Events)s.addEventListener(y.com.aniview.player.video.VideoTag.Events[n],i);for(n in y.com.aniview.player.PlayerGUI.Events)t.addEventListener(y.com.aniview.player.PlayerGUI.Events[n],i);a.container&&(c=v.config.viewPercentageRequired,l=com.aniview.player.Utils,p=d=!1,c=c||.5,l.isFloating(v.config)?l.setFloatingCSS(v.config):l.isSticky(v.config)&&l.setStickyCSS(v.wrapper,v.config),u=-100,h=l.getFullScreenChangeEvent(),g=!(v.config.floating&&v.config.floating.floatOnView),(v.config.sticky||v.config.floating||v.config.playOnView||v.config.pauseOnUnseen)&&y.com.aniview.player.Utils.startViewability(a.pos,function(t,e,i,n,o){var a,s,r;v.active&&(a=o&&o.type===h,u!==e&&(u=e,v.dispatcher.event(y.com.aniview.player.video.VideoTag.Events.ContentViewabilityChanged,{data:{inView:t,ratio:e,state:i}})),v.config.floatingCSS&&v.config.floating&&((s=t)&&!isNaN(n)&&n/(a?v.getPlayerSize().h:v.getHeight())<c&&(s=!1),"OUT_BOTTOM"===i&&(p=!1),r=90===Math.abs(y.orientation)||screen&&screen.orientation&&screen.orientation.type&&screen.orientation.type.includes("landscape"),s||v.config.floating.noFloatOnLandscape&&r&&l.isMobile()?(g=!0,v.config.floating.onBottomOnView&&(v.config.floating.floatOnBottom=!0),v.config.startMode&&v.config.startMode.noFloat&&v.isHidden||(y.com.aniview.player.Utils.setFloating(v.wrapper,!1,v.config,i,p,function(){v.getSize()}),v.config.floating.closeButton&&!v.config.closeButton&&(v.container.querySelector(".avp-p-cn-close").style.display="none"),d=!1,v.isFloatingState=!1)):("T_TRUNC"!==i&&"OUT_TOP"!==i||(p=!0),!g||d&&!a||(v.config.floating.floatOnBottom||"T_TRUNC"!==i&&"OUT_TOP"!==i)&&!v.config.floating.floatOnBottom||v.config.startMode&&v.config.startMode.noFloat&&v.isHidden||(y.com.aniview.player.Utils.setFloating(v.wrapper,!0,v.config,i,p,function(t,e,i){var n=v.getPlayerSize(!0);v.setSize(n.w,n.h,!1,!0)}),(v.config.floating.closeButton||v.config.closeButton)&&(v.container.querySelector(".avp-p-cn-close").style.display=""),d=!0,v.isFloatingState=!0))),(t||d)&&v.config.playOnView&&v.config.autoPlay&&(v.started&&v.isContentAutoLoad?v.userPause||v.gui.hideUi():(y.com.aniview.player.Utils.log("Auto played on viewability change",y.com.aniview.player.Utils.LOG_LEVEL.DEBUG),v.play(!1,{inView:!0}))),v.config.pauseOnUnseen&&(!(t||d&&"OUT_TAB"!==i&&(p||v.config.floating&&v.config.floating.floatOnBottom))||v.userPause&&"ad"!=v.playerOwner?v.pause():v.play(!1,{inView:!0})))},c,v.config.vitab)),s.addEventListener(y.com.aniview.player.video.VideoTag.Events.ContentReady,function(t){}),s.addEventListener(y.com.aniview.player.video.VideoTag.Events.LoadedMetadata,function(t){var e,i;"none"==v.playerOwner&&(v.gui.statePlaying(),e=!0,this.oneVideoElem&&(i=this.getContent(),this.ads.getPrerollSlot(i.slots)&&(e=!1)),v.gui.showUi(!1,e,!0),v.gui.showPoster());var n=v.getNextContent();v.ads.initNextPreroll(n&&n.slots,v.getContentDuration())}),this.on("ContentPaused",function(){v.config.showTitle&&v.gui.showElementByClass(".avp-p-ti")}),this.on("ContentPlaying",function(){v.config.showTitle&&v.gui.hideElementByClass(".avp-p-ti")}),s.addEventListener(y.com.aniview.player.video.VideoTag.Events.ContentTimeChange,function(t){var e,i;a.gui.hideElementByClass(".avp-p-cn-breplay"),isNaN(t.data)||t.data<.5||(a.adsAllowed&&a.ads.run(t.data,a.getContentDuration()),(e=v.getChapterIndexByContentTime(t.data))!==v.currentChapterIndex&&(v.currentChapterIndex=e,i=v.getChapterByContentTime(t.data),v.dispatcher.event(com.aniview.player.events.Events.ContentChapterChanged,i)))});function o(t){if(0!=v.active){var e={};if(e.cd1=navigator.userAgent,t.data&&t.data.errorInfo&&(e.cd1+=" --- "+t.data.errorInfo+"---"),t.data&&t.data.message)try{e.cd1||(e.cd1=""),e.cd1+=t.data.message}catch(t){e.cd1="no video element error"}var i=f.pixelEnums.playingError;t.data.pixelEvent&&(i=t.data.pixelEvent),a.sendPixel(i,e),y.com.aniview.player.Utils.log("Error playing video promise",y.com.aniview.player.Utils.LOG_LEVEL.ERR),v.error=!0;var n,o=a.getNextFallbackVideo();t&&t.data&&"NotAllowedError"===t.data.error&&v.setVolume(0),o?(n={src:o,fallback:!0,noInlineVideo:a.config.noInlineVideo},s.init(n),a.handleAutoPlay()):(v.errorCount=v.errorCount?v.errorCount+1:1,v.errorCount<4&&a.playNextPlaylistContent(a))}}s.addEventListener(y.com.aniview.player.video.VideoTag.Events.ContentHLSError,function(t){0!=v.active&&o(t)}),s.addEventListener(y.com.aniview.player.video.VideoTag.Events.ContentHLSRecoverTry,function(t){0!=v.active&&a.play()}),s.addEventListener(y.com.aniview.player.video.VideoTag.Events.ContentError,function(t){0!=v.active&&o(t)}),s.addEventListener(y.com.aniview.player.video.VideoTag.Events.ContentVideoStart,function(t){0!=v.active?(!v.adsAllowed&&v.config.content.adsDelay&&setTimeout(function(){v.adsAllowed||(v.adsAllowed=!0,s.video.getPaused()&&v.ads.run(1,v.getContentDuration()))},1e3*v.config.content.adsDelay),v.nonLinearContainer&&(v.nonLinearContainer.style.display=""),v.ads&&"playing"===v.ads.state&&v.pauseContent(),v.errorCount=0,a.sendPixel(f.pixelEnums.contentImpression),v.gui.updateTimeline()):v.pauseContent()}),s.addEventListener(y.com.aniview.player.video.VideoTag.Events.ContentPlaying,function(t){m=v.playStateEnum.playing,v.gui.statePlaying(),v.gui.hidePoster()}),s.addEventListener(y.com.aniview.player.video.VideoTag.Events.ContentVideoComplete,function(t){if(0!=v.active&&(m=v.playStateEnum.none,!v.oneVideoElem||"ad"!=v.playerOwner)){if(v.nonLinearContainer&&(v.nonLinearContainer.style.display="none"),a.sendPixel(f.pixelEnums.contentCompleted),v.adsAllowed&&v.ads&&v.ads.slotX&&v.ads.slotX.postroll)return v.postroll=!0,v.ads.start(v.ads.slotX),void v.gui.stateLoading();(v.config.autoContinue||v.config.autoLoop)&&v.playNextPlaylistContent(a)}}),s.addEventListener(y.com.aniview.player.video.VideoTag.Events.ContentVideoEnded,function(t){a.config.showReplay&&(a.gui.showElementByClass(".avp-p-cn-breplay"),a.gui.pausePlayButtonsChange("play"))}),t.addEventListener(y.com.aniview.player.PlayerGUI.Events.ContentClickThrough,function(t){})},f.prototype.setPlayerOwner=function(t){this.playerOwner=t},f.prototype.saveContentConfig=function(){this.content.currentTime=this.getContentCurrentTime()},f.prototype.showAd=function(){if(0!=this.active){this.oneVideoElement&&this.saveContentConfig(),this.playOverPosterTimeOut&&(clearTimeout(this.playOverPosterTimeOut),this.playOverPosterTimeOut=0),this.setPlayerOwner("ad"),this.gui.statePlayingAd();try{this.pausedOnShowAd=this.userPause}catch(t){this.pausedOnShowAd=!1}this.log("Show Ad");var t=this;y.com.aniview.player.Utils;setTimeout(function(){t.updateSize()}),this.oneVideoElement||(this.pauseContent(),this.tag.hide()),this.ads.container.style.zIndex=2,this.ads.container.style.visibility="visible",this.gui.container.style.zIndex=-1}},f.prototype.initAdsEvents=function(){var e=this;this.ads.removeAllEventListeners();function t(t){e.dispatcher.dispatchEvent(t)}for(var i in this.ads.addEventListener(com.aniview.player.AdsController.aEvents.AdVideoStart,function(t){e.sendPixel(f.pixelEnums.adsImpression),e.isContentAutoLoad=!0;y.com.aniview.player.Utils;setTimeout(function(){e.updateSize()}),e.showAd()}),this.ads.addEventListener(com.aniview.player.AdsController.aEvents.AdClosed,function(t){0!=e.active&&(e.ads.container&&t.data&&e.ads.container.id===t.data.adsId&&e.adClosed(t),e.postroll&&(e.postroll=!1,(e.config.autoContinue||e.config.autoLoop)&&e.playNextPlaylistContent(e.ads.content)))}),y.com.aniview.player.AdsController.aEvents)this.ads.addEventListener(y.com.aniview.player.AdsController.aEvents[i],t)},f.prototype.clearNextContentTimeout=function(){-1!=this.nextContentTimeout&&(clearTimeout(this.nextContentTimeout),this.nextContentTimeout=-1)},f.prototype.changeGUI=function(t,e){if(e&&this.ads&&"playing"===this.ads.state&&this.ads.updateGui(e),t&&this.config){var i,n=!1;for(i in t)this.config[i]=t[i],n=!0;if(n)try{this.gui.update()}catch(t){}}},f.prototype.changeAdConfig=function(t){this.ads&&this.ads.changeAdConfig(t)},f.prototype.getSessionId=function(){return this.guid},f.prototype.getPlayState=function(){var t=m;return t==this.playStateEnum.playing&&this.tag&&this.tag.video&&this.tag.video.getPaused()&&(t=this.playStateEnum.paused),{content:t,ads:this.ads?this.ads.getPlayState():this.playStateEnum.none}},f.prototype.getAdDuration=function(){if(this.ads)return this.ads.getAdDuration()},f.prototype.getAdRemainingTime=function(){if(this.ads)return this.ads.getAdRemainingTime()},f.prototype.skipAd=function(){if(this.ads)return this.ads.skip()},f.prototype.setWaterfallState=function(t,e){if(this.ads)return this.ads.setWaterfallState(t,e)},f.prototype.getNextContent=function(){if(this.tag){var t=this.getContentIndex(this.content),e=0;return t!==this.getContentCount()-1&&(e=t+1),this.getContentAt(e)}},f.prototype.isPlayingNextContent=function(){var t=this.getContentIndex(this.getContent());return this.currentIndex+1===t||this.currentIndex===this.getContentCount()-1&&0===t},f.prototype.hasBreakingAds=function(t){return this.config.content.contents[t]&&void 0!==this.config.content.contents[t].breakingAds?this.config.content.contents[t].breakingAds:this.config.content.breakingAds},f.prototype.sendPixel=function(t,e){},f.prototype.getFallbackVideo=function(){var t=null;return this.getContent()&&this.getContent().fallbackUrl?t=this.getContent().fallbackUrl:this.config.content.fallbackUrl&&(t=this.config.content.fallbackUrl),t},f.prototype.getNextFallbackVideo=function(){var t,e;return this.contentFallbacks&&0<this.contentFallbacks.length&&((e=this.contentFallbacks.splice(0,1))&&e[0]&&e[0].url&&(t=e[0].url)),t},f.prototype.close=function(){this.active=!1,this.setWaterfallState(!1,!1),this.skipAd(),this.pause()},f.prototype.hidePlaylist=function(){this.plugins&&this.plugins.Playlist&&this.plugins.Playlist.hidePlaylist()},f.prototype.showPlaylist=function(){this.plugins&&this.plugins.Playlist&&this.plugins.Playlist.showPlaylist()},f.prototype.playApi=function(){this.userPause=!1,this.pausedOnShowAd=!1};function i(t){l=new f(t)}return i.prototype.on=function(t,e,i){return l.dispatcher.addEventListener(t,e,i)},i.prototype.nextContent=function(){return l.nextContent()},i.prototype.prevContent=function(){return l.prevContent()},i.prototype.setContentByIndex=function(t){return l.setContentByIndex(t,!0)},i.prototype.getWidth=function(){return l.getWidth()},i.prototype.getHeight=function(){return l.getHeight()},i.prototype.setSize=function(t,e){return l.setSize(t,e,!0)},i.prototype.getContentDuration=function(){return l.getContentDuration()},i.prototype.getContentRemainingTime=function(){return l.getContentRemainingTime()},i.prototype.getContentCurrentTime=function(){return l.getContentCurrentTime()},i.prototype.play=function(t){return l.playApi(),l.play(t)},i.prototype.pause=function(){return l.pause(!0)},i.prototype.setContentCurrentTime=function(t){return l.setContentCurrentTime(t)},i.prototype.addXSec=function(){return l.setContentCurrentTimeAddXSec()},i.prototype.reduceXSec=function(){return l.setContentCurrentTimeReduceXSec()},i.prototype.setMoveXSec=function(t){return l.setMoveXSec(t)},i.prototype.mute=function(){return l.mute()},i.prototype.unmute=function(){return l.unmute()},i.prototype.getMuted=function(){return l.getMuted()},i.prototype.getVolume=function(){return l.getVolume()},i.prototype.setVolume=function(t){return l.setVolume(t)},i.prototype.getEvents=function(){return f.getEvents()},i.prototype.resize=function(){return l.updateSize()},i.prototype.changeGUI=function(t,e){l.changeGUI(t,e)},i.prototype.changeAdConfig=function(t){l.changeAdConfig(t)},i.prototype.getPlayState=function(){return l.getPlayState()},i.prototype.getAdDuration=function(){return l.getAdDuration()},i.prototype.getAdRemainingTime=function(){return l.getAdRemainingTime()},i.prototype.getSessionId=function(){return l.getSessionId()},i.prototype.skipAd=function(){return l.skipAd()},i.prototype.addContentAt=function(t,e){return l.addContentAt(t,e)},i.prototype.removeContentAt=function(t){return l.removeContentAt(t)},i.prototype.pauseWaterfall=function(t){return l.setWaterfallState(!1,t)},i.prototype.resumeWaterfall=function(t){return l.setWaterfallState(!0,t)},i.prototype.close=function(){return l.close()},i.prototype.hidePlaylist=function(){return l.hidePlaylist()},i.prototype.showPlaylist=function(){return l.showPlaylist()},i.prototype.closePlayer=function(){return l.closePlayer()},i.prototype.getViewability=function(){return l.getViewability()},i.prototype.updateCTInfo=function(t){return l.updateCTInfo(t)},i.prototype.stopFloat=function(){l.stopFloating()},i.prototype.startFloat=function(t){l.startFloating(t)},i.prototype.updateContentList=function(t){l.updateContentList(t)},new i(t)}}(window),function(B){"use strict";var h;B.com||(B.com={}),B.com.aniview||(B.com.aniview={}),B.com.aniview.player||(B.com.aniview.player={});var V="‒‒:‒‒",O=B.com.aniview.player.PlayerGUI=function(t){this.content=t,h=com.aniview.player.Utils;var e=this.content.config;e.caption=!(!e.closeButtonStyle||!e.closeButtonStyle.outside),this.container=document.createElement("div"),this.container.setAttribute("data-id","gui_"+com.aniview.player.Utils.generateRandomString()),(this.container.controler=this).dispatcher=new com.aniview.player.EventListener,this.sharedGui=document.createElement("div"),this.sharedGui.setAttribute("data-id","sharedGui_"+com.aniview.player.Utils.generateRandomString()),this.sharedGui.classList.add("avp-shared-gui");var i=document.createElement("div");i.id="av-inlineToContent",this.sharedGui.appendChild(i),this.init(),this.update(!0),this.posterEnabled()&&this.appendPoster(),this.container.addEventListener?this.container.addEventListener(O.Events.ContentClickThrough,this.onClickEvent):this.container.attachEvent("on"+O.Events.ContentClickThrough,this.onClickEvent),com.aniview.player.Utils.isMobile()||this.container.addEventListener(O.Events.ContentDoubleClick,this.onDoubleClickEvent),com.aniview.player.Utils.isMobile()&&(this.container.addEventListener("touchstart",this.onTouch),this.container.addEventListener("touchend",this.onTouch));var n,o="onorientationchange"in B?"orientationchange":"resize",a=this;B.addEventListener(o,function(){void 0!==n&&clearTimeout(n),n=setTimeout(function(){a.content.updateSize(),n=void 0},50)},!1),this.initContentEvents()};O.Events={},O.Events.ContentClickThrough="click",O.Events.ContentDoubleClick="dblclick",O.Events.ContentClickThru="ContentClickThru",O.Events.ContentNextClicked="ContentNextClicked",O.Events.ContentPrevClicked="ContentPrevClicked",O.Events.ContentPlayClicked="ContentPlayClicked",O.Events.ContentPauseClicked="ContentPauseClicked",O.Events.CloseClicked="CloseClicked",O.Events.CloseFloatingClicked="CloseFloatingClicked",O.getExternalEvents=function(){var t=[];return t.push(O.Events.ContentClickThru="ContentClickThru"),t.push(O.Events.ContentNextClicked="ContentNextClicked"),t.push(O.Events.ContentPrevClicked="ContentPrevClicked"),t.push(O.Events.ContentPlayClicked="ContentPlayClicked"),t.push(O.Events.ContentPauseClicked="ContentPauseClicked"),t},O.prototype.pausePlayButtonsChange=function(t){var e={"avp-state":t};this.setElementDataByClass(".avp-p-cn-pp",e),this.config.hideGuiOnMouseout?this.setElementDataByClass(".avp-p-cn-bp",e):this.hideElementByClass(".avp-p-cn-bp")},O.prototype.initContentEvents=function(){function t(t){p.config.showUiOnPause&&p.state.paused&&clearTimeout(p.hideGuiTimeout),p.pausePlayButtonsChange(t)}function e(t){p.content.getMuted()&&(t=0),p.setElementDataByClass(".avp-p-cn-s",{"avp-state":0===t?"off":t<.5?"medium":"on"});var e=p.getElementByClass(".avp-p-cn-vi");e&&(e.value=100*t)}var p=this,i=com.aniview.player.events.Events,n={};n[i.ContentPlaying]=function(){t("pause"),e(p.content.getVolume())},n[i.ContentPaused]=function(){t("play")},n[i.ContentChapterChanged]=function(t){var e=t.data;p.removeElementByClass(".avp-p-sl-cp"),e&&e.title&&p.showSlideCaption(e.title)},n[i.ContentTimeChange]=function(t){function s(t,e,i){return 100*c((t-e)/(i-e),0,1)+"%"}var r=p.content.getContentDuration(),l=p.content.getContentBufferTime(),d=t.data;p.getElementsByClass(".avp-p-tl-ch").forEach(function(t,e){var i=+t.getAttribute("data-start"),n=+t.getAttribute("data-end"),o=t.querySelector(".avp-p-tl-pr");o&&(o.style.width=r?s(d,i,n):"0%");var a=t.querySelector(".avp-p-tl-bf");a&&(p.content.getContentDuration()?a.style.width=s(l,i,n):a.style.width="0%")});var e=p.getElementByClass(".avp-p-cn-d-r");e&&(e.textContent=u(d))},n[i.ContentDurationChange]=function(t){p.setDuration(t.data)},n[B.com.aniview.player.video.VideoTag.Events.LoadedMetadata]=function(t){t.data&&t.data.duration&&p.setDuration(t.data.duration)},n[i.ContentVolumeChange]=function(t){e(t.data)};var o,a=h.getFullScreenChangeEvent();for(o in a&&document.addEventListener(a,function(t){p.setElementDataByClass(".avp-p-cn-fs",{"avp-state":h.fullscreenEnabled()?"on":"off"}),p.onFullscreenChange()}),n)p.content.dispatcher.addEventListener(o,n[o])},O.prototype.hideUi=function(t,e,i,n){i||this.hideElementByClass(".avp-p-gui-b"),t||(this.hideElementByClass(".avp-p-cn-bp"),this.hideElementByClass(".avp-hide-gui")),e||(this.hideElementByClass(".avp-p-cn-bprev"),this.hideElementByClass(".avp-p-cn-bnext"),this.hideElementByClass(".avp-p-cn-sec-bnext"),this.hideElementByClass(".avp-p-cn-sec-bprev")),t||e||i||(this.mobileGuiIsVisible=!1),n&&this.hideElementByClass(".avp-p-gui-t")},O.prototype.showUi=function(t,e,i,n){i||this.showElementByClass(".avp-p-gui-b"),t||(this.showElementByClass(".avp-p-cn-bp"),this.showElementByClass(".avp-show-gui")),e||(this.showElementByClass(".avp-p-cn-bprev"),this.showElementByClass(".avp-p-cn-bnext"),this.showElementByClass(".avp-p-cn-sec-bnext"),this.showElementByClass(".avp-p-cn-sec-bprev")),t||e||i||(this.mobileGuiIsVisible=!0),n&&this.showElementByClass(".avp-p-gui-t")},O.prototype.onTouch=function(t){var e=this.controler,i=e.content.config,n=com.aniview.player.Utils.parseInt(i.hideGuiTimeout,0,10);switch(t.type){case"touchstart":clearTimeout(e.hideGuiTimeout);break;case"touchend":e.hideGuiTimeout=setTimeout(function(){e.handleGUITimeout()},1e3*n)}},O.prototype.onClickEvent=function(t){if(!this.controler.state.loading){var e=this.controler,i=e.content.config;if(com.aniview.player.Utils.isMobile()){var n=com.aniview.player.Utils.parseInt(i.hideGuiTimeout,0,10);e.mobileGuiIsVisible?t.currentTarget==t.target&&(e.hideUi(),e.mobileGuiIsVisible=!1,e.contentCTRHandler()):(e.mobileGuiIsVisible=!0,clearTimeout(e.hideGuiTimeout),e.showInnerGUI(!1,!0),e.hideGuiTimeout=setTimeout(function(){e.handleGUITimeout()},1e3*n))}else if(t.currentTarget==t.target||t.target==this.controler.getElementByClass(".avp-p-gui-ch")){if(e.contentCTRHandler())return;this.controler.config.noDefaultClick||t.currentTarget.controler.onPlayClick(),this.controler.dispatcher.dispatchEvent(t)}}},O.prototype.handleGUITimeout=function(t){this.mobileGuiIsVisible=!1;var e=this.content.config,i=this.content.getPaused(),n=this.config.showBigPlayOnPause&&i||this.content.showBigPlayOnPoster,o=this.config.showBigPrevNextOnPause&&i,a=e.hideLogoOnMouseout&&!n;e.showUiOnPause&&i||(this.hideUi(n,o,i,a),s(this.container,"p-hover"),com.aniview.player.Utils.fullscreenEnabled())},O.prototype.contentCTRHandler=function(t){var e=!1;try{e=this.content.getContentClickthrough()}catch(t){}if(e){this.config.noPauseOnClickthrough||this.content.pause(!0);var i=B.open(e,"_blank");if(i)return i.focus(),this.event(O.Events.ContentClickThru,{clickThru:e}),i;com.aniview.player.Utils.log("Can't open new window")}return!1},O.prototype.onDoubleClickEvent=function(t){t.currentTarget==t.target&&(this.controler.onFullscreenClick(),this.controler.dispatcher.dispatchEvent(t))},O.prototype.addEventListener=function(t,e){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(e)},O.prototype.container=null,O.prototype.content=null,O.prototype.dispatcher=null,O.prototype.config=null,O.prototype.style=null,O.prototype.mobileGuiIsVisible=!1,O.prototype.styles=null,O.prototype.state=null,O.prototype.hideGuiTimeout=-1,O.prototype.seekTime=-1,O.prototype.init=function(){var e=this;this.config={},this.state={},this.style=[],this.styles=[];document.addEventListener("keydown",function(t){39==t.keyCode?e.content.setContentCurrentTimeAddXSec():37==t.keyCode&&e.content.setContentCurrentTimeReduceXSec()});var t,i=this.content.config,n=i.customButtons||{},o={"avp-p-cn-pp":{play:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNi45LDN2MTdsMTMuNS04LjVMNi45LDN6Ii8+PC9zdmc+");',pause:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNS41LDE5LjVoNHYtMTZoLTRWMTkuNXogTTEzLjUsMy41djE2aDR2LTE2SDEzLjV6Ii8+PC9zdmc+");',replay:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMTEuNSwxNy4yYy0xLjUsMC0yLjktMC42LTQtMS43Yy0yLjItMi4yLTIuMi01LjgsMC04YzIuMi0yLjIsNS44LTIuMiw4LDBsLTEuOSwxLjlsNi4xLDEuMWwtMS4xLTYuMWwtMS43LDEuNyBjLTMtMy03LjgtMy0xMC44LDBjLTMsMy0zLDcuOCwwLDEwLjhjMS40LDEuNCwzLjQsMi4yLDUuNCwyLjJzNC0wLjgsNS40LTIuMmwtMS40LTEuNEMxNC40LDE2LjYsMTMsMTcuMiwxMS41LDE3LjJ6Ii8+PC9zdmc+");'},"avp-p-cn-fs":{on:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMiwxN2g0djRoM3YtN0gyVjE3eiBNNiw2SDJ2M2g3VjJINlY2eiBNMTcsNlYyaC0zdjdoN1Y2SDE3eiBNMTQsMjFoM3YtNGg0di0zaC03VjIxeiIvPjwvc3ZnPg==");',off:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMiw5aDNWNWg0VjJIMlY5eiBNNSwxNEgydjdoN3YtM0g1VjE0eiBNMTgsMThoLTR2M2g3di03aC0zVjE4eiBNMTQsMnYzaDR2NGgzVjJIMTR6Ii8+PC9zdmc+");'},"avp-p-cn-next":'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cG9seWdvbiBwb2ludHM9IjE5LjIsMTEuNSA4LjksNSA4LjksOC4yIDMuOSw1IDMuOSwxOCA4LjksMTQuOCA4LjksMTgiLz48L3N2Zz4=");',"avp-p-cn-prev":'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cG9seWdvbiBwb2ludHM9IjMuOCwxMS41IDE0LjEsNSAxNC4xLDguMiAxOS4xLDUgMTkuMSwxOCAxNC4xLDE0LjggMTQuMSwxOCIvPjwvc3ZnPg==");',"avp-p-cn-bnext":'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNC44LDE4bDEwLjMtNi41TDQuOCw1VjE4eiBNMTYuMiw1djEzaDJWNUgxNi4yeiIvPjwvc3ZnPg==");',"avp-p-cn-bprev":'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMTguMiw1TDcuOCwxMS41TDE4LjIsMThWNXogTTQuOCw1djEzaDJWNUg0Ljh6Ii8+PC9zdmc+");',"avp-p-cn-replay":'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMTguMiw1TDcuOCwxMS41TDE4LjIsMThWNXogTTQuOCw1djEzaDJWNUg0Ljh6Ii8+PC9zdmc+");',"avp-p-cn-s":{on:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMS43LDguNXY2aDMuNWw1LjYsNXYtMTZsLTUuNiw1SDEuN3ogTTE2LjMsMTEuNWMwLTEuOC0xLTMuMy0yLjUtNHY4QzE1LjMsMTQuOCwxNi4zLDEzLjMsMTYuMywxMS41eiBNMTMuOCwyLjJ2Mi42YzIuOSwwLjksNSwzLjUsNSw2LjdzLTIuMSw1LjgtNSw2Ljd2Mi42YzQuMy0wLjksNy41LTQuNyw3LjUtOS4zUzE4LjEsMy4xLDEzLjgsMi4yeiIvPjwvc3ZnPg==");',off:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMTksMi4ybC0xLjYsMS42Yy0xLjEtMC44LTIuMy0xLjMtMy42LTEuNnYyLjZDMTQuNCw1LDE1LDUuMywxNS42LDUuNmwtNC44LDQuOFYzLjVsLTUuNiw1SDEuN3Y2aDMuNUw2LDE1LjIgbC0zLjksMy45bDEuOCwxLjhMMjAuOCw0TDE5LDIuMnogTTEzLjgsMTUuNWMxLjUtMC43LDIuNS0yLjIsMi41LTRjMC0wLjMsMC0wLjUtMC4xLTAuOGwtMi40LDIuNFYxNS41eiBNMjAuMSw2LjlsLTEuOSwxLjkgYzAuNCwwLjksMC42LDEuOCwwLjYsMi44YzAsMy4yLTIuMSw1LjgtNSw2Ljd2Mi42YzQuMy0wLjksNy41LTQuNyw3LjUtOS4zQzIxLjMsOS44LDIwLjksOC4yLDIwLjEsNi45eiBNMTAuOCwxOS41di0zLjRMOSwxNy45IEwxMC44LDE5LjV6Ii8+PC9zdmc+");',medium:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMS43LDguNXY2aDMuNWw1LjYsNXYtMTZsLTUuNiw1SDEuN3ogTTEzLjgsNy41djhjMS41LTAuNywyLjUtMi4yLDIuNS00UzE1LjMsOC4yLDEzLjgsNy41eiIvPjwvc3ZnPg==");'},"avp-p-cn-sec-bnext":'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjIgMjIiIA0KCSB4bWw6c3BhY2U9InByZXNlcnZlIiBmaWxsPSJ3aGl0ZSI+DQo8Zz4NCgk8cG9seWdvbiBwb2ludHM9IjksNCAxNiwxMSA5LDE4IDEyLDIxIDIyLDExIDEyLDEiLz4NCgk8cG9seWdvbiBwb2ludHM9IjMsMjEgMTMsMTEgMywxIDAsNCA3LDExIDAsMTgiLz4NCjwvZz4NCjwvc3ZnPg0K");',"avp-p-cn-sec-bprev":'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjIgMjIiIA0KCSB4bWw6c3BhY2U9InByZXNlcnZlIiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJyb3RhdGUoMTgwKSI+DQo8Zz4NCgk8cG9seWdvbiBwb2ludHM9IjksNCAxNiwxMSA5LDE4IDEyLDIxIDIyLDExIDEyLDEiLz4NCgk8cG9seWdvbiBwb2ludHM9IjMsMjEgMTMsMTEgMywxIDAsNCA3LDExIDAsMTgiLz4NCjwvZz4NCjwvc3ZnPg==");',"avp-p-cn-close":'background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22close-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpolygon%20fill%3D%22white%22%20points%3D%2219.346%205.421%2017.256%203.332%2011.338%209.25%205.42%203.332%203.332%205.421%209.25%2011.338%203.332%2017.257%205.42%2019.345%2011.338%2013.427%2017.256%2019.345%2019.346%2017.257%2013.428%2011.338%22%20clip-rule%3D%22evenodd%22%20fill-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E")'};for(t in n)if(n.hasOwnProperty(t))if("string"==typeof o[t])o[t]="";else if("object"==typeof o[t]){var a,s=o[t];for(a in s)s.hasOwnProperty(t)&&"string"==typeof s[a]&&(s[a]="")}N(this.container,"avp-p-gui"),this.container.setAttribute("data-avp-mobile",com.aniview.player.Utils.isMobile()),this.container.setAttribute("data-avp-width",i.width),this.container.setAttribute("data-avp-height",i.height),this.container.setAttribute("data-avp-theme",i.theme),this.container.setAttribute("data-theme-color",i.themeColor?i.themeColor:"#ff0000"),this.addElementsTo(this.container,[{class:"avp-p-gui-b",children:[{class:"avp-p-dk avp-pos-abs"},{class:"avp-p-cn avp-pos-abs",children:[{class:"avp-p-cn-l"},{class:"avp-p-cn-m"},{class:"avp-p-cn-r"}]}]},{class:"avp-p-gui-m"},{class:"avp-p-gui-t"}]),this.style.push(document.createElement("style")),this.style[0].setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(this.style[0]);var r=this.container.getAttribute("data-id"),l=this.sharedGui.getAttribute("data-id");i.customButtons=i.customButtons||{};var d,p,c,u='.avp-concealed{height:0; opacity:0;}\n.avp-opening-animation{overflow:hidden;-webkit-transition:1s ease height; transition:1s ease height}\n[data-id="'+r+'"] *{ direction:ltr!important; color:white; }\n[data-id="'+r+'"] *, [data-id="'+r+'"] div, [data-id="'+r+'"] svg{ display:inline-block; margin:0; padding:0; border:0; -webkit-box-sizing:border-box; box-sizing:border-box; }\n[data-id="'+r+'"] div{ background-position:center center; background-repeat:no-repeat; }\n[data-id="'+r+'"] .avp-pos-abs{ position:absolute; }\n[data-id="'+r+'"] .avp-pointer-none{ pointer-events:none; }\n[data-id="'+r+'"] .avp-invisible{ display: none; }\n[data-id="'+r+'"] .avp-hidden{ visibility: hidden; opacity:0; -webkit-opacity:0; pointer-events:none;}\n[data-id="'+l+'"] .avp-hidden{ visibility: hidden; opacity:0; -webkit-opacity:0; pointer-events:none;}\n[data-id="'+r+'"] .avp-p-gui-b{ -webkit-transition:all 0.3s ease-out; -moz-transition:all 0.3s ease-out; -o-transition:all 0.3s ease-out; transition:all 0.3s ease-out; }\n[data-id="'+r+'"] .avp-hideDisplay{ opacity:0; display:none; visibility:hidden; }\n[data-id="'+r+'"] .avp-bgs-c{ -webkit-background-size:cover; background-size:cover; }\n[data-id="'+r+'"].avp-p-gui{ width:'+i.width+"px; height:"+i.height+'px; position:relative; -webkit-touch-callout:none; -webkit-user-select:none; -moz-user-select:none; user-select:none; background-color:rgba(0,0,0,0); }\n[data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-ti{ color:#fff; padding:10px 22px; font-size:19px; z-index:10; font-weight: 700; text-shadow: 0 0 2px rgba(0,0,0,1); -webkit-font-smoothing: antialiased; font-family: Roboto, Arial, sans-serif;max-width:75%;  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;}[data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-ti{ color:#fff; padding:10px 22px; font-size:19px; z-index:10; font-weight: 700; text-shadow: 0 0 2px rgba(0,0,0,1); -webkit-font-smoothing: antialiased; font-family: Roboto, Arial, sans-serif;max-width:75%;  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;}[data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-ti{ color:#fff; padding:8px 14px; font-size:14px; z-index:10; font-weight: 700; text-shadow: 0 0 2px rgba(0,0,0,1); -webkit-font-smoothing: antialiased; font-family: Roboto, Arial, sans-serif;max-width:75%;  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;}[data-id="'+r+'"][data-avp-ui-size="xxxs"] .avp-p-ti{ color:#fff; padding:8px 8px; font-size:9px; z-index:10; font-weight: 700; text-shadow: 0 0 2px rgba(0,0,0,1); -webkit-font-smoothing: antialiased; font-family: Roboto, Arial, sans-serif;max-width:75%;  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;}[data-id="'+r+'"] .avp-p-ti.title-left{ left:20px; }\n[data-id="'+r+'"] .avp-p-ti.title-right{ right:20px; }\n[data-id="'+r+'"] .avp-p-dk{ width:100%; bottom:0; pointer-events:none; left:0; }\n[data-id="'+r+'"] .avp-p-cn, [data-id="'+r+'"] .avp-p-cn > div{ display:-webkit-flex; display:-moz-flex; display:flexbox; display:-ms-flexbox; display:flex; }\n[data-id="'+r+'"] .avp-p-cn, [data-id="'+r+'"] .avp-p-cn { z-index:3 }\n[data-id="'+r+'"] .avp-p-cn-l, [data-id="'+r+'"] .avp-p-cn-r{ -webkit-flex:0 0 auto; -moz-flex:0 0 auto; -ms-flex:0 0 auto; flex:0 0 auto; min-width:1px; min-height:1px; max-width:100%; }\n[data-id="'+r+'"] .avp-p-cn-m{ -webkit-flex:1 1 auto; -moz-flex:1 1 auto; -ms-flex:1 1 auto; flex:1 1 auto; min-width:1px; min-height:1px; max-width:100%; position:relative; }\n[data-id="'+r+'"] .avp-p-cn-l > div, [data-id="'+r+'"] .avp-p-cn-r > div{ -webkit-flex:0 0 auto; -moz-flex:0 0 auto; -ms-flex:0 0 auto; flex:0 0 auto; min-width:1px; min-height:1px; max-width:100%; width:30px; height:30px; }\n[data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-l > div, [data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-r > div{ width:26px; height:26px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-l > div, [data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-r > div{ width:22px; height:22px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-l > div, [data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-r > div{ width:20px; height:20px; }\n[data-id="'+r+'"][data-avp-ui-size="xxxs"] .avp-p-cn-l > div, [data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-r > div{ width:20px; height:20px; }\n[data-id="'+r+'"] .avp-p-cn-pp{ -webkit-background-size:80%; background-size:80%; -ms-flex-order:3; flex-order:3; order:3; }\n[data-id="'+r+'"] .avp-p-cn-fs{ -webkit-background-size:70%; background-size:70%; }\n[data-id="'+r+'"] .avp-p-cn-replay, [data-id="'+r+'"] .avp-p-cn-prev, [data-id="'+r+'"] .avp-p-cn-next{ -webkit-background-size:70%; background-size:70%; }\n[data-id="'+r+'"] .avp-p-cn-bnext, [data-id="'+r+'"] .avp-p-cn-bprev{ width:40px; height:40px; top:50%; -webkit-transform:translateY(-50%); transform:translateY(-50%); background-color:rgba(0,0,0,0.5); -webkit-border-radius:50%; border-radius:50%; background-size:50%; border:1px solid white; z-index: 3;}\n[data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-bnext, [data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-bprev{ width:34px; height:34px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-bnext, [data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-bprev{ width:28px; height:28px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-bnext, [data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-bprev{ width:28px; height:28px; }\n[data-id="'+r+'"][data-avp-ui-size="xxxs"] .avp-p-cn-bnext, [data-id="'+r+'"][data-avp-ui-size="xxxs"] .avp-p-cn-bprev{ width:24px; height:24px; }\n[data-id="'+r+'"] .avp-p-cn-bnext{ right:10px; }\n[data-id="'+r+'"] .avp-p-cn-bprev{ left:10px;}\n[data-id="'+r+'"] .avp-p-cn-bp{ width:80px; height:80px; left:50%; top:50%; margin:-40px 0 0 -40px; background-color:rgba(0,0,0,0.3); -webkit-border-radius:50%; border-radius:50%; background-size:50%; -webkit-transition:0.3s opacity; transition:0.3s opacity; z-index: 3}\n[data-id="'+r+'"] .avp-p-cn-breplay:not(.avp-hidden) ~ .avp-p-cn-bp { display: none; visibility: hidden }\n[data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-bp{ width:60px; height:60px; margin:-30px 0 0 -30px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-bp{ width:48px; height:48px; margin:-24px 0 0 -24px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-bp{ width:30px; height:30px; margin:-15px 0 0 -15px; }\n[data-id="'+r+'"][data-avp-ui-size="xxxs"] .avp-p-cn-bp{ width:25px; height:25px; margin:-13px 0 0 -13px; }\n[data-id="'+r+'"] .avp-p-cn-sec-bnext{ width:80px; height:80px; left:75%; top:50%; margin:-40px 0 0 -40px; background-color:rgba(0,0,0,0.3); -webkit-border-radius:50%; border-radius:50%; background-size:35%; -webkit-transition:0.3s opacity; transition:0.3s opacity; z-index: 1; '+o["avp-p-cn-sec-bnext"]+'} \n[data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-sec-bnext{ width:50px; height:50px; margin:-24px 0 0 -30px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-sec-bnext{ width:48px; height:48px; margin:-24px 0 0 -24px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-sec-bnext{ width:30px; height:30px; margin:-15px 0 0 -15px; }\n[data-id="'+r+'"][data-avp-ui-size="xxxs"] .avp-p-cn-sec-bnext{display:none}\n[data-id="'+r+'"] .avp-p-cn-sec-bprev{ width:80px; height:80px; left:25%; top:50%; margin:-40px 0 0 -40px; background-color:rgba(0,0,0,0.3); -webkit-border-radius:50%; border-radius:50%; background-size:35%; -webkit-transition:0.3s opacity; transition:0.3s opacity; z-index: 1; '+o["avp-p-cn-sec-bprev"]+'}\n[data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-sec-bprev{ width:50px; height:50px; margin:-24px 0 0 -30px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-sec-bprev{ width:48px; height:48px; margin:-24px 0 0 -24px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-sec-bprev{ width:30px; height:30px; margin:-15px 0 0 -15px; }\n[data-id="'+r+'"][data-avp-ui-size="xxxs"] .avp-p-cn-sec-bprev{display:none}\n'+(i.customButtons["avp-p-cn-pp"]?'[data-id="'+r+'"] .avp-p-cn-bp[data-avp-state="play"] .avp-p-cn-pp-play, [data-id="'+r+'"] .avp-p-cn-pp[data-avp-state="play"] .avp-p-cn-pp-play{ display:block; }\n[data-id="'+r+'"] .avp-p-cn-bp[data-avp-state="pause"] .avp-p-cn-pp-pause, [data-id="'+r+'"] .avp-p-cn-pp[data-avp-state="pause"] .avp-p-cn-pp-pause{ display:block }\n[data-id="'+r+'"] .avp-p-cn-pp[data-avp-state="replay"] .avp-p-cn-pp-replay, [data-id="'+r+'"] .avp-p-cn-pp[data-avp-state="replay"] .avp-p-cn-pp-replay{ display:block }\n':'[data-id="'+r+'"] .avp-p-cn-bp[data-avp-state="play"], [data-id="'+r+'"] .avp-p-cn-pp[data-avp-state="play"]{ '+o["avp-p-cn-pp"].play+' }\n[data-id="'+r+'"] .avp-p-cn-bp[data-avp-state="pause"], [data-id="'+r+'"] .avp-p-cn-pp[data-avp-state="pause"]{ '+o["avp-p-cn-pp"].pause+' }\n[data-id="'+r+'"] .avp-p-cn-pp[data-avp-state="replay"], [data-id="'+r+'"] .avp-p-cn-breplay-i{ '+o["avp-p-cn-pp"].replay+" }\n")+'[data-id="'+r+'"] .avp-p-cn-next{ -ms-flex-order:4; flex-order:4; order:4; '+o["avp-p-cn-next"]+' }\n[data-id="'+r+'"] .avp-p-cn-prev{ -ms-flex-order:2; flex-order:2; order:2; '+o["avp-p-cn-prev"]+' }\n[data-id="'+r+'"] .avp-p-cn-bnext{ '+o["avp-p-cn-bnext"]+' }\n[data-id="'+r+'"] .avp-p-cn-replay { '+o["avp-p-cn-replay"]+' }\n[data-id="'+r+'"] .avp-p-cn-bprev{ '+o["avp-p-cn-bprev"]+' }\n[data-id="'+r+'"] .avp-p-cn-replay{ -ms-flex-order:1; flex-order:1; order:1; }\n[data-id="'+r+'"].avp-p-gui.ads-mode .avp-p-cn-bprev,[data-id="'+r+'"].avp-p-gui.ads-mode .avp-p-cn-bnext { display: none; }\n[data-id="'+r+'"].avp-p-gui.ads-mode .avp-p-cn-d,[data-id="'+r+'"].avp-p-gui.ads-mode .avp-p-cn-l,[data-id="'+r+'"].avp-p-gui.ads-mode .avp-p-cn-m { visibility: hidden; }\n'+(i.customButtons["avp-p-cn-fs"]?'[data-id="'+r+'"] .avp-p-cn-fs[data-avp-state="off"] .avp-p-cn-fs-off{ display:block; }\n[data-id="'+r+'"] .avp-p-cn-fs[data-avp-state="on"] .avp-p-cn-fs-on{ display:block }\n':'[data-id="'+r+'"] .avp-p-cn-fs[data-avp-state="off"]{ '+o["avp-p-cn-fs"].off+' }\n[data-id="'+r+'"] .avp-p-cn-fs[data-avp-state="on"]{ '+o["avp-p-cn-fs"].on+"}\n");u+='[data-id="'+r+'"] .avp-p-cn-s-container{ position:relative; -webkit-transition:0.3s all; transition:0.3s all; }\n[data-id="'+r+'"] .avp-p-cn-s{ -webkit-background-size:75%; background-size:75%; background-position:72% center; height:100%; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-s{width:22px;}\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-s{width:22px;}\n[data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-s{width:26px;}\n[data-id="'+r+'"][data-avp-ui-size="m"] .avp-p-cn-s{width:33px;}\n'+(i.customButtons["avp-p-cn-s"]?'[data-id="'+r+'"] .avp-p-cn-s[data-avp-state="on"] .avp-p-cn-s-on{ display:block }\n[data-id="'+r+'"] .avp-p-cn-s[data-avp-state="off"] .avp-p-cn-s-off{ display:block; }\n[data-id="'+r+'"] .avp-p-cn-s[data-avp-state="medium"] .avp-p-cn-s-medium{ display:block }\n':'[data-id="'+r+'"] .avp-p-cn-s[data-avp-state="on"]{ '+o["avp-p-cn-s"].on+' }\n[data-id="'+r+'"] .avp-p-cn-s[data-avp-state="off"]{ '+o["avp-p-cn-s"].off+' }\n[data-id="'+r+'"] .avp-p-cn-s[data-avp-state="medium"]{ '+o["avp-p-cn-s"].medium+" }\n"),i.caption&&(u+='[data-id="'+l+'"] #av-caption{position:relative;text-align:center;line-height:18px;}\n[data-id="'+l+'"] #av-close-btn-overlay{display:inline-block;position:relative;z-index:9999999;vertical-align:top;bottom:18px}\n[data-id="'+l+'"] #av-close-btn{position:static;width:18px;height:18px;border:none}'),this.inlineToContent=i.floating&&("top"===i.floating.position||"bottom"===i.floating.position)||i.sticky&&("top"===i.sticky.position||"bottom"===i.sticky.position),this.inlineToContent&&(d="#fff",p="Roboto, Arial, sans-serif",h.isFloating(i)?(i.floating.textColor&&(d=i.floating.textColor),i.floating.textFont&&(p=i.floating.textFont),i.floating.textSize&&(c=i.floating.textSize)):h.isSticky(i)&&(i.sticky.textColor&&(d=i.sticky.textColor),i.sticky.textFont&&(p=i.sticky.textFont),i.sticky.textSize&&(c=i.sticky.textSize)),u+="#av-inlineToContent > .avp-p-ti{max-height:calc(100% - 34px);max-width:calc(100% - 34px);color:"+d+";margin:17px;z-index:10;position:absolute;font-weight:700;text-shadow:0 0 2px rgba(0,0,0,1);-webkit-font-smoothing:antialiased;font-family:"+p+';overflow:hidden;text-overflow:ellipsis;text-decoration-line: unset;}\n[data-id="'+l+'"][data-avp-ui-size="s"] #av-inlineToContent > .avp-p-ti{font-size:19px;}\n[data-id="'+l+'"][data-avp-ui-size="xs"] #av-inlineToContent > .avp-p-ti{font-size:19px;}\n[data-id="'+l+'"][data-avp-ui-size="xxs"] #av-inlineToContent > .avp-p-ti{font-size:14px;}\n[data-id="'+l+'"][data-avp-ui-size="xxxs"] #av-inlineToContent > .avp-p-ti{font-size:9px;}\n#av-inlineToContent > .avp-p-ti:hover{text-decoration: underline;}\n.avp-p-wrapper.av-floating [data-id="'+l+'"] .avp-p-cn-close{left:unset;right:0;border-width:inherit;background-color:inherit;}\n.avp-p-wrapper.av-floating {box-shadow: rgba(0, 0, 0, 0.4) 1px 1px 6px 3px;}\n.avp-p-wrapper.av-sticky [data-id="'+l+'"] .avp-p-cn-close{left:unset;right:0;border-width:inherit;background-color:inherit;}\n.avp-p-wrapper.av-sticky {box-shadow: rgba(0, 0, 0, 0.4) 1px 1px 6px 3px;}\n'),c&&(u+='[data-id="'+l+'"] #av-inlineToContent > .avp-p-ti{font-size:'+c+"px!important;}"),u+='.avp-p-wrapper.av-floating #av-inlineToContent{display:block;right:0;position:absolute;height:100%;}\n.avp-p-wrapper.av-floating [data-id="'+r+'"] .avp-p-ti{display:none;}\n.avp-p-wrapper.av-sticky #av-inlineToContent{display:block;right:0;position:absolute;height:100%}\n.avp-p-wrapper.av-sticky [data-id="'+r+'"] .avp-p-ti{display:none;}\n.avp-p-wrapper #av-inlineToContent{display:none;}\n',u+='[data-id="'+l+'"] .avp-p-cn-close{ cursor: pointer; -webkit-opacity: 0.8; opacity: 0.8; background-color: rgb(0, 0, 0); background-color: rgba(0, 0, 0, 0.7);z-index: 9999999; position: absolute; top: 0; left: 0; width: 28px; height: 28px; background-color: rgb(50, 50, 50); background-color: rgba(0, 0, 0, 0.4);background-repeat: no-repeat; background-size: 60%; background-position: center; -webkit-transition: all 0.15s ease-in-out; -moz-transition: all 0.15s ease-in-out; -o-transition: all 0.15s ease-in-out; transition: all 0.15s ease-in-out;',i.closeButtonStyle&&"x"===i.closeButtonStyle.style||this.inlineToContent||(u+="border-style: solid; border-width: 0 1px 1px 0;border-color: white;"+o["avp-p-cn-close"]),u+="}\n",u+='[data-id="'+r+'"] .bottom-logo { -webkit-transition:bottom 0.3s ease; -moz-transition:bottom 0.3s ease; -ms-transition:bottom 0.3s ease; -o-transition:bottom 0.3s ease; transition:bottom 0.3s ease; bottom: 8px; }\n[data-id="'+r+'"] .nonl-container { -webkit-transition:bottom 0.3s ease; -moz-transition:bottom 0.3s ease; -ms-transition:bottom 0.3s ease; -o-transition:bottom 0.3s ease; transition:bottom 0.3s ease; bottom: 8px; }\n[data-id="'+r+'"] .avp-p-gui-b.avp-hidden ~ .avp-p-gui-t .bottom-logo {bottom: 8px; }\n[data-id="'+r+'"][data-avp-theme="solid"] .bottom-logo { bottom: 40px; }\n[data-id="'+r+'"][data-avp-ui-size="s"][data-avp-theme="solid"] .bottom-logo { bottom: 34px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"][data-avp-theme="solid"] .bottom-logo { bottom: 28px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"][data-avp-theme="solid"] .bottom-logo { bottom: 22px; }\n[data-id="'+r+'"][data-avp-ui-size="xxxs"][data-avp-theme="solid"] .bottom-logo { bottom: 22px; }\n[data-id="'+r+'"] .bottom-logo { bottom: 50px; }\n[data-id="'+r+'"][data-avp-ui-size="s"] .bottom-logo { bottom: 50px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .bottom-logo { bottom: 41px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .bottom-logo { bottom: 48px; }\n[data-id="'+r+'"][data-avp-ui-size="xxxs"] .bottom-logo { bottom: 48px; }\n[data-id="'+r+'"][data-avp-ui-size="s"] .top-logo { top: 8px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .top-logo { top: 8px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .top-logo { top: 5px;}\n[data-id="'+r+'"][data-avp-ui-size="xxxs"] .top-logo { top: 5px;}\n[data-id="'+r+'"] .avp-p-gui-b.avp-hidden ~ .nonl-container {bottom: 8px; }\n[data-id="'+r+'"] .nonl-container { bottom: 50px; left: 0;}\n[data-id="'+r+'"][data-avp-ui-size="s"] .nonl-container { bottom: 50px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .nonl-container { bottom: 41px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .nonl-container { bottom: 48px; }\n[data-id="'+r+'"][data-avp-ui-size="xxxs"] .nonl-container { bottom: 48px; }\n[data-id="'+r+'"] .avp-p-gui-ch { position: absolute; width: 100%; height: 100% }\n            ',u+='[data-id="'+r+'"] .avp-p-sl-cp { background: rgba(0, 0, 0, .4); padding: 10px; bottom: 40px; left: 50%; transform: translateX(-50%); max-height: calc(100% - 50px); overflow: hidden; pointer-events: none }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-sl-cp { font-size: 12px; line-height: 12px;}\n[data-id="'+r+'"][data-avp-ui-size="xxxs"] .avp-p-sl-cp { display:none; }\n[data-id="'+r+'"] .avp-p-sl-cp-txt-clip { overflow: hidden; width: 100%; }\n[data-id="'+r+'"] .avp-p-sl-cp-txt-clip.animate-in { animation: animateTextIn 1s linear; }\n@keyframes animateTextIn { 0% { width: 0%; } 100% { width: 100%; } }\n',com.aniview.player.Utils.isMobile()||(u+='[data-id="'+r+'"] .avp-btn:not(.avp-hidden){ cursor:pointer; -webkit-opacity:0.8; opacity:0.8; }\n[data-id="'+r+'"] .avp-btn:hover{ cursor:pointer; -webkit-opacity:1; opacity:1; }\n            '),this.addStyle(u)},O.prototype.getUISizeClass=function(t,e){var i=t*e,n=1e5,o=5e4;return n<i&&i<=2e5?"s":o<i&&i<=n?"xs":2e4<i&&i<=o?"xxs":i<o?"xxxs":"m"},O.prototype.setSize=function(t,e){this.container.setAttribute("data-avp-width",t),this.container.setAttribute("data-avp-height",e),this.container.style.width=t+"px",this.container.style.height=e+"px";var i=this.getUISizeClass(t,e);this.container.setAttribute("data-avp-ui-size",i),this.sharedGui.setAttribute("data-avp-ui-size",i);var n=this.getElementByClass(".avp-p-sl-cp-txt-clip");n&&(n.style.width=this.content.getWidth()/2+"px")},O.prototype.update=function(t){var e,i=this.content.config;for(e in i)this.config[e]!=i[e]&&(this.config[e]=i[e],this.updateParameter(e,t))},O.prototype.initCloseButtonStyle=function(t){var e,i,n,o,a;t&&t.outside&&(e=this.closeOverlay.style,i="default","string"!=typeof t.position&&(t.position=i),t.position=t.position.toLowerCase(),t.position===i&&(t.position=t.outside?"top-right":"top-left"),n=t.overlayMargin,isNaN(t.overlayMargin)&&(n=30),o=+t.left,a=+t.right,e.padding=n+"px",e.margin=-n+"px",isNaN(o)||(e.marginLeft=o-n+"px"),isNaN(a)||(e.marginRight=a-n+"px"),"top-left"===t.position?e.float="left":e.float="right")},O.prototype.updateSharedParameter=function(){var t,e=this,i=this.content.config;(i.floating&&("top"===i.floating.position||"bottom"===i.floating.position)||i.sticky&&("top"===i.sticky.position||"bottom"===i.sticky.position)||i.closeButtonStyle&&"x"===i.closeButtonStyle.style)&&(t='                        <svg fill="white" viewBox="0 0 252 252">                            <g>                                <path d="M164.612,87.388c-3.515-3.515-9.213-3.515-12.728,0L126,113.272l-25.885-25.885c-3.515-3.515-9.213-3.515-12.728,0   c-3.515,3.515-3.515,9.213,0,12.728L113.272,126l-25.885,25.885c-3.515,3.515-3.515,9.213,0,12.728   c1.757,1.757,4.061,2.636,6.364,2.636s4.606-0.879,6.364-2.636L126,138.728l25.885,25.885c1.757,1.757,4.061,2.636,6.364,2.636   s4.606-0.879,6.364-2.636c3.515-3.515,3.515-9.213,0-12.728L138.728,126l25.885-25.885   C168.127,96.601,168.127,90.902,164.612,87.388z"/>                            </g>                        </svg>                    '),i.adConfig.closeEvent=!1,i.caption?(this.addElementsTo(".avp-shared-gui",[{id:"av-caption",children:{id:"av-close-btn-overlay",class:"av-pos-"+i.closeButtonStyle.position,children:{id:"av-close-btn",class:"avp-p-cn-close avp-pos-abs avp-btn",value:this.content.config.customButtons["avp-p-cn-close"]||t}}}],!0,!0),this.closeOverlay=this.getElementByClass("#av-close-btn-overlay",!0),this.initCloseButtonStyle(i.closeButtonStyle),e.content.caption=this.getElementByClass("#av-caption",!0)):this.addElementsTo(".avp-shared-gui",[{class:"avp-p-cn-close avp-pos-abs avp-btn",value:this.content.config.customButtons["avp-p-cn-close"]||t}],!0),t&&(this.sharedGui.querySelector(".avp-p-cn-close").style.backgroundImage="unset"),this.getElementByClass(".avp-p-cn-close",!0).onclick=function(){i.closeButton&&!h.isFloating(i)||i.closeButton&&h.isFloating(i)&&e.content.getViewability().inView||!i.floating||!i.floating.closeButton?(e.content.closePlayer(),e.event(O.Events.CloseClicked)):i.floating&&i.floating.closeButton&&(e.content.stopFloating(),e.event(O.Events.CloseFloatingClicked))}};var i=!(O.prototype.updateParameter=function(t,e){var i,n,o,a,s,r,l,d=this,p=this.content.config,c=this.container.getAttribute("data-id"),u="";switch(t){case"autoPlay":this.getElementByClass(".avp-p-cn-bp")||this.addElementsTo(".avp-p-gui-m",{class:"avp-p-cn-bp avp-pos-abs avp-btn",data:{"avp-state":"play"},value:this.content.config.customButtons["avp-p-cn-bp"]});var h=!p.hideGuiOnMouseout;!0===p.autoPlay?this.hideUi(!1,!1,h):this.showElementByClass(".avp-p-cn-bp"),this.setElementDataByClass(".avp-p-cn-bp",{"avp-state":p.autoPlay?"pause":"play"}),this.getElementByClass(".avp-p-cn-bp").onclick=function(t){d.onPlayClick()};break;case"timelineMode":0!=p.timelineMode&&"none"!=p.timelineMode?(this.addTimelineStyles(),this.addTimeline()):this.removeElementByClass(".avp-p-tl");break;case"showBigPrevNext":0!=p.showBigPrevNext?(i=" avp-hidden",this.addElementsTo(".avp-p-gui-m",[{class:"avp-p-cn-bprev avp-pos-abs avp-btn"+i,value:this.content.config.customButtons["avp-p-cn-bprev"]},{class:"avp-p-cn-bnext avp-pos-abs avp-btn"+i,value:this.content.config.customButtons["avp-p-cn-bnext"]}]),this.getElementByClass(".avp-p-cn-bprev").onclick=function(){d.onPrevClick()},this.getElementByClass(".avp-p-cn-bnext").onclick=function(){d.onNextClick()}):(this.removeElementByClass(".avp-p-cn-bprev"),this.removeElementByClass(".avp-p-cn-bnext"));break;case"moveXSec":0!=p.moveXSec?(i="","none"==this.content.playerOwner&&(i=" avp-hidden"),this.addElementsTo(".avp-p-gui-m",[{class:"avp-p-cn-sec-bprev avp-pos-abs avp-btn"+i,value:this.content.config.customButtons["avp-p-cn-sec-bprev"]},{class:"avp-p-cn-sec-bnext avp-pos-abs avp-btn"+i,value:this.content.config.customButtons["avp-p-cn-sec-bnext"]}]),this.getElementByClass(".avp-p-cn-sec-bprev").onclick=function(){d.content.setContentCurrentTimeReduceXSec()},this.getElementByClass(".avp-p-cn-sec-bnext").onclick=function(){d.content.setContentCurrentTimeAddXSec()}):(this.removeElementByClass(".avp-p-cn-sec-bprev"),this.removeElementByClass(".avp-p-cn-sec-bnext"));break;case"showReplay":0!=p.showReplay?(n=p.replayText?p.replayText:"",this.addElementsTo(".avp-p-gui-m",{class:"avp-p-cn-breplay avp-pos-abs avp-btn",children:[{class:"avp-p-cn-breplay-i"},{class:"avp-p-cn-breplay-t",value:n}]}),this.hideElementByClass(".avp-p-cn-breplay"),this.getElementByClass(".avp-p-cn-breplay").onclick=function(){d.content.setContentByIndex(d.content.getContentIndex(d.content.getContent()),!0),d.hideElementByClass(".avp-p-cn-breplay")},u+='[data-id="'+c+'"] .avp-p-cn-breplay{ width:auto; height:40px; left:50%; top:50%; padding:0 21px 0 15px; -webkit-transform:translate(-50%,-50%); background-color:rgba(0,0,0,0.5); -webkit-border-radius:20px; border-radius:20px; border:2px solid white; font-size:0; }\n[data-id="'+c+'"] .avp-p-cn-breplay-i{ width:24px; height:34px; display:inline-block; vertical-align:top; }\n                        ',u+=n?'[data-id="'+c+'"] .avp-p-cn-breplay-t{ display:inline-block; height:36px; color:white; font:normal normal normal 13px/35px arial, helvetica, sans-serif; color:white; margin-left:5px; }\n':'[data-id="'+c+'"] .avp-p-cn-breplay-i{ position:absolute; top:50%; left:50%; -webkit-transform:translate(-50%,-50%); transform:translate(-50%,-50%); }\n'):this.removeElementByClass(".avp-p-cn-breplay");break;case"showTimelineReplay":0!=p.showTimelineReplay?(this.addElementsTo(".avp-p-cn-l",{class:"avp-p-cn-replay avp-btn",value:this.content.config.customButtons["avp-p-cn-replay"]}),this.getElementByClass(".avp-p-cn-replay").onclick=function(){d.firstContentPlayClick()}):this.removeElementByClass(".avp-p-cn-replay");break;case"showPrevButton":0!=p.showPrevButton?(this.addElementsTo(".avp-p-cn-l",{class:"avp-p-cn-prev avp-btn",value:this.content.config.customButtons["avp-p-cn-prev"]}),this.getElementByClass(".avp-p-cn-prev").onclick=function(){d.onPrevClick()}):this.removeElementByClass(".avp-p-cn-prev");break;case"showPauseButton":0!=p.showPauseButton?(this.addElementsTo(".avp-p-cn-l",{class:"avp-p-cn-pp avp-btn",data:{"avp-state":"play"},value:this.content.config.customButtons["avp-p-cn-pp"]}),this.getElementByClass(".avp-p-cn-pp").onclick=function(){d.content.getEnded()?d.content.nextContent():d.onPlayClick()}):this.removeElementByClass(".avp-p-cn-pp");break;case"showNextButton":0!=p.showNextButton?(this.addElementsTo(".avp-p-cn-l",{class:"avp-p-cn-next avp-btn",value:this.content.config.customButtons["avp-p-cn-next"]}),this.getElementByClass(".avp-p-cn-next").onclick=function(){d.onNextClick()}):this.removeElementByClass(".avp-p-cn-next");break;case"showDuration":0!=p.showDuration?(x=".avp-p-cn-l","right"===p.durationPosition&&(x=".avp-p-cn-r"),this.addElementsTo(x,{class:"avp-p-cn-d",children:[{class:"avp-p-cn-d-r",value:V},{class:"avp-p-cn-d-s",value:"/"},{class:"avp-p-cn-d-t",value:V}]}),u+='[data-id="'+c+'"] .avp-p-cn-l > .avp-p-cn-d, [data-id="'+c+'"] .avp-p-cn-r > .avp-p-cn-d,\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-p-cn-l > .avp-p-cn-d, [data-id="'+c+'"][data-avp-ui-size="s"] .avp-p-cn-r > .avp-p-cn-d,\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-p-cn-l > .avp-p-cn-d, [data-id="'+c+'"][data-avp-ui-size="xs"] .avp-p-cn-r > .avp-p-cn-d{ width:auto; }\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-p-cn-l > .avp-p-cn-d, [data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-p-cn-r > .avp-p-cn-d{ width:auto; }\n[data-id="'+c+'"] .avp-p-cn-r > .avp-p-cn-d{ -ms-flex-order:-1; flex-order:-1; order:-1; padding:0 5px 0 0; }\n[data-id="'+c+'"] .avp-p-cn-r > .timeline-logo{ -ms-flex-order:2; flex-order:2; order:2; width: inherit;}\n[data-id="'+c+'"] .avp-p-cn-r > .avp-p-cn-fs{ -ms-flex-order:10; flex-order:10; order:10;}\n[data-id="'+c+'"] .avp-p-cn-d{ padding:0 5px; color:#ccc; font:normal normal normal 11px/30px arial, helvetica, sans-serif; color:white; white-space:nowrap; min-width: 30px;}\n[data-id="'+c+'"][data-avp-ui-size="m"] .avp-p-cn-d{ line-height:30px !important; }\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-p-cn-d{ line-height:26px !important; }\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-p-cn-d{ line-height:22px !important; }\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-p-cn-d{ line-height:20px !important; }\n[data-id="'+c+'"] .avp-p-cn-d-s{ margin:0 4px; }\n                    '):this.removeElementByClass(".avp-p-cn-d");break;case"showSoundButton":0!=p.showSoundButton?(x=".avp-p-cn-l","right"===p.soundButtonPosition&&(x=".avp-p-cn-r"),this.addElementsTo(x,{class:"avp-p-cn-s-container"}),this.addElementsTo(".avp-p-cn-s-container",{class:"avp-p-cn-s avp-btn",data:{"avp-state":"on"},value:this.content.config.customButtons["avp-p-cn-s"]}),0!=p.showVolumeControl&&"ios"!==com.aniview.player.Utils.getOS()&&(u+='[data-id="'+c+'"] .avp-p-cn-s-container{ -webkit-transition-delay:0.1s; transition-delay:0.1s; }\n[data-id="'+c+'"] .avp-p-cn-v{ width:45px; height:3px; max-width:none; outline:none; opacity:0; pointer-events:none; -webkit-transition:0.3s all; transition:0.3s all; -webkit-transition-delay:0s; transition-delay:0s; z-index:1; }\n[data-id="'+c+'"] input[type=range].avp-p-cn-vi{ width:45px; height:3px; -webkit-appearance:none; background-color:#ffffff; outline:none; }\n[data-id="'+c+'"] input[type=range].avp-p-cn-vi::-ms-track{ background-color:#ffffff; outline:none; border:0; }\n[data-id="'+c+'"] input[type=range].avp-p-cn-vi::-ms-fill{ background-color:'+this.container.getAttribute("data-theme-color")+'; outline:none; border:0; }\n[data-id="'+c+'"] input[type=range].avp-p-cn-vi::-webkit-slider-thumb{ -webkit-appearance:none; border:none; width:11px; height:11px; background-color:white; -webkit-border-radius:50%; border-radius:50%; -webkit-box-shadow:0 0 3px 0 rgba(0,0,0,0.2); box-shadow:0 0 3px 0 rgba(0,0,0,0.2); }\n[data-id="'+c+'"] input[type=range].avp-p-cn-vi::-moz-range-thumb{ -webkit-appearance:none; border:none; width:11px; height:11px; background-color:white; -moz-border-radius:50%; border-radius:50%; -moz-box-shadow:0 0 3px 0 rgba(0,0,0,0.2); box-shadow:0 0 3px 0 rgba(0,0,0,0.2); }\n[data-id="'+c+'"] input[type=range].avp-p-cn-vi::-ms-thumb{ -webkit-appearance:none; border:none; width:11px; height:11px; background-color:white; -ms-border-radius:50%; border-radius:50%; -ms-box-shadow:0 0 3px 0 rgba(0,0,0,0.2); box-shadow:0 0 3px 0 rgba(0,0,0,0.2); }\n[data-id="'+c+'"] .avp-p-cn-s-container:hover{ -webkit-transition-delay:0s; transition-delay:0s; }\n[data-id="'+c+'"] .avp-p-cn-s-container:hover .avp-p-cn-v{ opacity:1; pointer-events:initial; -webkit-transition-delay:0.1s; transition-delay:0.1s; }\n                            ',1!=p.volumeControlVertical?u+='[data-id="'+c+'"] .avp-p-cn-s-container:hover{ width:90px !important; }\n[data-id="'+c+'"] .avp-p-cn-v{ bottom:13px; right:10px; }\n                                ':u+='[data-id="'+c+'"] .avp-p-cn-v{ background:rgba(0,0,0,0.4); width:59px; height:23px; bottom:48px; left:50%; margin-left:-30px; -webkit-transform:rotate(270deg); -moz-transform:rotate(270deg); -o-transform:rotate(270deg); -ms-transform:rotate(270deg); transform:rotate(270deg); -webkit-border-radius:3px; border-radius:3px; }\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-p-cn-v{ height: 17px;bottom: 36px;}\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-p-cn-v{ bottom:45px; }\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-p-cn-v{ bottom:42px; }\n[data-id="'+c+'"] input[type=range].avp-p-cn-vi{ top:10px; left:7px; }\n                                ',this.addElementsTo(".avp-p-cn-s-container",{class:"avp-p-cn-v avp-pos-abs"}),o=this.getElementByClass(".avp-p-cn-v"),(a=document.createElement("input")).type="range",a.className="avp-p-cn-vi avp-pos-abs",a.addEventListener("input",function(t){d.onSoundClick(t)},!1),o.appendChild(a)),this.getElementByClass(".avp-p-cn-s").onclick=function(t){d.content.getMuted()?d.content.unmute():d.content.mute()}):this.removeElementByClass(".avp-p-cn-s-container");break;case"showFullScreen":0!=p.showFullScreen?(this.addElementsTo(".avp-p-cn-r",{class:"avp-p-cn-fs avp-btn",data:{"avp-state":"off"},value:this.content.config.customButtons["avp-p-cn-fs"]}),this.getElementByClass(".avp-p-cn-fs").onclick=function(){d.onFullscreenClick()}):this.removeElementByClass(".avp-p-cn-fs");break;case"spinner":"none"!=p.spinner&&0!=p.spinner?(u+='[data-id="'+c+'"] .avp-spinner{ position: absolute; width:80px; height:80px; left:50%; top:50%; margin:-40px 0 0 -40px; color:'+this.container.getAttribute("data-theme-color")+'; }\n[data-id="'+c+'"] .avp-spinner svg{ position:absolute; left:0; height:80px; width:80px; }\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-spinner{ -webkit-transform:scale(0.75); transform:scale(0.75); }\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-spinner{ -webkit-transform:scale(0.6); transform:scale(0.6); }\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-spinner{ -webkit-transform:scale(0.375); transform:scale(0.375); }\n[data-id="'+c+'"][data-avp-ui-size="xxxs"] .avp-spinner{ -webkit-transform:scale(0.28); transform:scale(0.28); }\n[data-id="'+c+'"] .avp-spinner-i-default circle{ fill:none; stroke:rgba(255,255,255,0.2); stroke-width:4; -webkit-transform-origin:center center; transform-origin:center center; }\n[data-id="'+c+'"] .avp-spinner-i-default circle+circle{ stroke:white; stroke-linecap:round; }\n[data-id="'+c+'"] .avp-spinner[data-avp-state="spinner"] .avp-spinner-i-default circle+circle{ animation:avpSpinnerCircleDash 1.5s ease infinite, avpSpinnerCircleRotate 1.5s linear infinite; }\n[data-id="'+c+'"] .avp-spinner[data-avp-state="next"] .avp-spinner-i-default circle{ stroke-width:3; }\n[data-id="'+c+'"] .avp-spinner[data-avp-state="next"] .avp-spinner-i-default circle+circle{ stroke-dasharray:238 238; stroke-dashoffset:238; animation:avpSpinnerCircleNext '+p.delayBeforeNext+"s linear 1 both; }\n                            @keyframes avpSpinnerCircleNext{ to { stroke-dashoffset:0; } }\n                            @keyframes avpSpinnerCircleDash{ 0% { stroke-dasharray:1,210; stroke-dashoffset:0; } 50% { stroke-dasharray:170,220; stroke-dashoffset:-50; } 100% { stroke-dasharray:170,220; stroke-dashoffset:-210; } }\n                            @keyframes avpSpinnerCircleRotate{ 0% { stroke:white; transform:rotate(0deg); } 100% { stroke:currentColor; transform:rotate(360deg); } }\n                    ",s='                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="avp-spinner-i-default'+("dots"===p.spinner?" avp-hidden":"")+'">                          <circle cx="40" cy="40" r="38"></circle>                          <circle cx="40" cy="40" r="38"></circle>                        </svg>                    ',"dots"===p.spinner&&(s+='                              <svg width="80" height="80" version="1.1" xmlns="http://www.w3.org/2000/svg" class="avp-spinner-i-dots">                                <circle cx="28" cy="40" r="4"></circle>                                <circle cx="40" cy="40" r="4"></circle>                                <circle cx="52" cy="40" r="4"></circle>                              </svg>                        ',u+='[data-id="'+c+'"] .avp-spinner-i-dots circle{ stroke-width:1; stroke:rgba(0,0,0,0.2); fill:rgba(255,255,255,0.5); animation:avpSpinnerDots 1.4s linear infinite both; }\n[data-id="'+c+'"] .avp-spinner-i-dots circle:nth-child(2){ animation-delay:0.2s; }\n[data-id="'+c+'"] .avp-spinner-i-dots circle:nth-child(3){ animation-delay:0.4s; }\n                                @keyframes avpSpinnerDots{ 0% { fill:rgba(255,255,255,0.4); } 20% { fill:white; } 100% { fill:rgba(255,255,255,0.4); } }\n                        '),this.removeElementByClass(".avp-spinner"),this.addElementsTo(this.container,{class:"avp-spinner avp-pos-abs ",data:{"avp-style":"dots"===p.spinner?"dots":"default","avp-state":"spinner"},value:s}),this.hideElementByClass(".avp-spinner"),this.disableElementByClass(".avp-spinner")):this.removeElementByClass(".avp-spinner");break;case"theme":p.theme&&"solid"===p.theme?u+='[data-id="'+c+'"] .avp-p-cn{ height:40px; left:0; right:0; bottom:0; }\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-p-cn{ height:34px; left:0; right:0; bottom:0; }\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-p-cn{ height:28px; left:0; right:0; bottom:0; }\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-p-cn{ height:28px; left:0; right:0; bottom:0; }\n[data-id="'+c+'"][data-avp-ui-size="xxxs"] .avp-p-cn{display:none }\n[data-id="'+c+'"] .avp-p-cn-l{ padding-left:5px; }\n[data-id="'+c+'"] .avp-p-cn-r{ padding-right:5px; }\n[data-id="'+c+'"] .avp-p-cn-l > div, [data-id="'+c+'"] .avp-p-cn-r > div{ margin:5px 0; }\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-p-cn-l > div, [data-id="'+c+'"][data-avp-ui-size="s"] .avp-p-cn-r > div{ margin:4px 0; }\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-p-cn-l > div, [data-id="'+c+'"][data-avp-ui-size="xs"] .avp-p-cn-r > div{ margin:3px 0; }\n[data-id="'+c+'"] .avp-p-dk{ height:40px; background:rgb(30,30,30); background:rgba(0,0,0,0.3); }\n                     ':u+='[data-id="'+c+'"] .avp-p-cn{ height:30px; left:10px; right:10px; bottom:10px; }\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-p-cn{ height:26px; bottom:8px; }\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-p-cn{ height:22px; bottom:6px; }\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-p-cn{ height:22px; bottom:6px; }\n[data-id="'+c+'"][data-avp-ui-size="xxxs"] .avp-p-cn{display:none }\n[data-id="'+c+'"] .avp-p-dk{ height:70px; background:-webkit-linear-gradient(top, transparent 0%, rgba(0, 0, 0, 0.5) 100%); background:-moz-linear-gradient(top, transparent 0%, rgba(0, 0, 0, 0.5) 100%); background:linear-gradient(to bottom, transparent 0%, rgba(0, 0, 0, 0.5) 100%); }\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-p-dk{ height:62px; }\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-p-dk{ height:54px; }\n                    ';break;case"hideGuiOnMouseout":!1!==p.hideGuiOnMouseout?com.aniview.player.Utils.isMobile()?e||(r=com.aniview.player.Utils.parseInt(d.content.config.hideGuiTimeout,0,10),this.hideGuiTimeout=setTimeout(function(){d.hideUi()},1e3*r)):((d=this).mouseMove||(this.mouseMove=function(){N(d.container,"p-hover"),d.state.loading||(clearTimeout(d.hideGuiTimeout),d.showInnerGUI(!0),d.hideGuiTimeout=setTimeout(function(){d.handleGUITimeout()},1e3*d.config.hideGuiTimeout))}),this.mouseLeave||(this.mouseLeave=function(){var t=d.content.config,e=com.aniview.player.Utils.parseInt(t.hideGuiTimeout,0,10);d.hideGuiTimeout=setTimeout(function(){d.handleGUITimeout()},1e3*e)}),this.mouseEnter||(this.mouseEnter=function(){d.state.loading||(clearTimeout(d.hideGuiTimeout),d.showInnerGUI(!0))}),this.container.addEventListener?(this.container.addEventListener("mouseenter",this.mouseEnter),this.container.addEventListener("mouseleave",this.mouseLeave),this.container.addEventListener("mousemove",this.mouseMove)):(this.container.attachEvent("onmouseover",this.mouseEnter),this.container.attachEvent("onmouseout",this.mouseLeave),this.container.attachEvent("onmspointermove",this.mouseMove))):(this.showElementByClass(".avp-p-gui-b"),this.showElementByClass(".avp-hide-gui"),this.hideUi(!1,!1,!0),this.container.addEventListener?(this.container.removeEventListener("mouseenter",this.mouseEnter),this.container.removeEventListener("mouseleave",this.mouseLeave)):(this.container.detachEvent("onmouseover",this.mouseEnter),this.container.detachEvent("onmouseout",this.mouseLeave)));break;case"logo":if(void 0!==p.logo&&!1!==p.logo){var g=[];Array.isArray(p.logo)?g=p.logo:g.push(p.logo);for(var v=0;v<g.length;v++){var m=!1,f=!1,y=[48,48],b="left",w="top",C="",x=".avp-p-gui-t";void 0!==g[v].url&&!1!==g[v].url&&(m=g[v].url),void 0!==g[v].text&&!1!==g[v].text&&(f=g[v].text),void 0!==g[v].size&&!1!==g[v].size&&(y=g[v].size),void 0!==g[v].width&&!1!==g[v].width&&(y[0]=g[v].width);var E,k="avp-logo-"+v+" top-logo avp-pos-abs";"string"==typeof g[v].position&&(k=0<=g[v].position.indexOf("timeline")?(x=".avp-p-cn-r","avp-logo-"+v+" timeline-logo"):(b=0<=g[v].position.indexOf("right")?"right":"left",w=0<=g[v].position.indexOf("bottom")?"bottom":"top","avp-logo-"+v+" "+(0<=g[v].position.indexOf("bottom")?"bottom-logo":"top-logo")+" avp-pos-abs")),f&&(C+='<div class="avp-logo-'+v+'-t">'+f+"</div>"),C+='<div class="avp-logo-'+v+'-i" style="background-image:url('+m+')"></div>',u+='[data-id="'+c+'"] .avp-logo-'+v+"{ "+b+':8px; }\n[data-id="'+c+'"] .avp-logo-'+v+"-t{ font:normal normal normal 11px/"+y[1]+'px arial, helvetica, sans-serif; color:white; display:inline-block; margin:0 4px 0 0; }\n[data-id="'+c+'"] .avp-logo-'+v+"-i{ display:inline-block; vertical-align:middle; width:"+y[0]+"px; height:"+y[1]+"px; -webkit-background-size:contain; background-size:contain; background-position:"+b+" 0 "+w+' 0; }\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-logo-'+v+"-i{ width:"+.8*y[0]+"px; height:"+.8*y[1]+'px; }\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-logo-'+v+"-i{ width:"+.7*y[0]+"px; height:"+.7*y[1]+'px; }\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-logo-'+v+"-i{ width:"+.5*y[0]+"px; height:"+.5*y[1]+'px; }\n[data-id="'+c+'"][data-avp-ui-size="xxxs"] .avp-logo-'+v+"-i{ width:"+.3*y[0]+"px; height:"+.3*y[1]+"px; }\n                                ",this.addElementsTo(x,{class:k,value:C}),"string"==typeof g[v].clickThrough&&10<g[v].clickThrough.length&&(E=this.getElementByClass(".avp-logo-"+v))&&function(t,e,i){t&&(t.style.zIndex="1",t.style.cursor="pointer",t.onclick=function(){if(i)try{top.location.href=e}catch(t){i=!1}var t;i||(t=B.open(e,"_blank"))&&t.focus&&t.focus()})}(E,g[v].clickThrough,g[v].redirect)}}break;case"showBigPlayOnPause":var S=this.config.showBigPlayOnPause&&this.content.getPaused();this.hideUi(S,!0);var A=0<this.content.getContentDuration(),T=this.content.getContentIndex(this.content.getContent())==this.content.getContentCount()-1,I=!A&&!T;!S||this.isEndOfContent()||I||this.showElementByClass(".avp-p-cn-bp");break;case"customHtml":!1!==p.customHtml&&((l=this.getElementByClass(".avp-p-gui-ch"))&&this.container.removeChild(l),this.addElementsTo(this.container,[{class:"avp-p-gui-ch"}]),(l=this.getElementByClass(".avp-p-gui-ch")).insertAdjacentHTML("beforeend",p.customHtml));break;case"autoSkip":var L=p.autoSkip.time||30,P=p.autoSkip.timeout||10,M=0<=(M=d.content.getContentCurrentTime())?M:0;this.addElementsTo(this.container,[{class:"avp-auto-skip-wrapper avp-hidden",children:[{class:"avp-auto-skip-container",children:[{class:"avp-auto-skip-bar"},{class:"avp-auto-skip-button",text:"Next"}]},{class:"avp-stay-button",value:this.content.config.customButtons["avp-p-cn-close"]||'                    <svg fill="white" viewBox="0 0 252 252">                        <g>                            <path d="M164.612,87.388c-3.515-3.515-9.213-3.515-12.728,0L126,113.272l-25.885-25.885c-3.515-3.515-9.213-3.515-12.728,0   c-3.515,3.515-3.515,9.213,0,12.728L113.272,126l-25.885,25.885c-3.515,3.515-3.515,9.213,0,12.728   c1.757,1.757,4.061,2.636,6.364,2.636s4.606-0.879,6.364-2.636L126,138.728l25.885,25.885c1.757,1.757,4.061,2.636,6.364,2.636   s4.606-0.879,6.364-2.636c3.515-3.515,3.515-9.213,0-12.728L138.728,126l25.885-25.885   C168.127,96.601,168.127,90.902,164.612,87.388z"/>                        </g>                    </svg>                '}]}]);var z=d.getElementByClass(".avp-auto-skip-bar");u+='[data-id="'+c+'"][data-avp-ui-size="m"] .avp-auto-skip-wrapper {cursor: pointer; width: 108px; height: 33px; position: absolute; right: 7px; overflow: hidden; bottom: 18%; transform: translateY(-18%);user-select: none;background-color: rgb(0, 0, 0); opacity: 0.75; -webkit-opacity: 0.75; border-radius:4px; box-shadow: white 0px 0px 4px; pointer-events: auto;z-index: 1;}\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-auto-skip-wrapper {cursor: pointer; width: 88px; height: 28px; position: absolute; right: 7px; overflow: hidden; bottom: 18%; transform: translateY(-18%);user-select: none;background-color: rgb(0, 0, 0); opacity: 0.75; -webkit-opacity: 0.75; border-radius:4px; box-shadow: white 0px 0px 4px; pointer-events: auto;z-index: 1;}\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-auto-skip-wrapper {cursor: pointer; width: 88px; height: 28px; position: absolute; right: 7px; overflow: hidden; bottom: 18%; transform: translateY(-18%);user-select: none;background-color: rgb(0, 0, 0); opacity: 0.75; -webkit-opacity: 0.75; border-radius:4px; box-shadow: white 0px 0px 4px; pointer-events: auto;z-index: 1;}\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-auto-skip-wrapper {cursor: pointer; width: 62px; height: 20px; position: absolute; right: 3px; overflow: hidden; bottom: 18%; transform: translateY(-18%);user-select: none;background-color: rgb(0, 0, 0); opacity: 0.75; -webkit-opacity: 0.75; border-radius:4px; box-shadow: white 0px 0px 4px; pointer-events: auto;z-index: 1;}\n[data-id="'+c+'"][data-avp-ui-size="xxxs"] .avp-auto-skip-wrapper {cursor: pointer; width: 44px; height: 15px; position: absolute; right: 3px; overflow: hidden; bottom: 10%; transform: translateY(-10%);user-select: none;background-color: rgb(0, 0, 0); opacity: 0.75; -webkit-opacity: 0.75; border-radius:4px; box-shadow: white 0px 0px 4px; pointer-events: auto;z-index: 1;}\n[data-id="'+c+'"][data-avp-ui-size="m"] .avp-auto-skip-wrapper .avp-auto-skip-container {width: 75px; position: relative;}\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-auto-skip-wrapper .avp-auto-skip-container {width: 60px; position: relative;}\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-auto-skip-wrapper .avp-auto-skip-container {width: 60px; position: relative;}\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-auto-skip-wrapper .avp-auto-skip-container {width: 42px; position: relative;}\n[data-id="'+c+'"][data-avp-ui-size="xxxs"] .avp-auto-skip-wrapper .avp-auto-skip-container {width: 29px; position: relative; vertical-align: text-top;}\n[data-id="'+c+'"][data-avp-ui-size="m"] .avp-auto-skip-wrapper .avp-auto-skip-container .avp-auto-skip-bar {height: 33px; background-color: purple; z-index: -1; transition: width 250ms ease-out;position: absolute;}\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-auto-skip-wrapper .avp-auto-skip-container .avp-auto-skip-bar {height: 28px; background-color: purple; z-index: -1; transition: width 250ms ease-out;position: absolute;}\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-auto-skip-wrapper .avp-auto-skip-container .avp-auto-skip-bar {height: 28px; background-color: purple; z-index: -1; transition: width 250ms ease-out;position: absolute;}\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-auto-skip-wrapper .avp-auto-skip-container .avp-auto-skip-bar {height: 20px; background-color: purple; z-index: -1; transition: width 250ms ease-out;position: absolute;}\n[data-id="'+c+'"][data-avp-ui-size="xxxs"] .avp-auto-skip-wrapper .avp-auto-skip-container .avp-auto-skip-bar {height: 15px; background-color: purple; z-index: -1; transition: width 250ms ease-out;position: absolute;}\n[data-id="'+c+'"][data-avp-ui-size="m"] .avp-auto-skip-wrapper .avp-auto-skip-container .avp-auto-skip-button {line-height: 33px;font-size: 19px; text-align: center; display: block;}\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-auto-skip-wrapper .avp-auto-skip-container .avp-auto-skip-button {line-height: 28px;font-size: 16px; text-align: center; display: block;}\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-auto-skip-wrapper .avp-auto-skip-container .avp-auto-skip-button {line-height: 28px;font-size: 16px; text-align: center; display: block;}\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-auto-skip-wrapper .avp-auto-skip-container .avp-auto-skip-button {line-height: 20px;font-size: 12px; text-align: center; display: block;}\n[data-id="'+c+'"][data-avp-ui-size="xxxs"] .avp-auto-skip-wrapper .avp-auto-skip-container .avp-auto-skip-button {line-height: 15px;font-size: 9px; text-align: center; display: block;}\n[data-id="'+c+'"][data-avp-ui-size="m"] .avp-auto-skip-wrapper .avp-stay-button {height: 33px; width: 33px;float: left; border-right: #5e4c5d 1px solid;}\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-auto-skip-wrapper .avp-stay-button {height: 28px; width: 28px;float: left; border-right: #5e4c5d 1px solid;}\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-auto-skip-wrapper .avp-stay-button {height: 28px; width: 28px;float: left; border-right: #5e4c5d 1px solid;}\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-auto-skip-wrapper .avp-stay-button {height: 20px; width: 20px;float: left; border-right: #5e4c5d 1px solid;}\n[data-id="'+c+'"][data-avp-ui-size="xxxs"] .avp-auto-skip-wrapper .avp-stay-button {height: 15px; width: 15px;float: left; border-right: #5e4c5d 1px solid;}\n',d.getElementByClass(".avp-stay-button").onclick=function(){d.hideElementByClass(".avp-auto-skip-wrapper"),d.content.firstGesture=!0,z.style.width="0"},d.getElementByClass(".avp-auto-skip-button").onclick=function(){z.style.width="0",d.hideElementByClass(".avp-auto-skip-wrapper"),d.content.nextContent(),d.event(O.Events.ContentNextClicked)},d.content.on("ContentTimeChange",function(){M=d.content.getContentCurrentTime(),L<P+M&&!d.content.firstGesture?(z.style.width=100*M/L+"%",d.showElementByClass(".avp-auto-skip-wrapper"),L<=M&&(z.style.width="0",d.hideElementByClass(".avp-auto-skip-wrapper"),d.content.nextContent())):d.hideElementByClass(".avp-auto-skip-wrapper")});break;case"gui":p.gui.usePoster&&this.appendPoster()}this.addStyle(u)});function c(t,e,i){return t<e?t=e:i<t&&(t=i),t}function u(t){if(isNaN(t))return V;t=Math.round(t);var e=Math.round(t)%60,i=Math.floor(t/60)%60,n=Math.floor(t/60/60)%24,o=Math.floor(t/60/60/24),a=[];return 0<o&&a.push(o),0<n&&((n=n.toString()).length<2&&(n="0"+n),a.push(n)),(i=i.toString()).length<2&&(i="0"+i),a.push(i),(e=e.toString()).length<2&&(e="0"+e),a.push(e),a.join(":")}function n(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function N(t,e){n(t,e)||t.classList.add(e)}function s(t,e){n(t,e)&&t.classList.remove(e)}O.prototype.showInnerGUI=function(t,e){var i=0<this.content.getContentDuration(),n=this.content.getContentIndex(this.content.getContent())==this.content.getContentCount()-1,o=!i&&!n,a=this.content.getPaused(),s=!1,r=!1,l=t||!1;this.isEndOfContent()||o||(a?(s=this.config.showUiOnPause||this.content.config.showBigPlayOnPause,r=this.config.showUiOnPause||this.content.config.showBigPrevNextOnPause,l=this.content.config.showTimelineOnPause):(s=this.content.config.showBigPlay,r=this.content.config.showBigPrevNext));var d=com.aniview.player.Utils;(e&&d.isMobile()||(t||e)&&a)&&(l=!0);var p,c=this.content.getPaused()&&i&&this.content.getContentCurrentTime()<=.1;isNaN(c)&&(c=!0),c?(p=this.content.getContent(),this.content.ads.getPrerollSlot(p.slots)&&(r=!1)):this.hideUi(s,r,!1),"none"===this.content.playerOwner&&(r=l=!1);var u=this.content.config.hideLogoOnMouseout&&s;this.showUi(!s,!r,!l,u)},O.prototype.setTitle=function(){var t,e,i,n,o,a;this.config.showTitle&&(t="",e="avp-p-ti",i=this.getElementByClass("."+e),n=this.sharedGui.querySelector("."+e),this.content.getContent().entry&&(this.content.getContent().entry.name&&(t=this.content.getContent().entry.name),o=this.content.getContent().clickthrough,i||(a="right"===this.config.showTitle?"title-right":"title-left",this.inlineToContent&&(this.addElementsTo("#av-inlineToContent",{element:"a",class:e+" avp-pos-abs "+a},!0),n=this.sharedGui.querySelector("."+e)),this.addElementsTo(".avp-p-gui-t",{class:e+" avp-pos-abs "+a}),i=this.getElementByClass("."+e))),i&&(i.innerHTML=t),n&&(n.innerHTML=t,n.removeAttribute("href"),o&&(n.href=o)))},O.prototype.posterEnabled=function(){var t=!1;try{t=this.content.config.gui.usePoster||!this.config.contentAutoLoad}catch(t){}var e=com.aniview.player.Utils;return e.isMobile()&&"ios"==e.getOS()||t},O.prototype.appendPoster=function(){var t,e;i||(t=this.container.getAttribute("data-id"),i=!0,e='[data-id="'+t+'"] .avp-p-gui-poster{ top: 0; left: 0; z-index: -1; position: absolute; width: 100%; height: 100%; background-position: center center; background-repeat: no-repeat; background-size: contain; }\n',this.addElementsTo(this.container,[{class:"avp-p-gui-poster"}]),this.addStyle(e))},O.prototype.setPoster=function(t){var e=this.getPosterElement();e&&t&&t.poster&&("audio"==t.type&&(this.isAudio=!0),e.style.backgroundImage="url("+t.poster+")")},O.prototype.getPosterElement=function(){try{return this.posterEnabled()?this.getElementByClass(".avp-p-gui-poster"):!1}catch(t){}return!1},O.prototype.hidePoster=function(){var t;this.isAudio||(t=this.getPosterElement())&&(this.content.showBigPlayOnPoster=!1,t.style.display="none",t.style.visibility="hidden",this.content.isHidden=!1)},O.prototype.showPoster=function(){var t=this.getPosterElement();t&&(t.style.display="block",t.style.visibility="visible",this.content.isHidden=!0)},O.prototype.hidePlayer=function(){var t=this.content.pos;this.content.isStartMode("WaitForAd")&&(this.content.config.startMode.openAnim&&N(t,"avp-opening-animation"),this.content.config.startMode.showPlayer&&(t.style.height=this.content.config.height+"px")),N(t,"avp-concealed"),this.content.isHidden=!0},O.prototype.openPlayer=function(){var t=this.content.pos;h.isSticky(this.content.config)||(t.style.height=this.content.config.height+"px"),s(t,"avp-concealed"),this.content.isHidden=!1},O.prototype.setDuration=function(t){var e=this.getElementByClass(".avp-p-cn-d-t");e&&(e.innerHTML=u(t))},O.prototype.showSlideCaption=function(t){this.addElementsTo(this.container,{class:"avp-p-sl-cp avp-pos-abs",children:[{class:"avp-p-sl-cp-txt-clip",children:[{class:"avp-p-sl-cp-txt",text:t,width:this.content.getWidth()/2+"px"}]}]}),setTimeout(function(){var t=this.getElementByClass(".avp-p-sl-cp-txt-clip");t&&(t.classList.add("animate-in"),t.addEventListener("animationend",function(){t.classList.remove("animate-in")}))}.bind(this))},O.prototype.addStyle=function(t){var e;t.length&&-1==this.styles.indexOf(t)&&(this.styles.push(t),this.style[0].styleSheet?(e=this.style.length,this.style[e-1].styleSheet.cssText.length?(this.style.push(document.createElement("style")),this.style[e].setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(this.style[e]),this.style[e].styleSheet.cssText=t):this.style[e-1].styleSheet.cssText=t):this.style[0].appendChild(document.createTextNode(t)))},O.prototype.addElementsTo=function(t,e,i,n){if("string"==typeof t?t=i?this.content.container.querySelector(t):this.getElementByClass(t):t.appendChild||(t=null),t){e instanceof Array||(e=[e]);for(var o=[],a=0;a<e.length;a++){var s=e[a],r={},r=s.element?document.createElement(s.element):document.createElement("div");if(n?t.insertBefore(r,t.firstChild):t.appendChild(r),o.push(r),s.class&&(r.className=s.class),s.id&&(r.id=s.id),s.text&&(r.innerText=s.text),s.data)for(var l in s.data)r.setAttribute("data-"+[l],s.data[l]);s.value&&(r.innerHTML=s.value),s.children&&this.addElementsTo(r,s.children,i),s.width&&(r.style.width=s.width)}}},O.prototype.getElementByClass=function(t,e){return e?this.content.container.querySelector(t):this.container.querySelector(t)},O.prototype.getElementsByClass=function(t,e){return e?this.content.container.querySelectorAll(t):this.container.querySelectorAll(t)},O.prototype.setElementDataByClass=function(t,e){var i=this.getElementByClass(t);if(i)for(var n in e)i.setAttribute("data-"+[n],e[n])},O.prototype.disableElementByClass=function(t){var e=this.getElementByClass(t);e&&N(e,"avp-pointer-none")},O.prototype.enableElementByClass=function(t){var e=this.getElementByClass(t);e&&s(e,"avp-pointer-none")},O.prototype.hideElementByClass=function(t,e){var i=this.getElementByClass(t,e);i&&N(i,"avp-hidden")},O.prototype.hideElementsByClass=function(t,e){this.getElementsByClass(t,e).forEach(function(t){N(t,"avp-hidden")})},O.prototype.showElementByClass=function(t,e){var i=this.getElementByClass(t,e);i&&s(i,"avp-hidden")},O.prototype.showElementsByClass=function(t,e){this.getElementsByClass(t,e).forEach(function(t){s(t,"avp-hidden")})},O.prototype.hasElementByClass=function(t){return null!=this.getElementByClass(t)},O.prototype.removeElementByClass=function(t,e){var i=this.getElementByClass(t,e);i&&i.parentNode&&i.parentNode.removeChild(i)},O.prototype.onTimelineOut=function(t){this.seekTime=-1,this.hideElementByClass(".avp-p-tl-mt")},O.prototype.onTimelineMove=function(t){var e,i,n;this.seekTime=-1,0<this.content.getContentDuration()&&((e=this.getElementByClass(".avp-p-tl"))&&(n=c((t.clientX-(i=e.getBoundingClientRect()).left)/i.width,0,1),this.seekTime=n*this.content.getContentDuration(),-1===this.seekTime?this.hideElementsByClass(".avp-p-tl-mt"):(this.showElementsByClass(".avp-p-tl-mt"),e.querySelectorAll(".avp-p-tl-ch").forEach(function(t){var e,i,n,o,a=t.querySelector(".avp-p-tl-mt");a&&(this.content.getContentDuration()?(e=+t.getAttribute("data-start"),i=+t.getAttribute("data-end"),n=c((this.seekTime-e)/(i-e),0,1),a.style.width=100*n+"%",(o=a.querySelector(".avp-p-tl-mt-t"))&&(o.innerHTML=u(this.seekTime),"solid"!==this.content.config.theme&&(n<.5?s:N)(o,"mt-l50"))):a.style.width="0%")}.bind(this)))))},O.prototype.onTimelineClick=function(t){var e,i,n,o;this.content.firstGesture=!0,0<this.content.getContentDuration()&&((e=this.getElementByClass(".avp-p-tl"))&&(n=c((t.clientX-(i=e.getBoundingClientRect()).left)/i.width,0,1)*this.content.getContentDuration(),"carousel"===this.content.getContent().type?(o=this.content.getChapterByContentTime(n),this.content.setContentCurrentTime(o.startTime)):this.content.setContentCurrentTime(n))),this.hideElementsByClass(".avp-p-tl-mt")},O.prototype.handleFirstClick=function(t){this.content.config.handleFirstGesture&&!this.content.firstGesture&&(this.content.firstGesture=!0,this.firstVideoGesture(this.content.tag.video.element,t,this.content.tag.video.getUrl(),!0),this.firstVideoGesture(this.content.tag.video.adsElement,t)),this.content.isStartMode("WaitForAd")&&(this.content.firstSessionPlayed=!0)},O.prototype.firstVideoGesture=function(t,e,i,n){if(t.paused){i=i||t.src,t.removeAttribute("src");try{t.load();t[e]().then(function(){}).catch(function(t){})}catch(t){}t.src=i}else try{t[e]()}catch(t){}},O.prototype.onPlayClick=function(){var t="play",e=this.content.getPaused();e&&(t="pause"),this.handleFirstClick(t),e?(this.hideUi(),this.hidePoster(),this.mobileGuiIsVisible=!1,this.content.play(!0),this.event(O.Events.ContentPlayClicked)):(this.content.pause(!0),this.event(O.Events.ContentPauseClicked))},O.prototype.onPrevClick=function(){if("carousel"===this.content.getContent().type){var t=this.content.getContentCurrentTime(),e=this.content.getCurrentContentChapters(),i=this.content.getChapterIndexByContentTime(t),n=e[i];if(2<t-n.startTime)return void this.content.setContentCurrentTime(n.startTime);var o=e[i-1];if(o)return void this.content.setContentCurrentTime(o.startTime)}this.hideUi(),this.content.prevContent(),this.event(O.Events.ContentPrevClicked)},O.prototype.firstContentPlayClick=function(){this.hideUi(),this.content.startFirstContent()},O.prototype.onNextClick=function(){if("carousel"===this.content.getContent().type){var t=this.content.getContentCurrentTime(),e=this.content.getCurrentContentChapters()[this.content.getChapterIndexByContentTime(t)+1];if(e)return void this.content.setContentCurrentTime(e.startTime)}this.hideUi(),this.content.nextContent(),this.event(O.Events.ContentNextClicked)},O.prototype.onSoundClick=function(t){var e,i;0!=this.config.showVolumeControl?(e=this.getElementByClass(".avp-p-cn-vi"))&&(i=e.value/100,this.content.setVolume(i),0<i?this.content.unmute():this.content.getMuted()?(this.content.setVolume(1),this.content.unmute()):this.content.mute()):this.content.getMuted()?this.content.unmute():this.content.mute()},O.prototype.onFullscreenClick=function(){var t=com.aniview.player.Utils;t.fullscreenEnabled()?this.content.closeFullscreen():(t.isMobile()&&"ios"===t.getOS()&&this.content.unmute(),this.content.openFullscreen())},O.prototype.onFullscreenChange=function(){var t,e,i,n,o=com.aniview.player.Utils;o.fullscreenEnabled()?(this.config.originalWidth=this.content.getWidth(),this.config.originalHeight=this.content.getHeight(),i=o.fixedFullScreenElement?(e=(t=o.getDeviceDimensionsBasedOnOrientation()).width,t.height):(this.content.container.style.position="absolute",e=screen.width,screen.height),this.content.container.style.left="0px",this.content.container.style.right="0px",this.content.container.style.top="0px",this.hideElementByClass(".avp-p-cn-close",!0),this.content.setSize(e,i)):(this.content.container.style.position="",this.content.container.style.left="",this.content.container.style.right="",this.content.container.style.top="",this.showElementByClass(".avp-p-cn-close  ",!0),n=this.content.getPlayerSize(this.content.isPlayerFloating()),this.content.setSize(n.w,n.h))},O.prototype.stateLoading=function(){this.state.loading=!0,s(this.container,"ads-mode"),this.state.ads=!1,this.changeSpinnerState(!0),this.hideUi()},O.prototype.statePlaying=function(){this.state.loading=!1,s(this.container,"ads-mode"),this.state.ads=!1,this.changeSpinnerState(!1),this.hideUi()},O.prototype.statePlayingAd=function(){this.content.isHidden&&this.openPlayer(),this.hidePoster(),this.state.loading=!1,N(this.container,"ads-mode"),this.state.ads=!0,this.changeSpinnerState(!1)},O.prototype.changeSpinnerState=function(t){this.state.showSpinner!=t&&((this.state.showSpinner=t)?(this.showElementByClass(".avp-spinner"),this.hideUi(!1,!1,!1)):this.hideElementByClass(".avp-spinner"))},O.prototype.isEndOfContent=function(){return this.content.getEnded()},O.prototype.postInit=function(){var t;"ie"!=com.aniview.player.Utils.getBrowser()||(t=this.getElementByClass(".avp-p-cn-breplay"))&&(t.style.marginLeft="-"+t.clientWidth/2+"px",t.style.marginTop="-"+t.clientHeight/2+"px")},O.prototype.event=function(t,e){var i=new CustomEvent(t,{});i.data=e,this.dispatchEvent(i)},O.prototype.listeners={},O.prototype.removeEventListener=function(t,e){if(t in this.listeners)for(var i=this.listeners[t],n=0,o=i.length;n<o;n++)if(i[n]===e)return i.splice(n,1),this.removeEventListener(t,e)},O.prototype.dispatchEvent=function(t){if(t.type in this.listeners)for(var e=this.listeners[t.type],i=0,n=e.length;i<n;i++)e[i].call(this,t)},O.prototype.addTimelineStyles=function(){var t=this.container.getAttribute("data-id"),e="",i=this.content.config;"solid"!=i.theme?e+='[data-id="'+t+'"] .avp-p-tl{ left:'+("bottom"===i.timelineMode?"0":"10")+"px; right:"+("bottom"===i.timelineMode?"0":"10")+"px; bottom:"+("bottom"===i.timelineMode?"0":"40")+'px; height:13px; }\n[data-id="'+t+'"][data-avp-ui-size="s"] .avp-p-tl{ bottom:34px; }\n[data-id="'+t+'"][data-avp-ui-size="xs"] .avp-p-tl{ bottom:28px; }\n[data-id="'+t+'"][data-avp-ui-size="xxs"] .avp-p-tl{ bottom:25px; }\n[data-id="'+t+'"][data-avp-ui-size="xxxs"] .avp-p-tl{ bottom:4px; }\n[data-id="'+t+'"] .avp-p-tl-bg, [data-id="'+t+'"] .avp-p-tl-bf, [data-id="'+t+'"] .avp-p-tl-mt, [data-id="'+t+'"] .avp-p-tl-pr{ height:3px; }\n[data-id="'+t+'"] .avp-p-tl-mt-t{ background:rgba(0,0,0,0.5); }\n[data-id="'+t+'"] .avp-p-tl-mt-t{ left:100%; -webkit-transition:0.2s transform; -moz-transition:0.2s transform; -ms-transition:0.2s transform; -o-transition:0.2s transform; transition:0.2s transform; }\n[data-id="'+t+'"] .avp-p-tl-mt-t:after{ left:0; border-width:3px 3px 0 0; -webkit-transition:0.2s all; -moz-transition:0.2s all; -ms-transition:0.2s all; -o-transition:0.2s all; transition:0.2s all; border-color:rgba(0,0,0,0.5) transparent; }\n[data-id="'+t+'"] .avp-p-tl-mt-t.mt-l50{ -webkit-transform:translateX(-100%); transform:translateX(-100%); }\n[data-id="'+t+'"] .avp-p-tl-mt-t.mt-l50:after{ left:auto; right:0; border-width:3px 0 0 3px; }\n                ':e+='[data-id="'+t+'"] .avp-p-tl{ left:10px; right:15px; bottom:13px; height:14px; }\n[data-id="'+t+'"][data-avp-ui-size="s"] .avp-p-tl{ bottom:10px; }\n[data-id="'+t+'"][data-avp-ui-size="xs"] .avp-p-tl{ bottom:7px; }\n[data-id="'+t+'"][data-avp-ui-size="xxs"] .avp-p-tl{ bottom:7px; }\n[data-id="'+t+'"][data-avp-ui-size="xxxs"] .avp-p-tl{ bottom:4px; }\n[data-id="'+t+'"] .avp-p-tl-bg, [data-id="'+t+'"] .avp-p-tl-bf, [data-id="'+t+'"] .avp-p-tl-mt, [data-id="'+t+'"] .avp-p-tl-pr{ height:4px; }\n[data-id="'+t+'"] .avp-p-tl-mt-t{ background:black; right:0; -webkit-transform:translateX(50%); transform:translateX(50%); }\n[data-id="'+t+'"] .avp-p-tl-mt-t:after{ left:50%; margin-left:-3px; border-width:3px 3px 0; border-color:black transparent; }\n                ',e+='[data-id="'+t+'"] .avp-p-tl{ cursor:pointer; display: flex; }\n[data-id="'+t+'"] .avp-p-tl-ch { position: relative; height: 14px; margin-left: 2px; width: 100%; }\n[data-id="'+t+'"] .avp-p-tl-ch:first-child { margin-left: 0; }\n[data-id="'+t+'"] .avp-p-tl-ch:hover { transform: scaleY(2); transition: .1s linear; }\n[data-id="'+t+'"] .avp-p-tl-ch:hover .avp-p-tl-mt-t { transform: scaleY(.5) translate(50%, 100%); opacity: 1; -webkit-opacity: 1; visibility: visible }\n[data-id="'+t+'"] .avp-p-tl-bg, [data-id="'+t+'"] .avp-p-tl-bf, [data-id="'+t+'"] .avp-p-tl-mt, [data-id="'+t+'"] .avp-p-tl-pr{ left:0; bottom:'+("bottom"===i.timelineMode?"0":"5")+'px; background:white; }\n[data-id="'+t+'"] .avp-p-tl-bg{ width:100%; background:rgba(255,255,255,0.2); }\n[data-id="'+t+'"] .avp-p-tl-bf{ width:70%; background:rgba(255,255,255,0.4); }\n[data-id="'+t+'"] .avp-p-tl-mt{ background:rgba(255,255,255,0.7); display: none }\n[data-id="'+t+'"] .avp-p-tl:hover .avp-p-tl-mt{ display: block; }\n[data-id="'+t+'"] .avp-p-tl-mt-t{ pointer-events:none; color:white; font:normal normal normal 11px/22px arial, helvetica, sans-serif; color:white; padding:0 8px; top:-30px; opacity: 0; -webkit-opacity: 0; visibility: hidden; pointer-events: none; }\n[data-id="'+t+'"] .avp-p-tl-mt-t:after{ content:""; -webkit-box-sizing:border-box; box-sizing:border-box; position:absolute; bottom:-3px; border-style:solid; }\n[data-id="'+t+'"] .avp-p-tl-pr{ width:20%; background:'+this.container.getAttribute("data-theme-color")+"; }\n            ",this.addStyle(e)},O.prototype.addTimeline=function(){var t=null,e=this.content.config,i=this;"bottom"===e.timelineMode&&"solid"!=e.theme&&(t={"avp-position":e.timelineMode});var n,o={class:"avp-p-tl-ch",children:[{class:"avp-p-tl-bg avp-pos-abs"},{class:"avp-p-tl-bf avp-pos-abs"},{class:"avp-p-tl-mt avp-pos-abs",children:[{class:"avp-p-tl-mt-t avp-pos-abs"}]},{class:"avp-p-tl-pr avp-pos-abs"}]},a=[],s=this.content.getCurrentContentChapters();s.length&&(n=s[s.length-1].endTime,a=s.map(function(t){var e=(t.endTime-t.startTime)/n*100;return Object.assign({},o,{width:e+"%",data:{start:t.startTime,end:t.endTime}})})),this.addElementsTo("solid"!=e.theme?".avp-p-gui-b":".avp-p-cn-m",{class:"avp-p-tl avp-pos-abs",data:t,children:a}),this.getElementByClass(".avp-p-tl").onclick=function(t){i.onTimelineClick(t)},this.getElementByClass(".avp-p-tl").onmousemove=function(t){i.onTimelineMove(t)}},O.prototype.updateTimeline=function(){this.removeElementByClass(".avp-p-tl"),this.addTimeline()},O.prototype.fixFloatingStyle=function(t,e){var i,n=this.content.getViewability()||{};!e&&h.isSticky(t)||(i=this.content.getPlayerSize(),this.content.pos.style.width=i.w+"px",this.content.pos.style.height=i.h+"px"),(!t.floating||n.inView||"top"!==t.floating.position&&"bottom"!==t.floating.position)&&(!t.sticky||"top"!==t.sticky.position&&"bottom"!==t.sticky.position)||(this.content.container.style.width=B.innerWidth+"px",this.sharedGui.querySelector("#av-inlineToContent").style.left=t.width+"px")}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.events||(t.com.aniview.player.events={});var e=t.com.aniview.player.events.EventDispatcher=function(){this.events=[]};e.prototype.events=null,e.prototype.hasEventListener=function(t){for(var e in this.events){if(this.events[e].type==t)return!0}return!1},e.prototype.addEventListener=function(t,e,i,n){if(!t)throw"Parameter 'type' must not be undefined";if(!e)throw"Parameter 'callback' must not be undefined";if("function"!=typeof e)throw"Parameter 'callback' must be Function";for(var o in this.events){var a=this.events[o];if(a.type==t&&a.callback==e&&a.context==i&&a.once==n)return}this.events.push({type:t,callback:e,context:i,once:n})},e.prototype.removeEventListener=function(t,e,i,n){for(var o in this.events){var a=this.events[o];if(a.type==t&&a.callback==e&&a.context==i&&a.once==n){this.events.splice(o,1);break}}},e.prototype.dispatchEvent=function(t,e){for(var i=0;i<this.events.length;){var n=this.events[i];n.type==t&&(n.context?n.callback.call(n.context,{type:t,data:e,event:n}):n.callback({type:t,data:e,event:n}),n.once&&(this.events.splice(i,1),i--)),i++}}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.events||(t.com.aniview.player.events={});var e=t.com.aniview.player.events.Events={};e.ContentSourceChanged="ContentSourceChanged",e.ContentTimeChange="ContentTimeChange",e.ContentLoaded="ContentLoaded",e.ContentStarted="ContentStarted",e.ContentSkippableStateChange="ContentSkippableStateChange",e.ContentSizeChange="ContentSizeChange",e.ContentDurationChange="ContentDurationChange",e.ContentRemainingTimeChange="ContentRemainingTimeChange",e.ContentVolumeChange="ContentVolumeChange",e.ContentVideoStart="ContentVideoStart",e.ContentVideoFirstQuartile="ContentVideoFirstQuartile",e.ContentVideoMidpoint="ContentVideoMidpoint",e.ContentVideoThirdQuartile="ContentVideoThirdQuartile",e.ContentVideoComplete="ContentVideoComplete",e.ContentVideoEnded="ContentVideoEnded",e.ContentClickThru="ContentClickThru",e.ContentUserMinimize="ContentUserMinimize",e.ContentUserClose="ContentUserClose",e.ContentPaused="ContentPaused",e.ContentPlaying="ContentPlaying",e.ContentListChanged="ContentListChanged",e.ContentError="error",e.ContentNextClicked="ContentNextClicked",e.ContentPrevClicked="ContentPrevClicked",e.ContentPlayClicked="ContentPlayClicked",e.ContentPauseClicked="ContentPauseClicked",e.ContentChapterChanged="ContentChapterChanged",e.AdLoaded="AdLoaded",e.AdStarted="AdStarted",e.AdStopped="AdStopped",e.AdSkipped="AdSkipped",e.AdSkippableStateChange="AdSkippableStateChange",e.AdSizeChange="AdSizeChange",e.AdLinearChange="AdLinearChange",e.AdDurationChange="AdDurationChange",e.AdExpandedChange="AdExpandedChange",e.AdRemainingTimeChange="AdRemainingTimeChange",e.AdVolumeChange="AdVolumeChange",e.AdImpression="AdImpression",e.AdVideoStart="AdVideoStart",e.AdVideoFirstQuartile="AdVideoFirstQuartile",e.AdVideoMidpoint="AdVideoMidpoint",e.AdVideoThirdQuartile="AdVideoThirdQuartile",e.AdVideoComplete="AdVideoComplete",e.AdClickThru="AdClickThru",e.AdInteraction="AdInteraction",e.AdUserAcceptInvitation="AdUserAcceptInvitation",e.AdUserMinimize="AdUserMinimize",e.AdUserClose="AdUserClose",e.AdPaused="AdPaused",e.AdPlaying="AdPlaying",e.AdLog="AdLog",e.AdBid="AdBid",e.AdError="AdError",e.AdClosed="AdClosed",e.VPAIDLoadError="VPAIDLoadError",e.InitContentsSuccess="InitContentsSuccess",e.InitContentsError="InitContentsError",e.ContentCustomMetadataSuccess="ContentCustomMetadataSuccess",e.ContentCustomMetadataError="ContentCustomMetadataError",e.Playlist={PlaylistNextClicked:"PlaylistNextClicked",PlaylistPrevClicked:"PlaylistPrevClicked",PlaylistItemClicked:"PlaylistItemClicked",UpNextAppears:"UpNextAppears",UpNextDisappears:"UpNextDisappears"}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.plugins||(t.com.aniview.player.plugins={});var e=t.com.aniview.player.plugins.AVCms=function(t,e){this.player=t};e.prototype.events=null,e.prototype.player=null,e.prototype.dispatcher=null;var s="embed.avplayer.com";e.prototype.setCmsMetadata=function(e){var i,n=this;e||reject({message:"No content",code:500}),e.kId&&n.player.config.showTitle&&(e.entry?n.player.changeGUI({contentTitle:e.entry.name}):(e.entry={},(i=new XMLHttpRequest).onreadystatechange=function(){var t;4===this.readyState&&(200===this.status?(t=JSON.parse(i.responseText)).data&&t.data.name&&(e.entry=t.data,n.player.changeGUI({contentTitle:t.data.name}),n.player.dispatcher.event(com.aniview.player.events.Events.ContentCustomMetadataSuccess,t.data)):n.player.dispatcher.event(com.aniview.player.events.Events.ContentCustomMetadataError,{message:"Could not get entry",code:500}))},i.open("GET","//"+s+"/api/video/cmsentry/"+e.kId+"?instanceId="+e.iId+"&format=json",!0),i.send()))},e.prototype.setPlaylist=function(){var o,a=this,t=a.player.config.content.kId,e=a.player.config.content.iId;t&&e&&((o=new XMLHttpRequest).onreadystatechange=function(){var t,e,i,n;4===this.readyState&&(200===this.status&&(t=JSON.parse(o.responseText)).data&&t.data.data?(e=a.player.adConfig,i=t.data.data,n={contents:i=a.player.mergeAdConfigs(i,e),async:!0},a.player.dispatcher.event(com.aniview.player.events.Events.InitContentsSuccess,n)):(n={message:"No playlist",code:500},a.player.dispatcher.event(com.aniview.player.events.Events.InitContentsError,n)))},o.open("GET","//"+s+"/api/video/cmsplaylist/"+t+"/entries/"+e+"?instanceId="+e+"&format=json&player=true",!0),o.send())}}(window),function(r){"use strict";r.com||(r.com={}),r.com.aniview||(r.com.aniview={}),r.com.aniview.player||(r.com.aniview.player={}),r.com.aniview.player.plugins||(r.com.aniview.player.plugins={});var t=r.com.aniview.player.plugins.KalturaAnalytics=function(t,e){this.player=t,function(t,e){for(var i=["endpoint","api","uiConfID","partnerID","sessionID"],n=0;n<i.length;n++)e[i[n]]&&(t.config[i[n]]=e[i[n]])}(this,e),this.config.sessionID=t.getSessionId(),this.registerEvents()};function l(t){var e,i=[];for(e in t)t.hasOwnProperty(e)&&i.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return i.join("&")}Date.now=Date.now||function(){return+new Date},t.prototype.player=null,t.prototype.config={endpoint:"videostats.panda-os.com",api:"api_v3/index.php",uiConfID:11,partnerID:11,sessionID:11,objectType:"KalturaStatsEvent",apiVersion:3.1,expiry:86400,format:1,ignoreNull:1},t.prototype.eventMap={ContentVideoStart:2,ContentVideoFirstQuartile:4,ContentVideoMidpoint:5,ContentVideoThirdQuartile:6,ContentVideoComplete:7},t.prototype.registerEvents=function(){var o=this;this.player.dispatcher.addEventListener(r.com.aniview.player.video.VideoTag.Events.ContentVideoStart,function(t){var e,i,n=o.eventMap[t.type];isNaN(n)||(e=o.player.getContent(),i={"event:duration":Math.floor(o.player.getContentDuration()),"event:entryId":e.kId},o.sendPixel(n,i),2===n&&o.sendPixel(3,i))})},t.prototype.sendPixel=function(t,e){e=e||{};var i="https://"+this.config.endpoint+"/"+this.config.api+"?",n=r.com.aniview.player.Utils.getTrueDomain(),o={"event:eventType":t,"event:uiconfId":this.config.uiConfID,"event:partnerId":this.config.partnerID,"event:sessionID":this.config.sessionID,"event:referrer":n,service:"stats",action:"collect",apiVersion:this.config.apiVersion,expiry:this.config.expiry,format:this.config.format,ignoreNull:this.config.ignoreNull},a={"event:objectType":this.config.objectType,"event:isFirstInSession":!1};try{o["event:eventTimestamp"]=Date.now()}catch(t){}var s=i+l(o)+"&"+l(e)+"&"+l(a);(new Image).src=s}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.video||(t.com.aniview.player.video={});var h=t.com.aniview.player.Utils,i=t.com.aniview.player.video.BaseVideo=function(){};i.prototype.element=null,i.prototype.eventCallback=null,i.prototype.init=function(t,e,i){this.element=i||this.createElement(),this.element.src=t,this.srcUrl=t},i.prototype.createElement=function(){return document.createElement("video")},i.prototype.event=function(t,e){this.eventCallback&&this.eventCallback(t,e)},i.prototype.dispose=function(){this.element&&(this.element=null)},i.prototype.elementEventCallbacks={},i.prototype.initEvents=function(){if(!this.eventsInited){this.eventsInited=!0;var i=com.aniview.player.events.Events;this.started=!1,this.isStarted=!1;var t,n=this,o=0,a={},e="ended",s="click",r="durationchange",l="error",d="volumechange",p="playing",c="pause",u="timeupdate";for(t in this.elementEventCallbacks[e]=function(){n.event(i.ContentVideoEnded),n.element&&!a[i.ContentVideoComplete]&&(a[i.ContentVideoComplete]=!0,n.event(i.ContentVideoComplete))},this.elementEventCallbacks[s]=function(){n.element&&n.event(i.ContentClickThru)},this.elementEventCallbacks[r]=function(t){n.element&&n.event(i.ContentDurationChange,n.element.duration)},this.elementEventCallbacks[l]=function(t){if(n.element){if(n.element.error){if(!n.element.error.message)try{n.element.error.message=""}catch(t){}n.element.error.errorInfo="BaseVideo.js - this.elementEventCallbacks[videoEvents.error]"}n.contentErrorSent||(n.contentErrorSent=!0,n.event(i.ContentError,n.element.error))}},this.elementEventCallbacks[d]=function(){n.element&&n.event(i.ContentVolumeChange,n.element.volume)},this.elementEventCallbacks[p]=function(){n.element&&(n.event(i.ContentPlaying),n.isStarted||(n.isStarted=!0,n.event(i.ContentVideoStart),"ios"===h.getOS()&&navigator&&navigator.userAgent&&-1<navigator.userAgent.indexOf("15")&&(n.element.currentTime=n.element.currentTime+1e-4)))},this.elementEventCallbacks[c]=function(){n.element&&!n.element.ended&&n.event(i.ContentPaused)},this.elementEventCallbacks[u]=function(){var t,e;n.element&&(t=n.element.duration,e=n.element.currentTime,o<.25*t&&.25*t<=e?a[i.ContentVideoFirstQuartile]||(a[i.ContentVideoFirstQuartile]=!0,n.event(i.ContentVideoFirstQuartile)):o<.5*t&&.5*t<=e?a[i.ContentVideoMidpoint]||(a[i.ContentVideoMidpoint]=!0,n.event(i.ContentVideoMidpoint)):o<.75*t&&.75*t<=e&&(a[i.ContentVideoThirdQuartile]||(a[i.ContentVideoThirdQuartile]=!0,n.event(i.ContentVideoThirdQuartile))),o=e,n.event(i.ContentTimeChange,o))},this.elementEventCallbacks)this.element.addEventListener(t,this.elementEventCallbacks[t])}},i.prototype.removeAllEventListeners=function(){for(var t in this.elementEventCallbacks)this.element.removeEventListener(t,this.elementEventCallbacks[t])},i.prototype.getPaused=function(){return this.element.paused},i.prototype.getPauseRequested=function(){return this.pauseRequested},i.prototype.getEnded=function(){return this.element.ended},i.prototype.getIsStarted=function(){return this.isStarted},i.prototype.play=function(){var t,e;this.pauseRequested=!1,this.element&&(!h.isMobile()||"ios"!==h.getOS()||(t=h.getOSVersion())&&"9"===t.major&&this.element.load(),-1!==h.getOS().indexOf("tizen")&&(this.element.calledload||(this.element.calledload=!0,this.element.load())),this.initEvents(),(e=this.element.play())&&"function"==typeof e.then&&e.then(function(){h.log("Video promise - start playing",h.LOG_LEVEL.DEBUG)}).catch(function(t){h.log("Exception caught while trying to play video: ",h.LOG_LEVEL.DEBUG),h.log(t,h.LOG_LEVEL.ERR)}))},i.prototype.pause=function(){this.pauseRequested=!0,this.element.pause()},i.prototype.getVolume=function(){return this.element.volume},i.prototype.setVolume=function(t){(this.element.volume=t)&&this.element.removeAttribute("muted")},i.prototype.getMuted=function(){return this.element.muted},i.prototype.mute=function(){this.element.muted=!0},i.prototype.unmute=function(){this.element.muted=!1,this.element.removeAttribute("muted")},i.prototype.getDuration=function(){return this.element.duration},i.prototype.getUrl=function(){return this.srcUrl?this.srcUrl:this.element.src},i.prototype.getCurrentTime=function(){return this.getIsStarted()?this.element.currentTime:0},i.prototype.setCurrentTime=function(t){this.element.currentTime=t},i.prototype.setCurrentTimeAddXSec=function(t){this.getRemainingTime()>t&&(this.element.currentTime+=t)},i.prototype.setCurrentTimeReduceXSec=function(t){this.element.currentTime>=t&&(this.element.currentTime-=t)},i.prototype.getBufferTime=function(){return this.element.buffered&&this.element.buffered.length?this.element.buffered.end(this.element.buffered.length-1):this.getCurrentTime()},i.prototype.getRemainingTime=function(){return this.element.duration-this.element.currentTime},i.prototype.toString=function(){return"BaseVideo"},i.prototype.setAutoPlay=function(){this.element.setAttribute("autoplay",!0)},i.extends=function(t){for(var e in i.prototype)null==t[e]?t[e]=i.prototype[e]:t["super_"+e]=i.prototype[e]}}(window),function(o){"use strict";o.com||(o.com={}),o.com.aniview||(o.com.aniview={}),o.com.aniview.player||(o.com.aniview.player={}),o.com.aniview.player.video||(o.com.aniview.player.video={});var t=o.com.aniview.player.video.DASHVideo=function(t){com.aniview.player.video.BaseVideo.extends(this)};t.prototype.player=null,t.prototype.ready=!1,t.prototype.played=!1,t.prototype.createElement=function(){var t=this.super_createElement();return com.aniview.player.Utils.isMobile()&&t.setAttribute("autoplay",!0),t},t.prototype.init=function(t,e,i){this.element=i||this.createElement();var n=this;o.dashjs?n.initDASH(t):com.aniview.player.Utils.loadScript(e,function(){n.initDASH(t)})},t.prototype.initDASH=function(t){this.player=dashjs.MediaPlayer().create(),this.player.initialize(this.element,t,!1),this.player.getDebug().setLogToBrowserConsole(!1),this.ready=!0;var e=this;this.player.on(dashjs.MediaPlayer.events.STREAM_INITIALIZED,function(){e.played&&e.play()})},t.isSupported=function(){return o.MediaSource=o.MediaSource||o.WebKitMediaSource,o.MediaSource&&"function"==typeof o.MediaSource.isTypeSupported&&o.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},t.prototype.dispose=function(){this.super_dispose(),this.player&&(this.player.reset(),this.player=null)},t.prototype.play=function(){this.pauseRequested=!1,this.played=!0,this.ready&&(this.initEvents(),this.element.play())},t.prototype.pause=function(){this.pauseRequested=!0,this.played=!1,this.ready&&this.element.pause()},t.prototype.toString=function(){return"DASHVideo"}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.video||(t.com.aniview.player.video={});var e=t.com.aniview.player.video.ErrorVideo=function(t){com.aniview.player.video.BaseVideo.extends(this),this.element=document.createElement("div"),this.element.innerText="This video not supported for this browser",this.element.src=t};e.prototype.element=null,e.prototype.dispose=function(){this.element&&(this.element=null)},e.prototype.init=function(t){},e.prototype.getPaused=function(){return!0},e.prototype.getPauseRequested=function(){return!0},e.prototype.play=function(){},e.prototype.pause=function(){},e.prototype.getVolume=function(){return 0},e.prototype.setVolume=function(t){},e.prototype.getMuted=function(){return!0},e.prototype.mute=function(){},e.prototype.unmute=function(){},e.prototype.getDuration=function(){return 0},e.prototype.getCurrentTime=function(){return 0},e.prototype.setCurrentTime=function(t){},e.prototype.getBufferTime=function(){return 0},e.prototype.getRemainingTime=function(){return 0},e.prototype.toString=function(){return"ErrorVideo"}}(window),function(s){"use strict";s.com||(s.com={}),s.com.aniview||(s.com.aniview={}),s.com.aniview.player||(s.com.aniview.player={}),s.com.aniview.player.video||(s.com.aniview.player.video={});var r=s.com.aniview.player.Utils,t=s.com.aniview.player.video.HLSVideo=function(t){this.shouldPause=!1,com.aniview.player.video.BaseVideo.extends(this),t.trackTraffic&&(this.publisherId=t.publisherId),this.paramsObject=t};t.prototype.player=null,t.prototype.ready=!1,t.prototype.state="none",t.prototype.started=!1,t.prototype.errorsRecovrTries=0,t.prototype.maxRecoverTries=2,t.prototype.createElement=function(){var t=this.super_createElement();return com.aniview.player.Utils.isMobile(),t},t.prototype.sendContentError=function(t){var e;this.contentErrorSent||(this.contentErrorSent=!0,t&&(e={error:t}),this.event(s.com.aniview.player.video.VideoTag.Events.ContentError,e))},t.prototype.init=function(t,e,i,n){this.element=i||this.createElement(),this.libraryHLS=e,this.libraryConfig=n,this.srcUrl=t,this.contentErrorSent=!1;var o=this;s.Hls?o.initHLS(t):com.aniview.player.Utils.loadScript(this.libraryHLS,function(){o.initHLS(t)})},t.prototype.event=function(t,e){this.eventCallback&&this.eventCallback(t,e)},t.prototype.srcChanged=function(t){return!this.player||""!==t&&this.player.url!=t},t.prototype.initHLS=function(i){var o,a,t,e,n=this;this.paramsObject&&(this.paramsObject.avTrackData||this.paramsObject.passHLSParams)&&(o=this.paramsObject.passHLSParams&&(i||"").split("?")[1]||"",a=this.paramsObject.avTrackData,t=function(n,t){n.origOpen||(n.origOpen=n.open,n.open=function(){var t,e,i=arguments[1];"string"==typeof i&&(t="",e=-1<i.toLowerCase().indexOf(".m3u8"),o&&!e&&(t+=o),a&&(t+=(t?"&":"")+a),t=t?(-1<i.indexOf("?")?"&":"?")+t:"",arguments[1]=i+t),n.origOpen.apply(n,arguments)})}),Hls.isSupported()&&this.srcChanged(i)&&(n.log("Instantiating hls player."),this.destroy(),n.libraryConfig||(n.libraryConfig={}),e={enableWorker:!0,startLevel:n.libraryConfig.startLevel||-1,autoLoadStart:!1,maxBufferLength:n.libraryConfig.maxBufferLength||9,capLevelToPlayerSize:n.libraryConfig.capLevelToPlayerSize||!1,xhrSetup:t},n.libraryConfig.maxMaxBufferLength&&(e.maxMaxBufferLength=n.libraryConfig.maxMaxBufferLength),this.player=new Hls(e),this.player.attachMedia(this.element),this.player.on(Hls.Events.MEDIA_ATTACHED,function(){n.log("Hls.Events.MEDIA_ATTACHED"),n.player.url!=i&&n.player.loadSource(i)}),this.player.on(Hls.Events.MANIFEST_PARSED,function(){if(n.libraryConfig)for(var t in n.libraryConfig)n.libraryConfig.hasOwnProperty(t)&&(n.player[t]=n.libraryConfig[t]);n.log("Hls.Events.MANIFEST_PARSED"),n.ready=!0,n.event(s.com.aniview.player.video.VideoTag.Events.ContentReady),"play"==n.state?(n.log("Hls.play"),n.play()):n.log("that.played == false")}),this.player.on(Hls.Events.ERROR,function(t,e){if(e.fatal){if(1<n.errorsRecovrTries)n.pause(),n.sendContentError(),n.log(e.type+": "+e.details,r.LOG_LEVEL.ERR);else switch(e.type){case Hls.ErrorTypes.NETWORK_ERROR:n.log("fatal network error encountered, try to recover"),e.details!==Hls.ErrorDetails.MANIFEST_LOAD_ERROR&&e.details!==Hls.ErrorDetails.MANIFEST_LOAD_TIMEOUT&&e.details!==Hls.ErrorDetails.MANIFEST_PARSING_ERROR||n.player.loadSource(i),n.player.startLoad();break;case Hls.ErrorTypes.MEDIA_ERROR:0===n.errorsRecovrTries?(n.log("fatal media error encountered, try to recover"),n.player.recoverMediaError(),n.errorsRecovrTries++):1===n.errorsRecovrTries&&(n.log("fatal media error encountered, try to recover"),n.player.swapAudioCodec(),n.player.recoverMediaError(),n.errorsRecovrTries++);break;default:n.pause(),n.sendContentError(),n.log(e.type+": "+e.details,r.LOG_LEVEL.ERR)}n.errorsRecovrTries++}}))},t.isSupported=function(){return s.MediaSource=s.MediaSource||s.WebKitMediaSource,s.MediaSource&&"function"==typeof s.MediaSource.isTypeSupported&&s.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},t.prototype.destroy=function(){this.player&&(this.log("Destroying HLS object",r.LOG_LEVEL.DEBUG),this.player.destroy(),this.player=null)},t.prototype.dispose=function(){this.super_dispose(),this.destroy()},t.prototype.setState=function(t){this.state=t},t.prototype.play=function(){if(this.pauseRequested=!1,this.setState("play"),this.ready&&(!this.playResult||this.playResult.done)){try{this.shouldPause=!1,this.initEvents(),this.playResult=this.element.play()}catch(t){this.log("Video play error. "+t,s.com.aniview.player.Utils.LOG_LEVEL.ERR)}var i,n;this.playResult&&"function"==typeof this.playResult.then&&(i=this,n=setTimeout(function(){i.sendContentError()},2e4),this.playResult.then(function(){i.shouldPause&&(i.shouldPause=!1,i.element.pause()),i.log("Video promise - start playing",r.LOG_LEVEL.DEBUG),clearTimeout(n),i.playResult.done=!0}).catch(function(t){var e;i.log("Exception caught while trying to play video: "+t,r.LOG_LEVEL.DEBUG),t&&"NotAllowedError"===t.name&&0==i.element.muted&&(i.element.muted=!0,e="NotAllowedError"),clearTimeout(n),i.playResult.done=!0,i.sendContentError(e)}))}},t.prototype.log=function(t,e){var i=com.aniview.player.Utils,n="unknown";try{n=this.element&&this.element.id}catch(t){}i.log("HLSVideo::"+n+" - "+t,e)},t.prototype.pause=function(){this.pauseRequested=!0,this.played=!1,this.ready&&(!this.playResult||this.playResult&&this.playResult.done?this.element.pause():this.shouldPause=!0)},t.prototype.toString=function(){return"HLSVideo"}}(window),function(e){"use strict";e.com||(e.com={}),e.com.aniview||(e.com.aniview={}),e.com.aniview.player||(e.com.aniview.player={}),e.com.aniview.player.video||(e.com.aniview.player.video={});var t=e.com.aniview.player.video.ImageVideo=function(t){com.aniview.player.video.BaseVideo.extends(this),this.publisherId=t};t.prototype.started=!1,t.prototype.disposed=!1,t.prototype.dispose=function(){this.super_dispose(),this.disposed=!0},t.prototype.play=function(){this.started||(this.started=!0,this.element.startAd()),this.super_play()},t.prototype.toString=function(){return"ImageVideo"};function ot(t){return t&&t.complete&&0<t.width&&0<t.height}function at(t,e,i,n,o){var a;null!=Object.defineProperty?(a={enumerable:null==o||o,configurable:!0},i&&(a.get=i),n&&(a.set=n),Object.defineProperty(t,e,a)):(i&&null!=t.__defineGetter__&&t.__defineGetter__(e,i),n&&null!=t.__defineSetter__&&t.__defineSetter__(e,n))}t.prototype.createElement=function(t){this.config={hd:!0,publisherid:this.publisherId?this.publisherId:"55b78633181f4603178b4568",cdnurl:"http://data1.aniview.com/",width:300,height:250};var l=document.createElement("div");l.style.position="absolute",l.style.top="0px",l.style.left="0px",l.style.width="100%",l.style.height="100%",l.style.display="block",l.addEventListener("mousedown",function(t){{var e,i,n,o;I&&0<l.duration&&(e=t.pageX-l.offsetLeft,i=t.pageY-l.offsetTop,(n=it()).x<e&&e<n.x+n.width&&n.y<i&&i<n.y+n.height&&((o=(e-n.x)/n.width)<0?o=0:1<o&&(o=1),l.currentTime=o*l.duration))}});var d=this,p=null,e=1,c=!0,i=!1,u=0,s=0,n=0,h=null,o=!0,g=!1,a=0,r=0,v=0,m=0,f=1,y=1,b=!1,w=null,C=null,x=!1,E=!1,k=null,S=Date.now(),A=0,T=!1,I=!1,L=0,P=!1,M=!1,z=null,B=0,V=0,O=!1,N=!1;l.__id=Date.now();var D=!1,U=!1,F=!1,R=!1,j=d.config.cdnurl,H=null,G=document.createElement("audio"),_=document.createElement("img"),X=document.createElement("canvas");function W(){var t=null;var e=l.children;e&&0<e.length&&(!l.src||""==l.src)&&(t=function(t){for(var e="",i=0;i<t.length;i++)t[i].src&&(-1<t[i].src.indexOf("wmv")||-1<t[i].src.indexOf("webm")||-1<t[i].src.indexOf("mp4")||-1<t[i].src.indexOf("flv")||-1<t[i].src.indexOf("3gpp"))&&(e=t[i].src,i=t.length);return e}(e)),t&&""!=t||(t=l.getAttribute("src")),t&&""!=t||(t=l.src),t&&(l.src=t)}var q=setInterval(W,250),Z={startAd:function(){D=!0},load:function(){W(),null!=l.src&&""!=l.src&&(U||(M=!(P=!(T=!(U=!(A=0)))),z=null,Q()))},init:function(t){F=t||!1,i=!(c=!(p=null)),g=!(o=!(h=null)),m=v=r=a=n=s=u=0,E=x=b=!(y=f=e=1),k=C=w=null,S=Date.now(),V=B=L=A=0,R=U=D=N=O=M=P=I=T=!1,H=z=null},play:function(){W(),null!=l.src&&""!=l.src&&(g=!0,D?o&&(this.asid,o=!1,u>=this.duration&&(u=0),E&&x&&!c&&G.play(),1==O&&(Y("play"),Y("playing")),this.enterFrame=function(){var t,e;d.disposed||(t=Date.now(),e=c?100:t-S,function(){var t=0==a?l.clientWidth:a,e=0==r?l.clientHeight:r;t=Math.floor(t),e=Math.floor(e);var i=!1;X.width!=t&&(X.width=t,i=!0);X.height!=e&&(X.height=e,i=!0);i&&Y("resize")}(),nt(),$(),function(t){{var e;0<l.duration&&(o||(e=!1,P?(e=et(4))&&(P=!1):(e=et(1))||(P=!0),E&&!c?e?(G.paused&&!G.ended&&G.play(),G.currentTimeLast&&(G.currentTimeLast==G.currentTime&&(V+=t),G.currentTimeLast<G.currentTime&&(V=0)),G.currentTimeLast=G.currentTime,(u=G.currentTime+V)>l.duration&&(u=l.duration)):G.paused||G.pause():e&&(u+=t*y)),!o&&u>=l.duration&&(b?(tt(0),l.play()):(tt(l.duration),Y("timeupdate"),N=!0,Y("ended"),l.pause())),o&&0==u&&_.src?function(){if(ot(_)){var t=Math.min(X.width/_.width,X.height/_.height),e=_.width*t,i=_.height*t;try{X.getContext("2d").drawImage(_,0,0,_.width,_.height,.5*(X.width-e),.5*(X.height-i),e,i)}catch(t){}}}():(function(){var t=u;c||(t+=.4);if(k&&k.length&&z){var e=Math.floor(t);if(null!=k[e]){var i=k[e].image;if(ot(i)){var n=Math.floor(10*(t-e)),o=e+"_"+n;if(h!=o){h=o;var a=Math.round(i.height/z.height);if(n<a){var s=Math.min(X.width/z.width,X.height/z.height),r=z.width*s,l=z.height*s;1!=d.config.fullframe&&!F||(r=d.config.width,l=d.config.height),X.width<X.height&&(r=X.width,l=X.height);try{0==O&&(O=!0,Y("play"),Y("playing")),X.getContext("2d").drawImage(i,0,z.height*n,z.width,z.height-1,.5*(X.width-r),.5*(X.height-l),r,l)}catch(t){}}}}}}}(),function(){if(I&&0<l.duration){var t=it();try{var e=X.getContext("2d");e.fillStyle="#999999",e.fillRect(t.x,t.y,t.width,t.height);for(var i=0;i<l.buffered.length;i++){var n=l.buffered.begin(i)/l.duration,o=l.buffered.end(i)/l.duration;n<0?n=0:1<n&&(n=1),o<0?o=0:1<o&&(o=1),e.fillStyle="#dddddd",e.fillRect(t.x+t.width*n,t.y,t.width*(o-n),t.height/2)}var a=l.currentTime/l.duration;a<0?a=0:1<a&&(a=1),e.fillStyle="#dd0000",e.fillRect(t.x,t.y+t.height/2,t.width*a,t.height/2)}catch(t){}}}()),L+=t,R||0!=u||(R=!0,Y("timeupdate")),.3<L&&(L=0,n!=u&&(n=u,Y("timeupdate"))))}}(.001*e),S=t,o||(c?B=setTimeout(l.enterFrame,96):st(l.enterFrame)))},l.canvasAppended||(l.appendChild(X),l.canvasAppended=!0),this.enterFrame()):this.asid)},pause:function(){o||(this.asid,o=!0,E&&G.pause(),0<B&&(clearTimeout(B),B=0),Y("pause"))},addTextTrack:function(t,e,i){return null},canPlayType:function(t){var e="";switch(t){case"video/mp4":case"video/webm":case"video/x-flv":case"video/3gpp":case"video/x-ms-wmv":e="probably";break;default:e=""}return e},get_buffered:function(){var e=[];if(k&&k.length)for(var t=null,i=0;i<k.length;i++)ot(k[i].image)?(t||((t={}).begin=i,e.push(t)),t.end=i+1):t=null;return{start:function(t){return t<e.length?e[t].begin:0},end:function(t){return t<e.length?e[t].end:0},length:e.length}},get_videoWidth:function(){return v},get_videoHeight:function(){return m},get_audioTracks:function(){return{begin:function(t){return 0},end:function(t){return x?G.duration:0},length:x?1:0}},get_poster:function(){return _.src},set_poster:function(t){null==t&&(t=""),_.src!=t&&(_.src=t)},get_autoplay:function(){return g},set_autoplay:function(t){g=t},get_controller:function(){return null},get_controls:function(){return I},set_controls:function(t){I=t},get_crossOrigin:function(){return null},get_currentSrc:function(){return p},get_currentTime:function(){return u},set_currentTime:function(t){tt(t),t!=l.duration&&(N=!1),Y("seeking"),Y("seeked")},get_defaultMuted:function(){return i},set_defaultMuted:function(t){i=t},get_defaultPlaybackRate:function(){return f},set_defaultPlaybackRate:function(t){f=t},get_duration:function(){if(C){var t,e,i=0;return k&&k.length&&(ot(t=k[k.length-1].image)&&z&&(0<(e=Math.round(t.height/z.height))&&(i=e/10))),C.total-1+i}return 0},get_ended:function(){return N},get_loop:function(){return b},set_loop:function(t){b=t},get_mediaGroup:function(){return{length:0}},get_muted:function(){return c},set_muted:function(t){c=t,nt(),d.config.nosndrewind&&(E=!0),!x||E||c||N||(E=!0,this.currentTime=0,this.pause(),this.play()),E&&(c?G.paused||(G.pause(),u=G.currentTime+.4):G.paused&&(G.currentTime=u-.4,o||N||G.play()))},get_networkState:function(){return 0},get_paused:function(){return o},get_playbackRate:function(){return y},set_playbackRate:function(t){y!=t&&(y=t,Y("ratechange"))},get_played:function(){return 0==u?{length:0}:{start:function(t){if(0==t)return 0},end:function(t){if(0==t)return u},length:1}},get_preload:function(){return"auto"},set_preload:function(t){},get_readyState:function(){return s},get_seekable:function(){return{length:0}},get_seeking:function(){return!1},get_src:function(){return p},set_src:function(t){p!=t&&(this.asid,null!=(p=t)&&""!=p?(clearInterval(q),this.load()):U=!1)},get_startDate:function(){return w},get_textTracks:function(){return{length:0}},get_videoTracks:function(){return{begin:function(t){return 0},end:function(t){return this.duration},length:0<this.duration?1:0}},get_volume:function(){return e},set_volume:function(t){t<0?t=0:1<t&&(t=1),e!=t&&(0<t&&!O||(0==(e=t)&&(this.muted=!0),nt(),Y("volumechange")))},get_width:function(){return X.width},set_width:function(t){X.width=t},get_height:function(){return X.height},set_height:function(t){X.height=t},get_error:function(){return H},set_error:function(t){H=t},get_nodeName:function(){return"VIDEO"}};function J(){return d.config.hd&&C&&"true"==String(C.HD).toLowerCase()}function Y(t){l.asid;var e="on"+t;"function"==typeof l[e]&&l[e]();var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0),l.dispatchEvent(i)}function Q(){if(null!=p&&""!=p){if(30<++A)return H={code:1,message:"timeout waiting for image video"},void Y("error");!function(){k=C=null,o=!(x=!1),u=0,y=f,G.pause(),G.src="",i&&(c=i);try{X.getContext("2d").clearRect(0,0,X.width,X.height)}catch(t){}}();var r=function(t,e){function i(t){for(var e=0,i="",n=0;n<t.length;n++){e+=t.charCodeAt(n)*n,n%13==0&&(i+=e.toString(),e=0)}return i+=e.toString(),i+="_"+t.length}var n=(t=t.replace(/\https/g,"http")).toUpperCase();{if(-1<n.search(".MP4")||-1<n.search(".FLV")||-1<n.search(".3GP")||-1<n.search(".WMV")||-1<n.search(".WEBM")){var o,a,s,r,l="";return-1<t.search("/videoplayback/")&&-1<t.search("/id/")&&-1<t.search("/itag/")&&-1<t.search("/source/")&&-1<t.search("/ip/")&&(o=t.search("ip/"),t=t.substr(0,o)),-1<(l=t.indexOf("90minContentId"))&&((a=t.substring(l+15,l+100))&&2<a.length&&-1<(l=a.indexOf("&"))&&(a=a.substring(0,l)),t="http://90min.com/"+a+"/"+a+"/"+a+"/"+a),"string"==typeof e&&2<e.length&&(t=e),-1<t.indexOf("track.eyeviewads.com")&&(d="",-1<(p=t.indexOf("madid="))&&(p+=6,c=t.substring(p,p+100),-1<(p=c.indexOf("&"))&&(d=c.substring(0,p)),d&&2<d.length&&(t="http://track.eyeviewads.com/madid/"+d+"/"+d+"/"+d+"/"+d+"/"+d))),-1<t.indexOf("eyeviewads")?(s="",-1<n.search(".MP4")?s=".mp4":-1<n.search(".FLV")?s=".flv":-1<n.search(".3GP")&&(s=".3gp"),t=(r=t.split(s))[0]+s):-1<t.indexOf("?")&&(t=(r=t.split("?"))[0]),-1<t.indexOf("toboads.com/vast2/agw.php")&&(s="zzzzzzz",-1<n.search(".MP4")?s=".MP4":-1<n.search(".FLV")?s=".FLV":-1<n.search(".WEBM")?s=".WEBM":-1<n.search(".3GP")&&(s=".3GP"),"zzzzzzz"!=s&&(r=n.split(s),t=r[0]+s)),t=i(t)}var d,p,c;return-1<t.indexOf("/www.youtube.com/get_video?")&&(d="",-1<(p=t.indexOf("video_id="))&&(p+=9,c=t.substring(p,p+100),-1<(p=c.indexOf("&"))&&(d=c.substring(0,p)),d&&2<d.length&&(t="http://www.youtube.com/video_id/"+d+"/"+d+"/"+d+"/"+d))),-1<t.indexOf("web.sundaysky.com/create_video")&&(d="",-1<(p=t.indexOf("create_video?id="))&&(p+=16,c=t.substring(p,p+100),-1<(p=c.indexOf("&"))&&(d=c.substring(0,p)),d&&2<d.length&&(t="http://web.sundaysky.com/create_video/video_id/"+d+"/"+d+"/"+d+"/"+d))),t=i(t)}}(p,void 0);Y("waiting"),l.VIDEO_FOLDER_ID=function(t,e){var i=1;if(j="http://data4.aniview.com/","56425b19181f4650718b456c"==t)return"115252";if("55b88d67181f465d3e8b4567"==t)return"41751";for(var n=0;n<e.length;n++)i+=e.charCodeAt(n);switch(i%27){case 1:case 4:case 7:case 10:case 13:case 16:case 19:return"20181";case 2:case 5:case 8:case 11:case 14:case 17:case 20:return"20182";case 3:case 6:case 9:case 12:case 15:case 18:case 21:return"20183";case 22:case 23:case 24:case 25:case 26:case 27:case 0:default:return"20184"}return"20184"}(d.config.publisherid,r),function(t,e,i,n,o){var a,s,r,l;a=(new Date).getTime(),s=o.adfoldermode?n.trim()+"/id.txt":com.aniview.player.Utils.httpsReplace("http://cdn3.aniview.com/")+e+"/"+t+"/id.txt?cb="+a;r=function(t,e,i){var n=new XMLHttpRequest;"withCredentials"in n?(n.open(t,e,!0),1==i&&(n.withCredentials=!0)):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest).open(t,e):n=null;return n}("GET",s,0);r.onload=function(){200==r.status?""!=r.responseText?(l=JSON.parse(r.responseText)).error&&(1==l.error||2==l.error)?i.failure(l):i.success(l):i.failure({error:0}):i.failure(null)},r.onerror=function(){i.failure(null)},r.send()}(r,l.VIDEO_FOLDER_ID,{success:function(t){if(!d.disposed){v=(C=t).width,m=C.height,X.width=v,X.height=m,z=J()?{width:512,height:288}:{width:300,height:167},t.total,l.duration,s=1,Y("loadstart"),Y("durationchange"),Y("loadedmetadata"),k=[];for(var e=com.aniview.player.Utils.httpsReplace(j),i=0;i<C.total;i++){var n=e+"videos/resources/"+l.VIDEO_FOLDER_ID+"/"+C.id+"/"+(J()?"hd/":"")+"img"+i+".ani",n=d.config.adfoldermode?l.src.trim()+"/"+(J()?"hd/":"")+"img"+i+".ani":com.aniview.player.Utils.httpsReplace(e)+l.VIDEO_FOLDER_ID+"/"+r+"/"+(J()?"hd/":"")+"img"+(i+1)+".ani?pid="+d.config.publisherid+"&type=c";k.push({url:n,image:null})}$();var o=e+"videos/resources/"+l.VIDEO_FOLDER_ID+"/"+C.id+"/"+C.id+".mp3",o=d.config.adfoldermode?l.src.trim()+"/"+C.id+".mp3":com.aniview.player.Utils.httpsReplace(e)+l.VIDEO_FOLDER_ID+"/"+C.id+"/"+C.id+".mp3?pid="+d.config.publisherid+"&type=c";G.oncanplaythrough=function(){x||404==this.status||(x=!0),Y("durationchange"),Y("progress"),l.duration},G.src=o;var a=new XMLHttpRequest;a.open("GET",o,!0),a.onload=function(t){x||404==this.status||(x=!0,Y("progress")),l.duration},a.send(null),g&&l.play()}},failure:function(t){var e,i,n,o,a,s;d.disposed||(t&&null!=t.error?0==t.error?K():(H={code:1,message:"Failed to process image video: "+t.error+":"+p},Y("error")):T?K():(T=!0,e=r,i=d.config,n=encodeURIComponent(p),o="videoURL="+n+"&xchangePartner="+l.VIDEO_FOLDER_ID+"&ADID="+e+"&vast=",a=new XMLHttpRequest,s=com.aniview.player.Utils.httpsReplace("http://add2.aniview.com")+"/cdnorigin/prod/addVideo?pubid="+i.publisherid+"&ADID="+e+"&pl=cpl",a.open("POST",s,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onload=function(){200==a.status&&K()},a.send(o)))}},l.src,d.config)}}function K(){d.disposed||setTimeout(Q,1e3)}function $(){if(k&&k.length){var t=Math.floor(u),e=Math.floor(t+4);for(e>k.length&&(e=k.length);t<e;){var i=k[t];i.image||(i.image=document.createElement("img"),i.image.onload=function(){M||(M=!0,s=4,Y("canplay"),Y("canplaythrough"),Y("loadeddata")),Y("progress")},i.image.src=i.url),t++}}}function tt(t){u!=t&&((u=t)<0?u=0:u>l.duration&&(u=l.duration),E&&(G.currentTime=u))}function et(t){if(k&&k.length){var e=Math.floor(u),i=Math.floor(e+t);for(i>k.length&&(i=k.length);e<i;){if(!ot(k[e].image))return!1;e++}return!0}return!1}function it(){return{x:5,y:X.height-5-20,width:X.width-10,height:20}}function nt(){G.loop=b,G.playbackRate=y}return function(t,e){var i=0,n=null,o=null,a=null,s=null,r=[];for(s in e)"get_"==(i=s.substring(0,4))||"set_"==i?(a=s.substring(4),-1==r.indexOf(a)&&(r.push(a),n=e["get_"+a],o=e["set_"+a],"nodeName"==a?t.defineNodeName=function(){try{return at(t,a,n,o),!0}catch(t){return!1}}:at(t,a,n,o))):t[s]=e[s]}(l,Z),l},t.prototype.replaceTag=function(t){if(t&&t.parentNode){var e=this.createTag();return e.id=t.id,e.volume=t.volume,e.muted=t.muted,e.autoplay=t.autoplay,e.controls=t.controls,e.loop=t.loop,e.poster=t.poster,e.style.cssText=t.style.cssText,e.src=t.src,t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t),e}return t};var st=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.video||(t.com.aniview.player.video={}),(t.com.aniview.player.video.InitialVideo=function(){com.aniview.player.video.BaseVideo.extends(this),com.aniview.player.Utils.isOneVideoElement()?(this.element=this.createElement(),this.adsElement=this.element):(this.element=this.createElement(),this.adsElement=this.createElement(),this.adsElement.style.position="absolute",this.adsElement.style.left=0,this.adsElement.style.top=0,this.adsElement.style.right=0,this.adsElement.style.bottom=0)}).prototype.toString=function(){return"InitialVideo"}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.video||(t.com.aniview.player.video={});var e=t.com.aniview.player.video.InlineVideo=function(){com.aniview.player.video.BaseVideo.extends(this)};e.prototype.createElement=function(){var t=this.super_createElement();return t.setAttribute("muted",!0),t},e.prototype.toString=function(){return"InlineVideo"}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.video||(t.com.aniview.player.video={}),(t.com.aniview.player.video.NativeVideo=function(){com.aniview.player.video.BaseVideo.extends(this)}).prototype.toString=function(){return"NativeVideo"}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.video||(t.com.aniview.player.video={});var e=t.com.aniview.player.video.SimulateVideo=function(t){com.aniview.player.video.BaseVideo.extends(this)};e.prototype.createElement=function(){var i=!0,n=!1,o=!0,a=!1,s=!0,r=document.createElement("audio"),l=document.createElement("video");l.addEventListener("canplay",function(){i=n=!0}),l.addEventListener("timeupdate",function(){i=!0,u("playing")});var d=Date.now(),p=0,c=null;function u(t){l.dispatchEvent(new CustomEvent(t)),l["on"+t]&&l["on"+t]()}return this.intervalId=setInterval(function(){c!=l.src&&(c=l.src,a=!(s=!(p=0)),r.src=c,r.load(),l.autoplay&&l.play());var t=Date.now(),e=(t-d)/1e3;d=t,!o&&n&&0<l.buffered.length&&l.buffered.end(0)>p&&(p+=e,i&&(i=!1,l.currentTime=p),p>=l.duration&&(p=l.duration,l.currentTime=p,l.pause(),o=!0,u("ended")))},40),l.super_play=l.play,l.play=function(){l.super_pause(),a&&(r.currentTime=p,r.play()),i=!(o=!1),u("play")},l.super_pause=l.pause,l.pause=function(){l.super_pause(),a&&(r.currentTime=p,r.pause()),i=o=!0,u("pause")},Object.defineProperty(l,"paused",{get:function(){return o}}),Object.defineProperty(l,"muted",{get:function(){return s},set:function(t){s=t,(r.muted=s)||a||(a=!0,o||(p=0,r.play())),u("volumechange")}}),l},e.prototype.dispose=function(){this.super_dispose(),0<this.intervalId&&clearInterval(this.intervalId)},e.prototype.toString=function(){return"SimulateVideo"}}(window),function(s){"use strict";s.com||(s.com={}),s.com.aniview||(s.com.aniview={}),s.com.aniview.player||(s.com.aniview.player={}),s.com.aniview.player.video||(s.com.aniview.player.video={});var p=s.com.aniview.player.video.VideoTag=function(t){this.listeners={},this.paramsObject=t,this.container=document.createElement("div"),this.container.id="content_"+com.aniview.player.Utils.generateRandomString(),this.video=new s.com.aniview.player.video.InitialVideo,com.aniview.player.Utils.isOneVideoElement()?(this.container.appendChild(this.video.element),this.video.element.removeAttribute("controls"),this.video.element.controls=!1):(this.container.appendChild(this.video.element),this.container.appendChild(this.video.adsElement),this.video.element.removeAttribute("controls"),this.video.adsElement.removeAttribute("controls"),this.video.element.controls=!1,this.video.adsElement.controls=!1),this.listeners={}};p.prototype.container=null,p.prototype.src=null,p.prototype.video=null,p.prototype.eventCallback=null,p.prototype.initiated=!1,p.prototype.videoClass=!1,p.prototype.libraryPath=!1,p.prototype.videoAttributes=[],p.prototype.addVideoAttributes=function(){for(var t,e,i,n=0;n<this.videoAttributes.length;n++)e=(t=this.videoAttributes[n]).field,i=t.value,this.video.element.setAttribute(e,i),this.video.adsElement.setAttribute(e,i),"muted"==e&&(this.video.element[e]=i,this.video.adsElement[e]=i)},p.prototype.setVideoTagConfig=function(t){var e=null,i={};if(this.src=t.src,this.fallback=t.fallback,this.container&&t.src){var n,o,a,s=com.aniview.player.Utils,r=null,l=[],d=s.getExtension(t.src);if("m3u8"==d.toLowerCase()||"string"==typeof t.mimetype&&"application/vnd.apple.mpegurl"===t.mimetype.toLowerCase()?(n=document.createElement("video"),"safari"===s.getBrowser()||"ios"===s.getOS()&&""!==n.canPlayType("application/vnd.apple.mpegurl")||("webos"===s.getOS()||"tizen"===s.getOS()&&"4"===s.getOSVersion().major)&&""!==n.canPlayType("application/vnd.apple.mpegurl")?r=com.aniview.player.video.InlineVideo:com.aniview.player.video.HLSVideo.isSupported()&&(r=com.aniview.player.video.HLSVideo,e=this.paramsObject.libraryHLS,i=this.paramsObject.hlsConfig)):"mpd"==d.toLowerCase()?com.aniview.player.video.DASHVideo.isSupported()&&(r=com.aniview.player.video.DASHVideo,e=this.paramsObject.libraryDASH,i=this.paramsObject.dashConfig):r=s.isMobile()&&"webos"!==s.getOS()&&"tizen"!==s.getOS()?"ios"==(o=s.getOS())?10<=(a=s.getOSVersion()).major?com.aniview.player.video.InlineVideo:9<=a.major?com.aniview.player.video.SimulateVideo:com.aniview.player.video.ImageVideo:"android"==o&&53<=s.getChromeVersion()?com.aniview.player.video.InlineVideo:com.aniview.player.video.ImageVideo:com.aniview.player.video.NativeVideo,this.paramsObject.useImageVideo&&s.isMobile()&&(r=com.aniview.player.video.ImageVideo),this.videoClass=r,this.libraryPath=e,this.libraryConfig=i,!r)return void this.event(p.Events.ContentError,{message:"HLS Not Supported",pixelEvent:"c4"});s.isMobile()&&(t.noInlineVideo||(l.push({field:"playsinline",value:!0}),l.push({field:"webkit-playsinline",value:!0})),t.autoPlay&&l.push({field:"muted",value:!0})),t.autoPlay,0==t.volume&&l.push({field:"muted",value:!0}),this.videoAttributes=l}},p.prototype.init=function(t){this.log("init",t.src),this.initiated=!0,this.container&&this.src&&(this.setVideoTagConfig(t),this.initVideo())},p.prototype.isFallback=function(){return this.fallback},p.prototype.initVideo=function(){var t,e,i,n;this.videoClass&&(t=this.videoClass,e=this.video.element,i=this.video.adsElement,this.video.removeAllEventListeners(),this.video.dispose(),this.video=new t(this.paramsObject),(n=this.video.toString&&"ImageVideo"==this.video.toString())&&(this.contentImagePlayer&&this.container.removeChild(this.contentImagePlayer),e=null,this.contentImagePlayer=null),this.video.init(this.src,this.libraryPath,e,this.libraryConfig),n&&(this.contentImagePlayer=this.container.appendChild(this.video.element)),this.video.adsElement=i,this.addDefaultsEvents(this.video.element),this.addVideoContentEvents(this.video.element),this.addDefaultsEvents(this.video.adsElement),this.bindEvents())},p.prototype.addVideoContentEvents=function(n){var o=this,a=!1;n.addEventListener("loadedmetadata",function(t,e,i){a=!0,o.event(s.com.aniview.player.video.VideoTag.Events.LoadedMetadata,{duration:n.duration})}),"ios"!=com.aniview.player.Utils.getOS()||o.paramsObject.autoPlay||setTimeout(function(){a||n.error||o.event(s.com.aniview.player.video.VideoTag.Events.LoadedMetadata)},2e3)},p.prototype.addDefaultsEvents=function(t){t.av_evtsadded||(t.style.display="none",t.addEventListener("loadstart",function(){this.style.display="none"}),t.addEventListener("canplay",function(){this.style.display=""}),t.av_evtsadded=!0)},p.prototype.reset=function(){this.initiated=!1,this.video&&(this.video.dispose(),this.video=null)},p.prototype.log=function(t,e){var i=com.aniview.player.Utils,n="unknown";try{n=this.container.id}catch(t){}i.log("VideoTag::"+n+" - "+t,e)},p.prototype.show=function(){this.container.style.zIndex=1},p.prototype.hide=function(){this.container.style.zIndex=-1},p.prototype.bindEvents=function(){var n=this;this.video.eventCallback=function(t,e){!e&&isNaN(e)&&(e={}),t===p.Events.ContentVideoStart&&(e.source=n.src);var i=new CustomEvent(t,{});i.data=e,n.dispatchEvent(i)}},p.prototype.setSize=function(t,e){this.video&&this.video.element&&(this.video.element.width=t,this.video.element.height=e),this.video&&this.video.adsElement&&(this.video.adsElement.width=t,this.video.adsElement.height=e)},p.prototype.clear=function(){if(this.video&&(this.video.dispose(),this.video=null),this.container)for(;this.container.childNodes.length;)this.container.removeChild(this.container.childNodes[0])},p.Events={},p.Events.ContentError="error",p.Events.ContentTimeChange="ContentTimeChange",p.Events.ContentSourceChanged="ContentSourceChanged",p.Events.ContentLoaded="ContentLoaded",p.Events.ContentReady="ContentReady",p.Events.ContentStarted="ContentStarted",p.Events.ContentSkippableStateChange="ContentSkippableStateChange",p.Events.ContentSizeChange="ContentSizeChange",p.Events.ContentDurationChange="ContentDurationChange",p.Events.ContentRemainingTimeChange="ContentRemainingTimeChange",p.Events.ContentVolumeChange="ContentVolumeChange",p.Events.ContentVideoStart="ContentVideoStart",p.Events.ContentVideoFirstQuartile="ContentVideoFirstQuartile",p.Events.ContentVideoMidpoint="ContentVideoMidpoint",p.Events.ContentVideoThirdQuartile="ContentVideoThirdQuartile",p.Events.ContentVideoComplete="ContentVideoComplete",p.Events.ContentVideoEnded="ContentVideoEnded",p.Events.ContentClickThru="ContentClickThru",p.Events.Click="click",p.Events.ContentUserMinimize="ContentUserMinimize",p.Events.ContentUserClose="ContentUserClose",p.Events.ContentPaused="ContentPaused",p.Events.ContentPlaying="ContentPlaying",p.Events.ContentViewabilityChanged="viewabilityChanged",p.Events.ContentHLSError="contentHLSError",p.Events.ContentHLSRecoverTry="contentHLSRecoverTry",p.Events.LoadedMetadata="loadedmetadata",p.getExternalEvents=function(){var t=[];return t.push(p.Events.ContentVideoStart),t.push(p.Events.ContentVideoFirstQuartile),t.push(p.Events.ContentVideoMidpoint),t.push(p.Events.ContentVideoThirdQuartile),t.push(p.Events.ContentVideoComplete),t.push(p.Events.ContentPaused),t.push(p.Events.ContentPlaying),t},p.prototype.event=function(t,e){var i=new CustomEvent(t,{});i.data=e,this.dispatchEvent(i)},p.prototype.listeners=null,p.prototype.addEventListener=function(t,e){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(e)},p.prototype.removeEventListener=function(t,e){if(t in this.listeners)for(var i=this.listeners[t],n=0,o=i.length;n<o;n++)if(i[n]===e)return i.splice(n,1),this.removeEventListener(t,e)},p.prototype.dispatchEvent=function(t){if(t.type in this.listeners)for(var e=this.listeners[t.type],i=0,n=e.length;i<n;i++)e[i].call(this,t)}}(window);;(function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:n})},t.r=function(e){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&'object'==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,'default',{enumerable:!0,value:e}),2&i&&'string'!=typeof e)for(var o in e)t.d(n,o,function(t){return e[t]}.bind(null,o));return n},t.n=function(e){var i=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(i,'a',i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=148)})([function(e,t,i){'use strict';var n=Math.floor,o=Math.round;i.r(t),i.d(t,'arrays',function(){return y}),i.d(t,'cookies',function(){return x}),i.d(t,'device',function(){return k}),i.d(t,'browser',function(){return E}),i.d(t,'operationSystems',function(){return a}),i.d(t,'userAgent',function(){return S}),i.d(t,'thirdPartyLogin',function(){return r}),i.d(t,'ElementObserver',function(){return Y}),i.d(t,'elements',function(){return F.a}),i.d(t,'environment',function(){return f.a}),i.d(t,'guid',function(){return W.a}),i.d(t,'http',function(){return q}),i.d(t,'is',function(){return _.a}),i.d(t,'objects',function(){return c.a}),i.d(t,'playerUtil',function(){return K.a}),i.d(t,'Pubsub',function(){return j}),i.d(t,'realTimeCPM',function(){return s}),i.d(t,'ResizeObserver',function(){return ie}),i.d(t,'sampling',function(){return l}),i.d(t,'storage',function(){return oe}),i.d(t,'time',function(){return ae}),i.d(t,'urls',function(){return re}),i.d(t,'tracking',function(){return d}),i.d(t,'ViewabilityObserver',function(){return ue}),i.d(t,'strings',function(){return ge}),i.d(t,'colors',function(){return ye}),i.d(t,'Timer',function(){return fe}),i.d(t,'Logger',function(){return he.a}),i.d(t,'heartbeat',function(){return ve}),i.d(t,'elementsRatio',function(){return p}),i.d(t,'windowPostMessenger',function(){return Ee}),i.d(t,'jsParser',function(){return u});var a={};i.r(a),i.d(a,'isIos',function(){return I}),i.d(a,'isAndroid',function(){return A}),i.d(a,'isWindows',function(){return w}),i.d(a,'isOSX',function(){return O}),i.d(a,'isLinux',function(){return D}),i.d(a,'isChromeOS',function(){return L}),i.d(a,'getType',function(){return M});var r={};i.r(r),i.d(r,'getGoogleLoginStatus',function(){return R});var s={};i.r(s),i.d(s,'subtractFeesPerImpression',function(){return X}),i.d(s,'calculateCPMRevShare',function(){return Z}),i.d(s,'calculateCPMFixed',function(){return J}),i.d(s,'calculateRealTimeCPM',function(){return ee});var l={};i.r(l),i.d(l,'shouldSample',function(){return ne});var d={};i.r(d),i.d(d,'getWhiteOpsPixelSrc',function(){return se});var p={};i.r(p),i.d(p,'calculateHeightUponRatio',function(){return be}),i.d(p,'calculateItemCenter',function(){return xe}),i.d(p,'calculateRemainingWidthFromViewPort',function(){return ke});var u={};i.r(u),i.d(u,'parse',function(){return Se}),i.d(u,'invoke',function(){return Te});var _=i(8),c=i(25),g=function(e,t){return!_.a.array(e)||_.a.nullOrUndefined(t)?null:e.filter(function(e){return _.a.string(e)&&e===t||_.a.object(e)&&c.a.find(t,e)})[0]},y={find:g,includes:function(e,t){return _.a.array(e)&&!_.a.nullOrUndefined(t)&&(e.includes instanceof Function?e.includes(t):!!g(e,t))},clone:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];return _.a.array(e)?JSON.parse(JSON.stringify(e)):void 0},random:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];if(_.a.array(e)){if(!e.length)return[];for(var t=2===e.length?o:n,a=e.length-1;0<a;a--){var i=t(Math.random()*a),r=e[a];e[a]=e[i],e[i]=r}return e}}},m=i(33),f=i(23),h=function(e){var t=null,i=f.a.document().cookie.match(new RegExp(''.concat(e,'=([^;]+)')));return i&&i[1]&&(t=decodeURIComponent(i[1])),t},v=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:m.a.DEFAULT_COOKIE_MAX_AGE;f.a.document().cookie=''.concat(e,'=').concat(t,'; max-age=').concat(i,'; SameSite=None; Secure;')},b=function(){return Math.random().toString(36).substr(2,8)+Math.random().toString(36).substr(2,8)},x={get:h,set:v,remove:function(e){f.a.document().cookie=''.concat(e,'=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;')},getUserCookieId:function(){var e=h(m.a.ANONYMOUS_COOKIE_NAME);if(e)return e;var t=b();return v(m.a.ANONYMOUS_COOKIE_NAME,t,m.a.DEFAULT_COOKIE_MAX_AGE),t}},k=i(31),E=i(30),S=i(15),T=i(29),C=i(17),P=i(18),I=function(){return Object(P.a)(C.OS_RULES.IOS,Object(S.userAgent)())},A=function(){return Object(P.a)(C.OS_RULES.ANDROID,Object(S.userAgent)())},w=function(){return Object(P.a)(C.OS_RULES.WINDOWS,Object(S.userAgent)())},O=function(){return Object(P.a)(C.OS_RULES.OSX,Object(S.userAgent)())},D=function(){return Object(P.a)(C.OS_RULES.LINUX,Object(S.userAgent)())},L=function(){return Object(P.a)(C.OS_RULES.CHROME_OS,Object(S.userAgent)())},M=function(){var e;switch(!0){case A():e=T.a.ANDROID;break;case I():e=T.a.IOS;break;case w():e=T.a.WINDOWS;break;case O():e=T.a.OSX;break;case D():e=T.a.LINUX;break;case L():e=T.a.CHROME_OS;break;default:e=T.a.OTHER;}return e},R=function(){var e=new Promise(function(e){var t=document.createElement('img');t.referrerPolicy='no-referrer',t.src='https://accounts.google.com/ServiceLogin?passive=true&continue=https%3A%2F%2Fwww.google.com%2Ffavicon.ico&uilel=3&hl=en&service=mail',t.onload=function(){return e(!0)},t.onerror=function(){return e(!1)}});return e},N=i(2),U=i.n(N),B=i(3),V=i.n(B),z=function(){function e(t){U()(this,e),this._document=t,this._mutationObserver=null}return V()(e,[{key:'observe',value:function(e,t){var i=this._getTargetElement(t);i?e(i,this):(!this._mutationObserver&&(this._mutationObserver=new window.MutationObserver(this._mutationObserverCallback(e,t))),this._mutationObserver.observe(this._document.documentElement,{childList:!0,subtree:!0}))}},{key:'disconnect',value:function(){this._mutationObserver&&(this._mutationObserver.disconnect(),this._mutationObserver=null)}},{key:'_mutationObserverCallback',value:function(e,t){var i=this;return function(n){if(n.some(function(e){return'childList'===e.type})){var o=i._getTargetElement(t);o&&e(o,i)}}}},{key:'_getTargetElement',value:function(e){for(var t=0,i;t<e.length&&(i=this._document.querySelector(e[t]),!i);t++);return i}}]),e}(),Y=z,F=i(19),W=i(35),H=function(e,t,i,n){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,a=new window.XMLHttpRequest;return a.onerror=function(t){'function'==typeof n&&n(t)},a.onreadystatechange=function(){4===a.readyState&&(200===a.status?'function'==typeof i&&i(a.responseText):'function'==typeof n&&n(a.responseText))},a.open(e,t,!0),a.send(o),a},q={get:function(e,t,i){return H('GET',e,t,i)},post:function(e,t,i){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return H('POST',e,t,i,n)},httpRequest:H},K=i(42),G=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=t.onCallbackError,n=void 0===i?null:i;U()(this,e),this._onCallbackError=n,this._topics={}}return V()(e,[{key:'subscribe',value:function(e,t){var i=this;!_.a['function'](t)||_.a.empty(e)||(_.a.string(e)?this._pushTopic(e,t):_.a.array(e)&&e.forEach(function(n){i._pushTopic(n,t)}))}},{key:'publish',value:function(e,i){var t=this;_.a.empty(e)||_.a.empty(this._topics[e])||this._topics[e].forEach(function(n){if(!_.a.nullOrUndefined(n)&&!_.a.empty(n.callback))try{n.callback(i)}catch(i){_.a['function'](t._onCallbackError)&&t._onCallbackError({topic:e,error:i})}})}},{key:'_pushTopic',value:function(e,t){_.a.empty(this._topics[e])&&(this._topics[e]=[]),this._topics[e].push({callback:t})}}]),e}(),j=G,Q=i(37),X=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0;return 0<e?e-Q.FEES_PER_IMPRESSION:0},Z=function(e,t,i){return e&&t?e*t*i:0},J=function(e,t,i){return e?(e-t)*i:0},$=['cpm','rcpm','fasf'],ee=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length?arguments[2]:void 0,n;return n=$.includes(t.dT)?J(e,t.r,i):Z(e,t.r,i),+X(n).toFixed(Q.DECIMAL_PRECISION)},te=function(){function e(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:f.a.window();return U()(this,e),i&&i.ResizeObserver?new i.ResizeObserver(t):void(this._window=i,this._callback=t,this._observables=[],this._boundCheck=this._check.bind(this),this._boundCheck())}return V()(e,[{key:'observe',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!this._observables.some(function(t){return t.element===e})){var t=F.a.dimensions(e),i=t.height,n=t.width;this._observables.push({element:e,startSize:{height:i,width:n}})}}},{key:'unobserve',value:function(e){this._observables=this._observables.filter(function(t){return t.element!==e})}},{key:'disconnect',value:function(){this._observables=[]}},{key:'_check',value:function(){var t=this,e=this._observables.filter(function(i){return t._isChanged(i)}).map(function(i){return t._formatChangedEntryPayload(i)});0<e.length&&this._callback(e),this._window.requestAnimationFrame(this._boundCheck)}},{key:'_isChanged',value:function(e){var t=!1,i=F.a.dimensions(e.element),n=i.height,o=i.width;return(e.startSize.height!==n||e.startSize.width!==o)&&(e.startSize.height=n,e.startSize.width=o,t=!0),t}},{key:'_formatChangedEntryPayload',value:function(e){return e.element&&e.element.getBoundingClientRect instanceof Function?{target:e.element,contentRect:e.element.getBoundingClientRect()}:void 0}}]),e}(),ie=te,ne=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0;return!(0>e||100<e)&&100*Math.random()<e},oe=i(40),ae=i(36),re=i(28),se=function(e){var t=e.adSourceId,i=e.utmSource,o=e.pageLoadUid,a=e.host,r=e.isMobile,s={di:a,ui:o,pp:'0012000001fxZm9AAE',si:t,md:2,ti:n(1E20*Math.random()),de:r?2:4,c1:i,sr:'ex.co'};return Object(re.appendQueryParams)('https://s.admthop.com/2/193913/analytics.gif?dt=1939131609254688303000',Object(re.objectToQueries)(s))},le=i(47),de=function(){function e(t){var i=t.scrollElement,n=void 0===i?null:i,o=t.threshold,a=void 0===o?1e-5:o,r=t.rootMargin,s=void 0===r?'0px':r;U()(this,e),this._options={root:n,rootMargin:s,threshold:a},this._intersectionObserver=null}return V()(e,[{key:'observe',value:function(e,t,i){this._intersectionObserver||(this._intersectionObserver=new window.IntersectionObserver(this._intersectionObserverCallback(t,i),this._options)),this._intersectionObserver.observe(e)}},{key:'disconnect',value:function(){this._intersectionObserver&&(this._intersectionObserver.disconnect(),this._intersectionObserver=null)}},{key:'_intersectionObserverCallback',value:function(e,t){var i=this;return function(n){var o=i._getEntryState(n),a=o.state,r=o.entry;_.a['function'](t)&&'out'===a&&t(r,i),_.a['function'](e)&&'in'===a&&e(r,i)}}},{key:'_getEntryState',value:function(e){var t=[e.find(function(t){return t.isIntersecting}),e.find(function(t){return!t.isIntersecting})],i=t[0],n=t[1],o=i||n,a='';return o&&(a=o.intersectionRatio<this._options.threshold?'out':'in'),{entry:o,state:a}}}]),e}(),pe=function(){function e(t){var i=t.threshold,n=void 0===i?1e-5:i,o=t.timeoutMs,a=void 0===o?100:o;U()(this,e),this._options={threshold:n,timeoutMs:a},this._init()}return V()(e,[{key:'observe',value:function(e,t,i){this._scrollEventHandler||(this._scrollEventHandler=Object(le.a)(this._handleItems.bind(this),this._options.timeoutMs),window.addEventListener('scroll',this._scrollEventHandler)),('function'==typeof t||'function'==typeof i)&&this._items.push({inViewState:null,target:e,inViewCallback:t,outOfViewCallback:i}),this._handleItems(!0)}},{key:'disconnect',value:function(){this._init()}},{key:'_handleItems',value:function(){var e=this,t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],i=t?this._items.filter(function(e){var t=e.inViewState;return null===t}):this._items;i.forEach(function(t){var i=t.inViewState,n=t.target,o=t.inViewCallback,a=t.outOfViewCallback,r=e._isElementInViewport(n),s;(null===i||i!==r)&&(t.inViewState=r,s=r?o:a),'function'==typeof s&&s()})}},{key:'_isElementInViewport',value:function(e){var t=e.getBoundingClientRect(),i=t.top,n=t.left,o=t.width,a=t.height,r=(1-this._options.threshold)*o,s=(1-this._options.threshold)*a,l=window.innerHeight||document.documentElement.clientHeight,d=window.innerWidth||document.documentElement.clientWidth;return i>=-s&&n>=-r&&l-i>=s&&d-n>=r}},{key:'_init',value:function(){this._scrollEventHandler&&(window.removeEventListener('scroll',this._scrollEventHandler),this._scrollEventHandler=null),this._scrollEventHandler=null,this._items=[]}}]),e}(),ue=de,_e={regExp:/\[([^\]]+)\]/g,getValue:function(e,t){return e[t]||''},getFallback:function(){return''}},ce=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:function(e){return e},n=i(_e),o=n.regExp,a=n.getValue,r=n.getFallback;return e.replace(o,function(e,i){return(i in t?a:r)(t,i,e)})},ge={toCamelCase:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:'';return e.replace(/([-_][a-z])/ig,function(e){return e.toUpperCase().replace('-','').replace('_','')})},toUnderscore:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:'';return e.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map(function(e){return e.toLowerCase()}).join('_')},toKebabCase:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:'';return e.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map(function(e){return e.toLowerCase()}).join('-')},interpolate:ce,interpolateFactory:function(e){var t=e(_e),i=function(){return t};return function(e,t){return ce(e,t,i)}}},ye=i(43),me=function(){function e(){U()(this,e),this._startTime=null,this._timeLeft=null,this._state='initial',this._type=null,this._debugger=null,this._debuggerFn=null}return V()(e,[{key:'state',get:function(){return this._state}},{key:'interval',value:function(e,t,i){this._clear(),this._fn=e,this._startTime=+new Date,this._delay=t,this._timer=setInterval(e,t),this._state='working',this._type='interval',(i||this._debuggerFn)&&(this._debuggerFn=i||this._debuggerFn,this._startDebugger(t))}},{key:'isWorking',value:function(){return'working'===this._state||'resumed'===this._state}},{key:'timeout',value:function(e,t,i){var n=this;this._clear(),this._fn=e,this._startTime=+new Date,this._delay=t,this._timer=setTimeout(function(){n._done='done',e()},t),this._state='working',this._type='timeout',(i||this._debuggerFn)&&(this._debuggerFn=i||this._debuggerFn,this._startDebugger(t))}},{key:'fadeOut',value:function(e,t,i){var n=this,o=i.stopFn,a=i.finishFn;this.interval(function(){o&&o()?(n.stop(),a()):e()},t)}},{key:'pause',value:function(){this.isWorking()&&(this._clear(),this._state='paused',this._timeLeft=this._delay-(new Date-this._startTime))}},{key:'resume',value:function(){'paused'===this._state&&(this._state='resumed','interval'===this._type?this.interval(this._fn,this._delay):0<this._timeLeft&&this.timeout(this._fn,this._timeLeft))}},{key:'stop',value:function(){this._clear(),this._state='stopped'}},{key:'makeInstant',value:function(){this._timeLeft=500}},{key:'_clear',value:function(){clearInterval(this._timer),clearTimeout(this._timer),clearInterval(this._debugger),this._timer=null,this._debugger=null}},{key:'_startDebugger',value:function(e){var t=this;this._debug(e,this._debuggerFn),this._debugger=setInterval(function(){return t._debug(e,t._debuggerFn)},1e3)}},{key:'_debug',value:function(e,t){var i=new Date-this._startTime,n=Math.ceil((e-i)/1e3);t(n),0>=n&&this._clear()}}]),e}(),fe=me,he=i(59),ve={init:function(e){var t=e.interval,i=e.timeout,n=e.callback,o=setInterval(n,t);setTimeout(function(){return clearInterval(o)},i)}},be=function(e,t){return o(e/t)},xe=function(e,t){return(e-t)/2},ke=function(e){var t=f.a.getViewPortWidth();return''.concat(t-e,'px')},Ee=i(44),Se=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:'',t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;try{return Function('return '.concat(e))()}catch(i){return _.a['function'](t)&&t(i),null}},Te=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=Se(e,t);if(_.a['function'](i)){for(var n=arguments.length,o=Array(2<n?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return i.apply(void 0,o)}return _.a['function'](t)&&t('Given JS string is not a function'),null}},function(e,t,i){e.exports=i(149)},function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')},e.exports.__esModule=!0,e.exports['default']=e.exports},function(e){function t(e,t){for(var n=0,i;n<t.length;n++)i=t[n],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}e.exports=function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),Object.defineProperty(e,'prototype',{writable:!1}),e},e.exports.__esModule=!0,e.exports['default']=e.exports},function(e){function t(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}e.exports=t,e.exports.__esModule=!0,e.exports['default']=e.exports},function(e,t,i){'use strict';i.r(t),i.d(t,'BROWSERS',function(){return n.a}),i.d(t,'COOKIES',function(){return o.a}),i.d(t,'DATA_EVENTS',function(){return a}),i.d(t,'DEVICE_TYPES',function(){return r.a}),i.d(t,'OS_TYPES',function(){return s.a}),i.d(t,'PLACEMENT_PLAYER_LOCATION',function(){return d}),i.d(t,'PLAYBACK',function(){return l}),i.d(t,'REAL_TIME_CPM',function(){return p}),i.d(t,'SERVER_ROUTES',function(){return u.a}),i.d(t,'USER_AGENTS_BOTS',function(){return _}),i.d(t,'USER_AGENT_RULES',function(){return c}),i.d(t,'reporting',function(){return g}),i.d(t,'INTEGRATION_TYPE',function(){return m.a}),i.d(t,'STICKY',function(){return y}),i.d(t,'COLOR_PALETTE',function(){return f});var n=i(21),o=i(33),a=i(26),r=i(27),s=i(29),l={MODE:{AUTO_PLAY:'auto-play',PLAY_IN_VIEW_PAUSE_OUT_OF_VIEW:'play-in-view-pause',CLICK_TO_PLAY:'click-to-play',AUTO_PLAY_IN_VIEW:'auto-play-in-view'},ACTION:{IMAGE_VIDEO:'image-video',CLICK_TO_PLAY:'click-to-play'}},d={BEFORE:'before',AFTER:'after',FIRST_CHILD:'first-child',LAST_CHILD:'last-child'},p=i(37),u=i(38),_={GOOGLE:['Googlebot','AdsBot-Google','Feedfetcher-Google','APIs-Google','Mediapartners-Google','AdsBot-Google-Mobile','Googlebot-Image','Google-Read-Aloud','DuplexWeb-Google','Google Favicon','googleweblight'],FACEBOOK:['facebookexternalhit'],APPLE:['Applebot']},c=i(17),g=i(34),y={PIXELS:'pixels',PERCENTAGE:'percentage',POSITION:{TOP_LEFT:'top-left',TOP_RIGHT:'top-right',BOTTOM_RIGHT:'bottom-right',BOTTOM_LEFT:'bottom-left',UPPER_LARGE:'upper-large',UPPER_SMALL:'upper-small',UPPER_NATIVE:'upper-native',BOTTOM_LARGE:'bottom-large',BOTTOM_SMALL:'bottom-small',BOTTOM_NATIVE:'bottom-native',INSIDE_ELEMENT:'inside-element'},FULLWIDTH_PERCENTAGE_SIZE:80,FULLWIDTH_PIXEL_SIZE_SMALL:178,FULLWIDTH_PIXEL_SIZE_LARGE:256,ZINDEX:9999999999,MODES:{PERSISTENT:'persistent',NONE_PERSISTENT_IN_VIEW:'non-persistent-in-view',NONE_PERSISTENT_PER_SESSION:'non-persistent-per-session',STICKY_ONLY:'sticky-only',ADS_ONLY:'ads-only',ADS_ONLY_PERSISTENT:'ads-only-persistent'},TRANSIONS:{FADE_IN:'fade-in',NONE:'regular'},PLAYER_BEHAVIOR_ON_CLOSE:{CONTINUE:'continue-on-close',PAUSE:'pause-on-close'},STICKY_CLOSE_STORAGE_KEY:'pbs_sticky-close-persist',ADS_ONLY_MODE:{VIDEO_AD_TYPE:'video',OTHER_AD_TYPE:'other',ALL_AD_TYPES:'all'},MINIMUM_WIDTH_SIZE:256,MINIMUM_WIDTH_SIZE_V2:213},m=i(41),f={PRIMARY:'primary',SECONDARY:'secondary',DEFAULT:'#000'}},function(e){function t(i){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports['default']=e.exports,t(i)}e.exports=t,e.exports.__esModule=!0,e.exports['default']=e.exports},function(e,t,i){e.exports=i(56)},function(e,t,i){'use strict';var n=i(27),o=function(e){return null!==e&&'undefined'!=typeof e?e.constructor:null},a=function(e,t){return!!(e&&t&&e instanceof t)},r=function(e){return null===e||'undefined'==typeof e},s=function(e){return Array.isArray(e)},l=function(e){return o(e)===Object},d=function(e){return o(e)===window.NodeList},p=function(e){return o(e)===String};t.a={nullOrUndefined:r,enable:function(e,t){return r(e)||!e.enabled?{onDevice:!1,onSticky:!1}:t===n.a.MOBILE||t===n.a.TABLET?{onDevice:e.mobile.enabled,onSticky:e.mobile.sticky}:t===n.a.DESKTOP?{onDevice:e.desktop.enabled,onSticky:e.desktop.sticky}:{onDevice:!1,onSticky:!1}},element:function(e){return a(e,window.Element)},object:l,string:p,boolean:function(e){return o(e)===Boolean},array:s,equal:function(e,t){return p(e)&&p(t)?e.toLowerCase()===t.toLowerCase():e===t},function:function(e){return a(e,Function)||'function'==typeof e},nodeList:d,empty:function(e){return!!r(e)||!!((p(e)||s(e)||d(e))&&0===e.length)||!!(l(e)&&0===Object.keys(e).length)},inRange:function(e,t,i){return t<=e&&e<=i}}},function(e,t,i){var n=i(110);e.exports=function(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function');e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,'prototype',{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports['default']=e.exports},function(e,t,i){var n=i(39)['default'],o=i(16);e.exports=function(e,t){if(t&&('object'===n(t)||'function'==typeof t))return t;if(void 0!==t)throw new TypeError('Derived constructors may only return object or undefined');return o(e)},e.exports.__esModule=!0,e.exports['default']=e.exports},function(e){function t(e,t,i,n,o,a,r){try{var s=e[a](r),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(n,o)}e.exports=function(e){return function(){var i=this,n=arguments;return new Promise(function(o,a){function r(e){t(l,o,a,r,s,'next',e)}function s(e){t(l,o,a,r,s,'throw',e)}var l=e.apply(i,n);r(void 0)})}},e.exports.__esModule=!0,e.exports['default']=e.exports},function(e,t,i){'use strict';function n(e){for(var t=-1,n=0;n<_.length;n++)if(_[n].identifier===e){t=n;break}return t}function o(e,t){for(var o={},a=[],r=0;r<e.length;r++){var i=e[r],s=t.base?i[0]+t.base:i[0],l=o[s]||0,p=''.concat(s,' ').concat(l);o[s]=l+1;var u=n(p),c={css:i[1],media:i[2],sourceMap:i[3]};-1===u?_.push({identifier:p,updater:d(c,t),references:1}):(_[u].references++,_[u].updater(c)),a.push(p)}return a}function a(e){var t=document.createElement('style'),n=e.attributes||{};if('undefined'==typeof n.nonce){var o=i.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])}),'function'==typeof e.insert)e.insert(t);else{var a=u(e.insert||'head');if(!a)throw new Error('Couldn\'t find a style target. This probably means that the value for the \'insert\' parameter is invalid.');a.appendChild(t)}return t}function r(e){return null!==e.parentNode&&void e.parentNode.removeChild(e)}function s(e,t,i,n){var o=i?'':n.media?'@media '.concat(n.media,' {').concat(n.css,'}'):n.css;if(e.styleSheet)e.styleSheet.cssText=c(t,o);else{var a=document.createTextNode(o),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(a,r[t]):e.appendChild(a)}}function l(e,t,i){var n=i.css,o=i.media,a=i.sourceMap;if(o?e.setAttribute('media',o):e.removeAttribute('media'),a&&'undefined'!=typeof btoa&&(n+='\n/*# sourceMappingURL=data:application/json;base64,'.concat(btoa(unescape(encodeURIComponent(JSON.stringify(a)))),' */')),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t){var i,n,o;if(t.singleton){var d=y++;i=g||(g=a(t)),n=s.bind(null,i,d,!1),o=s.bind(null,i,d,!0)}else i=a(t),n=l.bind(null,i,t),o=function(){r(i)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}var p=function(){var e;return function(){return'undefined'==typeof e&&(e=!!(window&&document&&document.all&&!window.atob)),e}}(),u=function(){var e={};return function(t){if('undefined'==typeof e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),_=[],c=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join('\n')}}(),g=null,y=0;e.exports=function(e,t){t=t||{},t.singleton||'boolean'==typeof t.singleton||(t.singleton=p()),e=e||[];var a=o(e,t);return function(e){if(e=e||[],'[object Array]'===Object.prototype.toString.call(e)){for(var r=0;r<a.length;r++){var i=a[r],s=n(i);_[s].references--}for(var l=o(e,t),d=0;d<a.length;d++){var p=a[d],u=n(p);0===_[u].references&&(_[u].updater(),_.splice(u,1))}a=l}}}},function(e){'use strict';function t(e,t){var n=e[1]||'',o=e[3];if(!o)return n;if(t&&'function'==typeof btoa){var a=i(o),r=o.sources.map(function(e){return'/*# sourceURL='.concat(o.sourceRoot||'').concat(e,' */')});return[n].concat(r).concat([a]).join('\n')}return[n].join('\n')}function i(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),i='sourceMappingURL=data:application/json;charset=utf-8;base64,'.concat(t);return'/*# '.concat(i,' */')}e.exports=function(e){var i=[];return i.toString=function(){return this.map(function(i){var n=t(i,e);return i[2]?'@media '.concat(i[2],' {').concat(n,'}'):n}).join('')},i.i=function(e,t,n){'string'==typeof e&&(e=[[null,e,'']]);var o={};if(n)for(var a=0,r;a<this.length;a++)r=this[a][0],null!=r&&(o[r]=!0);for(var s=0,l;s<e.length;s++)(l=[].concat(e[s]),!(n&&o[l[0]]))&&(t&&(l[2]?l[2]=''.concat(t,' and ').concat(l[2]):l[2]=t),i.push(l))},i}},function(e,t,i){'use strict';i.d(t,'a',function(){return a}),i.d(t,'c',function(){return r}),i.d(t,'d',function(){return s}),i.d(t,'b',function(){return l});var n=i(0),o=n.is,a={INCLUDE:'include',EXCLUDE:'exclude',ALL:'all'},r=function(e){var t=e&&e.operator===a.ALL,i=e&&e.values&&!e.values.length;return!e||!e.operator||t||i},s=function(e,t,i){var n=!0;if(!o.nullOrUndefined(t)&&o['function'](i)){var r=t.operator,s=t.values;n=i(s,e)?r===a.INCLUDE:r===a.EXCLUDE}return n},l=function(e,t){return!o.array(e)||e.some(function(e){return t.toLowerCase().includes(e.toLowerCase())})}},function(e,t,i){'use strict';i.r(t),i.d(t,'userAgent',function(){return o}),i.d(t,'setUserAgent',function(){return a});var n=i(23),o=function(){if(r)return r;var e=n.a.window(),t=e.navigator;return r=t.userAgent,r},a=function(e){r=e},r},function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return e},e.exports.__esModule=!0,e.exports['default']=e.exports},function(e,t,i){'use strict';i.r(t),i.d(t,'BROWSER_RULES',function(){return n}),i.d(t,'DEVICE_RULES',function(){return o}),i.d(t,'OS_RULES',function(){return a});var n={SAFARI:/Version\/[\d.](?!.*EdgiOS)+.*Safari/i,OPERA_1:/OPR\/([0-9\.]+)(:?\s|$)/i,OPERA_2:/Opera\/([0-9\.]+)(?:\s|$)/i,OPERA_MINI:/Opera Mini.*Version\/([0-9\.]+)/i,FIREFOX:/Firefox\/([0-9\.]+)(?:\s|$)/i,FIREFOX_FOCUS:/FxiOS\/([0-9\.]+)/i,IE_1:/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/i,IE_2:/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/i,IE_3:/MSIE\s(7\.0)/,CHROME_IOS:/CriOS\/([0-9\.]+)(:?\s|$)/i,CHROMEIUM:/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/i,YANDEX:/YaBrowser\/([0-9\._]+)/,ANDROID_WV:/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/i,IOS_WV_1:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i,IOS_WV_2:/AppleWebKit\/([0-9\.]+).*Gecko\)$/i,GOOGLE_SEARCH_APPLICATION:/GSA\/([0-9\.]+)/i,EDGE:/Edge\/([0-9\._]+)/i,EDGE_IOS:/EdgiOS\/([0-9\._]+)/i,EDGE_CHROMIUM:/EdgA?\/([0-9\.]+)/i},o={TABLET:/(ipad|tablet|(android(?!.*(mobi|mobile)))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/i,MOBILE_1:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,MOBILE_2:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i},a={IOS:/iP(hone|od|ad)/,ANDROID:/Android/,WINDOWS:/Windows/,OSX:/(Mac_PowerPC)|(Macintosh)/,LINUX:/Linux/,CHROME_OS:/CrOS/}},function(e,t,i){'use strict';i.d(t,'a',function(){return n});var n=function(e,t){return e.test(t)}},function(e,t,i){'use strict';function n(e,t){var i=this,n=e.ownerDocument||((e||{}).documentElement||{}).parentNode;if(!!e&&e!==n){var o=window.Element.prototype,a=function(e){return-1!==[].indexOf.call(document.querySelectorAll(e),i)},r=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||a;return r.call(e,t)}return!1}var o=i(24),a=i.n(o),r=i(8),s=i(25),l=i(23),d=function e(t,i){var o=t;return r.a.element(t)&&!n(t,i)&&(o=e(t.parentNode,i)),o},p=function(){try{return window.self!==window.top}catch(t){return!0}},u=function(e){return p()&&window.frameElement?window.frameElement.parentElement:e.parentElement},_=function(e,t){!r.a.object(t)||r.a.empty(t)||s.a.entries(t).filter(function(e){var t=a()(e,2),i=t[1];return!r.a.nullOrUndefined(i)}).forEach(function(t){var i=a()(t,2),n=i[0],o=i[1];return e.setAttribute(n,o)})},c=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null,t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;e&&r.a.string(t)&&(e.innerHTML=t)},g=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null,t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;e&&r.a.string(t)&&('STYLE'===e.tagName?e.appendChild(document.createTextNode(t)):e.innerText=t)},y=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,o=document.createElement(e);return _(o,t),g(o,i),c(o,n),o},m=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length?arguments[1]:void 0,i=2<arguments.length?arguments[2]:void 0,n=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0,a=y(t,i,n,o);return e&&a&&e.appendChild(a),a},f=function(e,t){return r.a.element(e)&&r.a.string(t)?e.getAttribute(t):void 0},h=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null,t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;e&&r.a.string(t)&&e.classList.add(t)},v=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null,t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;e&&t&&e.appendChild(t)},b=function(e,t){if(r.a.object(t)&&!r.a.empty(t))return s.a.entries(t).filter(function(e){var t=a()(e,2),i=t[1];return!r.a.nullOrUndefined(i)}).forEach(function(t){var i=a()(t,2),n=i[0],o=i[1];e.style[n]=o}),e};t.a={inDfp:function(e){var t=u(e),i=d(t,'[id*=\'google_ads_iframe\'],[name*=\'google_ads_iframe\'],.adunit');return'undefined'!=typeof i},inIframe:p,parent:u,sibling:function(e,t){var i=e.parentElement;return r.a.empty(i)?null:i.querySelector(t)},insert:m,create:y,getAttribute:f,setAttributes:_,getElementId:function(e){return f(e,'id')},getElement:function(e){return document.querySelector(e)},getElementById:function(e){return document.getElementById(e)},getElementsByXPath:function(e,t){for(var n=[],o=t.evaluate(e,t,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),a=0,i=o.snapshotLength;a<i;++a)n.push(o.snapshotItem(a));return n},onresize:function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:20;if(r.a['function'](t)&&r.a.element(e)){var n=e.offsetWidth,o=e.offsetHeight;return setInterval(function(){var i=e.offsetWidth,a=e.offsetHeight;(i!==n||a!==o)&&(n=i,o=a,t({width:n,height:o,element:e}))},i)}},addClass:h,removeClass:function(e,t){e.classList.remove(t)},toggleClass:function(e,t){e.classList.toggle(t)},insertStyleSheet:function(e,t){var i=m(e,'style',{type:'text/css',class:'pbs-style'},t);return i},dimensions:function(e){var t={};if(r.a.element(e)){var i=e.getBoundingClientRect();t.width=i.width,t.height=i.height}return t},remove:function(e){return e.parentNode&&e.parentNode.removeChild(e),e},insertBeforeSibling:function(e,t){e.parentElement.insertBefore(t,e)},insertNextSibling:function(e,t){e.parentElement.insertBefore(t,e.nextSibling)},insertFirstChild:function(e,t){e.insertBefore(t,e.firstChild)},appendChild:v,getGlobalFunctionFromAttribute:function(e,t){var i=f(e,t);return l.a.isGlobalFunction(i)?window[i]||l.a.window()[i]:void 0},fireImgElementEvent:function(e){new Image().src=e},setStyle:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};s.a.entries(t).forEach(function(t){var i=a()(t,2),n=i[0],o=i[1];e.style[n]=o})},setStyles:b,getAttributeAsJson:function(e,t,i){var n={},o=f(e,t);if(r.a.string(o))try{n=JSON.parse(o)}catch(t){r.a['function'](i)&&i(t)}return n},hasStyle:function(e,t){if(!r.a.object(t)||r.a.empty(t))return!1;var i=Object.keys(t),n=a()(i,1),o=n[0],s=Object.values(t),l=a()(s,1),d=l[0];return e.style[o]===d},createSVG:function(e){var t=e.type,i=void 0===t?'svg':t,n=e.attributes,o=void 0===n?null:n,a=e.text,r=void 0===a?null:a,s=e.html,l=void 0===s?null:s,d=e.styles,p=void 0===d?null:d,u=e.className,y=void 0===u?null:u,m=e.parent,f=void 0===m?null:m,x=document.createElementNS('http://www.w3.org/2000/svg',i);return _(x,o),g(x,r),c(x,l),b(x,p),h(x,y),v(f,x),x},removeElementStyles:function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];t.forEach(function(t){return e.style.removeProperty(t)})}}},function(e,t,i){var n=i(103),o=i(104),a=i(57),r=i(105);e.exports=function(e){return n(e)||o(e)||a(e)||r()},e.exports.__esModule=!0,e.exports['default']=e.exports},function(e,t){'use strict';t.a={CHROME:'chrome',ANDROID_WV:'android-webview',GOOGLE_SEARCH_APPLICATION:'google-search-application',FIREFOX:'firefox',IE:'ie',SAFARI:'safari',IOS_WV:'ios-webview',EDGE:'edge',OPERA:'opera',YANDEX:'yandex',OTHER:'other',UNKNOWN:'unknown'}},function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1,i;t<arguments.length;t++)for(var n in i=arguments[t],i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);return e},e.exports.__esModule=!0,e.exports['default']=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports['default']=e.exports},function(e,t,i){'use strict';var n=Math.max,o=i(8),a=i(35),r=i(28),s=i(36),l=i(38),d=i(41),p=function(){for(var e=window;e.frameElement;)e=e.parent;return e},u=function(){var e=p();return e.__EXCO=e.__EXCO||{},e.__EXCO},_=function(){return u().REFERRER||null},c=function(){return p().__EXCO_INTEGRATION_TYPE===d.a.AMP},g=function(){var e=document.createElement('a'),t=window.document.referrer;return e.href=t.includes('cdn.ampproject.org')?function(e){var t=/(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9].*/g,i=r.path(e),n=i.match(t);return 0<n.length?'https://'.concat(n[0]).concat(r.queries(e)):e}(t):t,e},y=function(){var e=_();return e?new URL(e):c()?g():p().location},m=function(){return document},f=function(){return p().performance.now()};t.a={url:function(){var e=y();return e.href},host:function(){var e=y();return e.host},referrer:function(){var e=_(),t=p();return e||t.document.referrer},param:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:'',t=y();return r.getParam(t,e)},window:p,location:y,isAmp:c,getPageLoadUid:function(){var e=p(),t=e.plbzPid||e.pbPageIdentifier;return t||(t=a.a.generate(),e.pbPageIdentifier=t),t},document:m,isDataSaverOn:function(){var e=p();return!o.a.nullOrUndefined(e.navigator.connection)&&e.navigator.connection.saveData},redirect:function(e){p().open(e,'_blank ')},isGlobalFunction:function(e){return o.a['function'](p()[e])||o.a['function'](window[e])},downloadScript:function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(i,n){var o=m(),a=o.getElementsByTagName('head')[0],r=o.createElement('script');r.src=e,r.onload=function(){return i()},r.onerror=function(t){return n(t)};var s=t.async,l=t.defer;s&&(r.async=!0),l&&(r.defer=!0),a.appendChild(r)})},getIntegrationType:function(){return p().__EXCO_INTEGRATION_TYPE},timePassedFromPageLoad:f,getDeltaTime:function(){return Object(s.millisecondsToSeconds)(f(),2).toString()},addPreconnectLink:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:'',t=m(),i=t.getElementsByTagName('head')[0],n=t.createElement('link');n.rel='preconnect',n.href=e,i.appendChild(n)},getEXCONamespace:u,setReferrerOverride:function(e){u().REFERRER=e},getReferrerOverride:_,getViewPortWidth:function(){return n(m().documentElement.clientWidth,window.innerWidth||0)},getViewPortHeight:function(){return n(m().documentElement.clientHeight,window.innerHeight||0)},getEnvPrefix:function(){var e=(window.STREAM_CONFIGS||u()).ENV||'production';return'staging'===e?'stg-':'development'===e?'dev-':''},useCDNinsteadOfS3:function(e){return e.replace(l.a.S3,l.a.CDN)},getHistoryLength:function(){return p().history.length},getCookiesLength:function(){var e=p().document.cookie,t=e?e.split(';').length:0;return'number'==typeof t?t:0},isTabVisible:function(){return'visible'===m().visibilityState}}},function(e,t,i){var n=i(98),o=i(99),a=i(57),r=i(100);e.exports=function(e,t){return n(e)||o(e,t)||a(e,t)||r()},e.exports.__esModule=!0,e.exports['default']=e.exports},function(e,t,i){'use strict';var n=i(60),o=i.n(n),a=i(8),r=function(e){var t;if(!Object.values){var i=Object.keys(e);t=Array(i.length);for(var n=0,o=0,a=i,r;o<a.length;o++)r=a[o],t[n++]=e[r]}else t=Object.values(e);return t},s=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:function(e,t){return e[t]};return Object.keys(e).reduce(function(n,o){var a=i(t,o);if('undefined'!=typeof a){var r=e[o];n[r]=a}return n},{})},l=function(e,t){return a.a.nullOrUndefined(e[t])?void 0:e[t]};t.a={clone:function(e){return a.a.object(e)?JSON.parse(JSON.stringify(e)):{}},find:function e(t,i){var n=null;if(!a.a.object(i)||a.a.nullOrUndefined(t))return n;var o=r(i),s=o.some(function(e){return a.a.string(e)&&e===t});return n=s?i:o.find(function(i){return!!e(t,i)}),n},entries:function(e){if(!Object.entries){for(var t=Object.keys(e),n=t.length,i=Array(n);n--;)i[n]=[t[n],e[t[n]]];return i}return Object.entries(e)},values:r,merge:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i={};return t.useSourceArray&&(i.arrayMerge=function(e,i,n){return t.useSourceArray(e,i,n)?i:e.concat(i).map(function(e){return n.cloneUnlessOtherwiseSpecified(e,n)})}),n.all(e,i)},compare:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!==e&&t!==t},reduceToObject:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],t=1<arguments.length?arguments[1]:void 0;return e.reduce(function(e,i){return e[i]=t,e},{})},mapData:s,mapExistingData:function(e,t){return s(e,t,l)}}},function(e,t,i){'use strict';i.r(t),i.d(t,'DATA_EVENTS_NAMES',function(){return n}),i.d(t,'DATA_EVENTS_ATTRIBUTES',function(){return o}),i.d(t,'AD_SOURCE_OWNERS',function(){return a});var n={END_POINTS:{ANONYMOUS:'https://prd-collector-anon.ex.co/main/events'},MCD_SDK_RENDERER_LOAD:'mcd_sdk_renderer_load',SDK_LOADED:'mcd_sdk_loaded',PAGE_VIEW:'mcd_page_view',OPPORTUNITY:'mcd_opportunity',PLAYER_LOAD:'mcd_player_load',PUBLISHER_DEMAND_SESSION:'mcd_publisher_demand_session',VIEWABLE_PLAYER_LOAD:'mcd_viewable_player_load',AD_BLOCKER_DETECTED:'mcd_player_adblock_detected',STICKY_CLOSE_BUTTON_CLICKED:'mcd_player_close_sticky',AUTOPLAY_BLOCKED:'mcd_autoplay_blocked',PLAYER_BLOCKED:'mcd_sdk_player_blocked',AD:{IMPRESSION:'mcd_player_ad_impression',SKIPPED:'mcd_player_ad_skipped',EXTERNAL_IMPRESSION_CALLBACK:'mcd_impression_callback'},CONTENT:{LOAD_TIMEOUT:'mcd_video_load_timeout',START:'mcd_item_start',COMPLETE:'mcd_item_complete',PREVIOUS_BUTTON_CLICKED:'mcd_player_previous_item',MUTE_BUTTON_CLICKED:'mcd_player_muted',UNMUTE_BUTTON_CLICKED:'mcd_player_unmute',NEXT_BUTTON_CLICKED:'mcd_player_next_item',PLAY_BUTTON_CLICKED:'mcd_player_play',PAUSE_BUTTON_CLICKED:'mcd_player_pause',CTA_CLICK:'mcd_player_cta_click',CONTENT_PROGRESS:'mcd_content_progress',PLAYER_START:'mcd_player_start'},STICKY_TRIGGERED:'mcd_sticky_triggered',STATIC_PLAYER_OUT_OF_VIEW_FIRST_TIME:'mcd_static_out_of_view_first_time',PAGE_LEAVE:'mcd_page_leave',MCD_AD_REQUEST:'mcd_ad_request',MCD_IIQ_APPLIES:'mcd_iiq_applies',MCD_IIQ_EXECUTE:'mcd_iiq_execute'},o={DIMENSIONS_PARAMS_MAPPING:{utm_medium:'utm_medium',utm_campaign:'utm_campaign',utm_content:'utm_content',utm_source:'utm_source',utm_term:'utm_term',country:'country',device:'device',version:'version',subId:'sub_id'},IMPRESSION_EVENT_ATTRIBUTES:{CPM:'cpm',AD_SOURCE_OWNER:'ad_source_owner',AD_SOURCE_TYPE:'ad_source_type',AD_SOURCE_ID:'ad_source_id',VIDEO_SOURCE_URL:'video_source_url',VOLUME:'volume',DURATION:'duration'}},a={PUBLISHER:'publisher',NETWORK:'network'}},function(e,t){'use strict';t.a={MOBILE:'mobile',TABLET:'tablet',DESKTOP:'desktop'}},function(e,t,i){'use strict';function n(e,t){var n='undefined'!=typeof Symbol&&e[Symbol.iterator]||e['@@iterator'];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&'number'==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError('Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}var r=!0,s=!1,l;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,l=e},f:function(){try{r||null==n['return']||n['return']()}finally{if(s)throw l}}}}function a(e,t){if(e){if('string'==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return'Object'===i&&e.constructor&&(i=e.constructor.name),'Map'===i||'Set'===i?Array.from(e):'Arguments'===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}i.r(t),i.d(t,'objectToQueries',function(){return c}),i.d(t,'queriesToObject',function(){return g}),i.d(t,'path',function(){return y}),i.d(t,'appendQueryParams',function(){return u}),i.d(t,'getURLWithoutQueries',function(){return m}),i.d(t,'replaceQueryParams',function(){return f}),i.d(t,'mergeQueries',function(){return h}),i.d(t,'getParam',function(){return b}),i.d(t,'getQueriesAsStringArray',function(){return x}),i.d(t,'getURLWithoutProtocol',function(){return k}),i.d(t,'removeTrailingSlash',function(){return E}),i.d(t,'createQueryParamsByMappingKey',function(){return S}),i.d(t,'origin',function(){return T}),i.d(t,'hostname',function(){return C}),i.d(t,'queries',function(){return P});var o=i(24),s=i.n(o),l=i(39),d=i.n(l),p=i(8),_=i(25),c=function(e){var t=Object.keys(e),i=t.reduce(function(t,i){var n=e[i];return p.a.nullOrUndefined(n)||''===n?t.push(''.concat(encodeURIComponent(i))):'object'===d()(n)?t.push(''.concat(encodeURIComponent(i),'=').concat(encodeURIComponent(JSON.stringify(n)))):t.push(''.concat(encodeURIComponent(i),'=').concat(encodeURIComponent(n))),t},[]);return i.join('&')},g=function(e){var t=new URLSearchParams(e),i={},o=n(t.keys()),a;try{for(o.s();!(a=o.n()).done;){var r=a.value;i[r]=1<t.getAll(r).length?t.getAll(r):t.get(r),i[r].includes(',')&&(i[r]=i[r].split(',')),r.includes('[]')&&(i[r.replace('[]','')]=i[r],delete i[r])}}catch(e){o.e(e)}finally{o.f()}return Object.keys(i).forEach(function(e){return decodeURIComponent(i[e])}),i},y=function(e){var t=new URL(e);return 1<t.pathname.length?t.pathname:''},u=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:'',t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'',i=new URL(e);if(p.a.object(t))_.a.entries(t).forEach(function(e){var t=s()(e,2),n=t[0],o=t[1];i.searchParams.append(n,p.a.nullOrUndefined(o)?'':o)});else{var n=new URLSearchParams(t);n.forEach(function(e,t){return i.searchParams.append(t,e)})}return''.concat(i.origin).concat(y(i)).concat(i.search)},m=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:'',t=new URL(e);return''.concat(t.origin).concat(y(t))},f=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:'',t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'',i=m(e);return u(i,t)},h=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],n=new URL(e),o=g(n.searchParams),a=_.a.merge([o,t]);return i.forEach(function(e){return delete a[e]}),''.concat(n.origin,'?').concat(c(a))},v=function(e){return e?e.replace(/([ =])/g,'-'):''},b=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',i='';return window.URL&&(i=v(new window.URL(e).searchParams.get(t))),i},x=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=[],i=new URL(e),n=i.searchParams;return n.forEach(function(e,i){return t.push(''.concat(i,'=').concat(e))}),t},k=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:'',t=e;if(e.includes('http')){var i=new URL(e);t=''.concat(i.hostname).concat(y(i)).concat(i.search)}return t},E=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=e;return'/'===e[e.length-1]&&(t=e.substring(0,e.length-1)),t},S=function(e,t){var i=(e||[]).reduce(function(e,i){var n=encodeURI(b(t,i.name));return n&&e.push(''.concat(i.mappingName,'=').concat(n)),e},[]);return i.join('&')},T=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:'';return new URL(e).origin},C=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:'';return new URL(e).hostname},P=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:'';return new URL(e).search}},function(e,t){'use strict';t.a={ANDROID:'android',IOS:'ios',WINDOWS:'windows',OSX:'osx',LINUX:'linux',CHROME_OS:'chrome-os',OTHER:'other'}},function(e,t,i){'use strict';i.r(t),i.d(t,'getUserAgent',function(){return d}),i.d(t,'isOpera',function(){return p}),i.d(t,'isEdge',function(){return u}),i.d(t,'isFirefox',function(){return y}),i.d(t,'isSafari',function(){return m}),i.d(t,'isIE',function(){return f}),i.d(t,'isYandex',function(){return h}),i.d(t,'isAndroidWebView',function(){return v}),i.d(t,'isIOSWebView',function(){return b}),i.d(t,'isGoogleSearchApplication',function(){return x}),i.d(t,'isChrome',function(){return k}),i.d(t,'getType',function(){return E}),i.d(t,'is',function(){return T});var n=i(4),o=i.n(n),a=i(21),r=i(17),s=i(15),l=i(18),d=function(){return Object(s.userAgent)()},p=function(){return Object(l.a)(r.BROWSER_RULES.OPERA_1,Object(s.userAgent)())||Object(l.a)(r.BROWSER_RULES.OPERA_2,Object(s.userAgent)())||Object(l.a)(r.BROWSER_RULES.OPERA_MINI,Object(s.userAgent)())},u=function(){return Object(l.a)(r.BROWSER_RULES.EDGE,Object(s.userAgent)())||Object(l.a)(r.BROWSER_RULES.EDGE_CHROMIUM,Object(s.userAgent)())||Object(l.a)(r.BROWSER_RULES.EDGE_IOS,Object(s.userAgent)())},_=function(){return Object(l.a)(r.BROWSER_RULES.CHROME_IOS,Object(s.userAgent)())},c=function(){return Object(l.a)(r.BROWSER_RULES.CHROMEIUM,Object(s.userAgent)())},g=function(){return c()&&!p()&&!u()},y=function(){return Object(l.a)(r.BROWSER_RULES.FIREFOX,Object(s.userAgent)())||Object(l.a)(r.BROWSER_RULES.FIREFOX_FOCUS,Object(s.userAgent)())},m=function(){return Object(l.a)(r.BROWSER_RULES.SAFARI,Object(s.userAgent)())},f=function(){return Object(l.a)(r.BROWSER_RULES.IE_1,Object(s.userAgent)())||Object(l.a)(r.BROWSER_RULES.IE_2,Object(s.userAgent)())||Object(l.a)(r.BROWSER_RULES.IE_3,Object(s.userAgent)())},h=function(){return Object(l.a)(r.BROWSER_RULES.YANDEX,Object(s.userAgent)())},v=function(){return Object(l.a)(r.BROWSER_RULES.ANDROID_WV,Object(s.userAgent)())},b=function(){return!1===m()&&(Object(l.a)(r.BROWSER_RULES.IOS_WV_1,Object(s.userAgent)())||Object(l.a)(r.BROWSER_RULES.IOS_WV_2,Object(s.userAgent)()))},x=function(){return Object(l.a)(r.BROWSER_RULES.GOOGLE_SEARCH_APPLICATION,Object(s.userAgent)())},k=function(){return g()||_()},E=function(){var e;switch(!0){case x():e=a.a.GOOGLE_SEARCH_APPLICATION;break;case v():e=a.a.ANDROID_WV;break;case b():e=a.a.IOS_WV;break;case k():e=a.a.CHROME;break;case y():e=a.a.FIREFOX;break;case f():e=a.a.IE;break;case u():e=a.a.EDGE;break;case p():e=a.a.OPERA;break;case h():e=a.a.YANDEX;break;case m():e=a.a.SAFARI;break;default:e=a.a.UNKNOWN;}return e},S=(C={},o()(C,a.a.CHROME,k),o()(C,a.a.FIREFOX,y),o()(C,a.a.SAFARI,m),o()(C,a.a.IE,f),o()(C,a.a.EDGE,u),o()(C,a.a.OPERA,p),o()(C,a.a.YANDEX,h),o()(C,a.a.GOOGLE_SEARCH_APPLICATION,x),o()(C,a.a.ANDROID_WV,v),o()(C,a.a.IOS_WV,b),C),T=function(e){return e===a.a.UNKNOWN?Object.keys(S).every(function(e){return!1===S[e]()}):!!S[e]&&!!S[e]()},C},function(e,t,i){'use strict';i.r(t),i.d(t,'getUserAgent',function(){return p}),i.d(t,'getBrowserType',function(){return u}),i.d(t,'isMobile',function(){return _}),i.d(t,'isTablet',function(){return c}),i.d(t,'isDesktop',function(){return g}),i.d(t,'isMobileOrTablet',function(){return y}),i.d(t,'getType',function(){return m}),i.d(t,'is',function(){return h});var n=i(4),o=i.n(n),a=i(30),r=i(27),s=i(17),l=i(15),d=i(18),p=function(){return Object(l.userAgent)()},u=function(){return a.getType()},_=function(){return!Object(d.a)(s.DEVICE_RULES.TABLET,Object(l.userAgent)())&&(Object(d.a)(s.DEVICE_RULES.MOBILE_1,Object(l.userAgent)())||Object(d.a)(s.DEVICE_RULES.MOBILE_2,Object(l.userAgent)().substr(0,4)))},c=function(){return!_()&&Object(d.a)(s.DEVICE_RULES.TABLET,Object(l.userAgent)())},g=function(){return!_()&&!c()},y=function(){return _()||c()},m=function(){var e='';switch(!0){case _():e=r.a.MOBILE;break;case c():e=r.a.TABLET;break;default:e=r.a.DESKTOP;}return e},f=(v={},o()(v,r.a.MOBILE,_),o()(v,r.a.TABLET,c),o()(v,r.a.DESKTOP,g),v),h=function(e){return!!f[e]&&!!f[e]()},v},function(e,t,i){'use strict';i.r(t),i.d(t,'isTargeted',function(){return y}),i.d(t,'isTargetingEnabled',function(){return v}),i.d(t,'getTargetingValues',function(){return h});var n=i(20),o=i.n(n),a=i(56),r=i(49),s=i(0),l=i(14),d=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=s.urls.getURLWithoutQueries(e);return t=s.urls.getURLWithoutProtocol(t),t=s.urls.removeTrailingSlash(t),t},p=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];return e.map(function(e){return d(e)})},u=function(e,t){return!(s.is.array(e)&&s.is.array(t))||e.some(function(e){return s.arrays.includes(t,e)})},_=i(5),c='adBlock',g={queryParams:function(e){var t=e.queryParams;if(Object(l.c)(t))return!0;var i=s.urls.getQueriesAsStringArray(s.environment.url());return Object(l.d)(i,t,u)},absoluteUrls:function(e){var t=e.absoluteUrls;if(Object(l.c)(t))return!0;var i=d(s.environment.url()),n={};return t&&(n.operator=t.operator,n.values=p(t.values)),Object(l.d)(i,n,s.arrays.includes)},urlPaths:function(e){var t=e.urlPaths;if(Object(l.c)(t))return!0;var i=s.urls.path(s.environment.url());return Object(l.d)(i,t,l.b)},playerLoads:function(e,t){var i=e.playerLoads,n=t.isPlayerAdBlocked;return!!Object(l.c)(i)||!i.values.includes(c)||i.values.includes(c)&&!n},browsers:function(e){var t=e.browsers;return!!Object(l.c)(t)||Object(l.d)(null,t,function(e){return e.some(function(e){return s.browser.is(e)})})},devices:function(e){var t=e.devices;return!!Object(l.c)(t)||Object(l.d)(null,t,function(e){return e.some(function(e){return s.device.is(e)})})},domains:function(e){var t=e.domains;if(Object(l.c)(t))return!0;var i=s.environment.host();return Object(l.d)(i,t,s.arrays.includes)},os:function(e){var t=e.os;return!!Object(l.c)(t)||Object(l.d)(s.operationSystems.getType(),t,s.arrays.includes)},bots:function(e){var t=e.bots;if(Object(l.c)(t))return!0;var i={operator:t.operator,values:t.values.filter(function(e){return _.USER_AGENTS_BOTS[e]}).map(function(e){return _.USER_AGENTS_BOTS[e]}).reduce(function(e,t){return e.concat(t)},[])};return Object(l.d)(s.userAgent.userAgent(),i,l.b)},geoLocation:function(e,t){var i=e.geoLocation,n=t.country;return!!Object(l.c)(i)||Object(l.d)(n,i,s.arrays.includes)},xPath:function(e){var t=e.xPath;if(Object(l.c)(t))return!0;return Object(l.d)(s.environment.window().document,t,function(e,t){var i=e.filter(function(e){return 0<s.elements.getElementsByXPath(e,t).length});return 0<i.length})},customEvents:function(e,t){var i=e.customEvents,n=t.eventData;return!Object(l.c)(i)&&n&&Object(l.d)(n,i,function(e,t){return e.some(function(e){return Object.keys(e).every(function(i){return!!t[i]&&e[i]===t[i]})})})},integrations:function(e){var t=e.integrations;return!!Object(l.c)(t)||Object(l.d)(s.environment.getIntegrationType(),t,s.arrays.includes)},wildcardUrls:function(e){var t=e.wildcardUrls;if(Object(l.c)(t))return!0;var i='success',n=s.environment.url(),o=t.values.map(function(e){return e.split('?')[0].replace(/\*/g,'[^ ]*')}),a={operator:t.operator,values:o.map(function(e){return new RegExp(e).test(n)?i:'failed'})};return Object(l.d)(i,a,l.b)},referrer:function(e){var t=e.referrer;if(Object(l.c)(t))return!0;var i=s.environment.referrer();return Object(l.d)(i,t,l.b)},connection:function(e,t){var i=e.connection,n=t.connection;return!!Object(l.c)(i)||Object(l.d)(n,i,s.arrays.includes)},lineItems:r.b},y=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;return Object.keys(e).every(function(n){var o=g[n];if(o){var a=o(e,t);return!a&&i&&i.warn(''.concat(n,' targeting was not met')),e[n].match=a,a}return!0})},m=function(e,t){return t[e]&&t[e].operator?t[e].values||[]:[]},f=function(e,t){var i=[];return t.targeting&&i.push.apply(i,o()(m(e,t.targeting))),t.targetingConfigs&&t.targetingConfigs.forEach(function(t){t.targeting&&i.push.apply(i,o()(m(e,t.targeting)))}),i},h=function(e,t){var i=f(e,t);return t.abTests&&t.abTests.templates&&t.abTests.templates.forEach(function(n){n.active&&i.push.apply(i,o()(f(e,n.config)))}),i},v=function(e,t){return 0<h(e,t).length}},function(e,t){'use strict';t.a={ANONYMOUS_COOKIE_NAME:'exco-uid',DEFAULT_COOKIE_MAX_AGE:2592000}},function(e,t,i){'use strict';i.r(t),i.d(t,'SUB_ID_DIMENSION_NAME',function(){return n}),i.d(t,'UTM_NAMES',function(){return o}),i.d(t,'PAGE_LOAD_UID_DIMENSION_NAME',function(){return a}),i.d(t,'COUNTRY_DIMENSION_NAME',function(){return r}),i.d(t,'AB_TEST_DIMENSION_NAMES',function(){return s}),i.d(t,'INTEGRATION_TYPE_NAME',function(){return l});var n='subId',o={UTM_SOURCE:'utm_source',UTM_MEDIUM:'utm_medium',UTM_CAMPAIGN:'utm_campaign',UTM_TERM:'utm_term',UTM_CONTENT:'utm_content'},a='pageLoadUid',r='country',s={NAME:'abtest_name',WEIGHT:'abtest_weight'},l='integrationType'},function(e,t,i){'use strict';var n=i(61),o=i.n(n);t.a={generate:o.a}},function(e,t,i){'use strict';var n=Math.floor;i.r(t),i.d(t,'convertTS',function(){return o}),i.d(t,'millisecondsToSeconds',function(){return a}),i.d(t,'millisecondsToSecondsOfEachMinute',function(){return r}),i.d(t,'millisecondsToMinutes',function(){return s}),i.d(t,'secondsToMs',function(){return l}),i.d(t,'minutesToMs',function(){return d}),i.d(t,'hoursToMs',function(){return p}),i.d(t,'millisecondsToMinutesAndSeconds',function(){return u});var o=function(e){var t=parseInt(e,10),i=60,o=60*i,a=24*o,r=30*a,s=12*r,l=n(t/s),d=n((t-l*s)/r),p=n((t-l*s-d*r)/a),u=n((t-l*s-d*r-p*a)/o),_=n((t-l*s-d*r-p*a-u*o)/i);return{years:l,months:d,days:p,hours:u,minutes:_,seconds:t-l*s-d*r-p*a-u*o-_*i}},a=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0;return+(e/1e3).toFixed(t)},r=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0;return+(e/1e3%60).toFixed(t)},s=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0;return n(e/6e4)},l=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0;return 1e3*e},d=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0;return l(60*e)},p=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0;return d(60*e)},u=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0;return{seconds:r(e),minutes:s(e)}}},function(e,t,i){'use strict';i.r(t),i.d(t,'FEES_PER_IMPRESSION',function(){return n}),i.d(t,'DECIMAL_PRECISION',function(){return o});var n=34e-5,o=5},function(e,t){'use strict';t.a={CTA_REDIRECT:'cta-redirect.ex.co/redirect-stream',PLAYLIST:'mcd-playlist.ex.co',S3:'playbuzz-cdn.s3.amazonaws.com',CDN:'cdn.ex.co'}},function(e){function t(i){'@babel/helpers - typeof';return e.exports=t='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},e.exports.__esModule=!0,e.exports['default']=e.exports,t(i)}e.exports=t,e.exports.__esModule=!0,e.exports['default']=e.exports},function(e,t,i){'use strict';i.r(t),i.d(t,'getSession',function(){return o}),i.d(t,'setSessionItem',function(){return a}),i.d(t,'getSessionItem',function(){return r}),i.d(t,'removeSessionItem',function(){return s}),i.d(t,'localStorageSet',function(){return l}),i.d(t,'localStorageGet',function(){return d}),i.d(t,'localStorageRemove',function(){return p});var n=function(e){var t;try{window[''.concat(e,'Storage')]&&(t=window[''.concat(e,'Storage')])}catch(i){t=null}return t},o=function(){return n('session')},a=function(e,t){var i=o();i&&i.setItem(e,JSON.stringify(t))},r=function(e){var t=o(),i;return t&&(i=JSON.parse(t.getItem(e))),i},s=function(e){return o().removeItem(e)},l=function(e,t){var i=n('local');return i&&i.setItem(e,JSON.stringify(t)),t},d=function(e){var t=n('local');if(t){var i=t.getItem(e);return i?JSON.parse(i):null}return null},p=function(e){return n('local').removeItem(e)}},function(e,t){'use strict';t.a={AMP:'amp',DFP:'dfp',DEFAULT:'default'}},function(e,t){'use strict';var i=function(e){return{byId:'[id=\''.concat(e,'\']'),byEmbedId:'[embed-id=\''.concat(e,'\']')}};t.a={getPlayerId:function(){var e=window.__EXCO||{};return e.PLAYER_ID||window.STREAM_ID},getPlayerPlaceHolder:function(e){var t=i(e),n=document.querySelector(t.byId);return n||(n=document.querySelector(t.byEmbedId)),n},getPlayerIdSelectors:i}},function(e,t,i){'use strict';function n(e){var t=e.toString(16);return 1===t.length?'0'.concat(t):t}i.r(t),i.d(t,'rgbToHex',function(){return o}),i.d(t,'hexToRgb',function(){return a});var o=function(e,t,i){return'#'.concat(n(e)).concat(n(t)).concat(n(i))},a=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}},function(e,t,i){'use strict';i.r(t),i.d(t,'postToAllParentFrames',function(){return n});var n=function(e,t){e.parent.postMessage(t,'*');for(var n=0;n<e.parent.frames.length;n++)e.parent.frames[n].postMessage(t,'*')}},function(e,t,i){'use strict';i.r(t),i.d(t,'isCMPLoaded',function(){return l}),i.d(t,'tcfV1',function(){return d}),i.d(t,'timedTCFv1',function(){return p}),i.d(t,'isTCFAPILoaded',function(){return u}),i.d(t,'tcfV2',function(){return _}),i.d(t,'usPrivacy',function(){return c}),i.d(t,'getConsentData',function(){return g});var n=i(11),o=i.n(n),a=i(7),r=i.n(a),s=i(0),l=function(e){var t=!1;return s.is['function'](e.__cmp)&&e.__cmp('ping',1,function(e,i){i&&e.cmpLoaded&&(t=!0)}),t},d=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(t){s.is['function'](e.__cmp)&&l(e)?e.__cmp('getConsentData',null,function(e,i){i?t({applies:e.gdprApplies,consent:e.consentData}):t(null)}):t(null)})},p=function(){var e=o()(r.a.mark(function e(){var t=arguments,i,n,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=0<t.length&&void 0!==t[0]?t[0]:{},n=1<t.length&&void 0!==t[1]?t[1]:200,o=new Promise(function(e){return setTimeout(function(){return e(null)},n)}),e.abrupt('return',Promise.race([d(i),o]));case 4:case'end':return e.stop();}},e)}));return function(){return e.apply(this,arguments)}}(),u=function(e){var t=!1;return s.is['function'](e.__tcfapi)&&e.__tcfapi('ping',2,function(e,i){i&&e.cmpLoaded&&(t=!0)}),t},_=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=null;return s.is['function'](e.__tcfapi)&&u(e)&&e.__tcfapi('getTCData',2,function(e,i){i&&(t={consent:e.tcString,applies:e.gdprApplies})}),t},c=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=null;return s.is['function'](e.__uspapi)&&e.__uspapi('getUSPData',1,function(e,i){i&&(t={consent:e.uspString})}),t},g=function(){var e=o()(r.a.mark(function e(){var t=arguments,i,n,o,a,s,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=0<t.length&&void 0!==t[0]?t[0]:{},n=1<t.length&&void 0!==t[1]?t[1]:200,o={},a=c(i),a&&(o.usPrivacy=a.consent),s=_(i),!s){e.next=10;break}o.tcf=s,e.next=14;break;case 10:return e.next=12,p(i,n);case 12:l=e.sent,l&&(o.tcf=l);case 14:return e.abrupt('return',o);case 15:case'end':return e.stop();}},e)}));return function(){return e.apply(this,arguments)}}()},function(e,t,i){'use strict';var n={};i.r(n),i.d(n,'create',function(){return _}),i.d(n,'show',function(){return c}),i.d(n,'hide',function(){return g});var o=i(2),a=i.n(o),r=i(3),s=i.n(r),l=i(62),d=i.n(l),p=i(0),u=30,_=function(e,t,i){var n=p.elements.dimensions(e),o=n.width,a=p.elementsRatio.calculateHeightUponRatio(o,16/9),r=p.elements.create('div',{id:'exco_placeholder',style:'background-color: '.concat(t,'; width: ').concat(o,'px; height: ').concat(a,'px;')},null,null);if(i){var s=p.elementsRatio.calculateItemCenter(a,a*u/100);p.elements.insert(r,'div',{style:'background-image: url('.concat(i,'); max-height: ').concat(u,'%; margin-top: ').concat(s,'px')},null,null)}return p.elements.appendChild(e.parentElement,r),r},c=function(){var e=document.getElementById('exco_placeholder');p.elements.removeClass(e,'exco_placeholder-hide')},g=function(){var e=document.getElementById('exco_placeholder');p.elements.addClass(e,'exco_placeholder-hide')},y=function(){function e(){a()(this,e),d.a.use()}return s()(e,[{key:'create',value:function(){return _.apply(n,arguments)}},{key:'show',value:function(){return c.apply(n,arguments)}},{key:'hide',value:function(){return g.apply(n,arguments)}}]),e}(),m=t.a=y},function(e,t,i){'use strict';i.d(t,'a',function(){return o});var n={leading:!1},o=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:n,o=i.leading,a=!1;return function(){a||(a=!0,o&&e(),setTimeout(function(){a=!1,o||e()},t))}}},function(e,t,i){var n=i(102);e.exports=function(e,t){if(null==e)return{};var o=n(e,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],!(0<=t.indexOf(a))&&Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o},e.exports.__esModule=!0,e.exports['default']=e.exports},function(e,t,i){'use strict';i.d(t,'a',function(){return s}),i.d(t,'b',function(){return l});var n=i(24),o=i.n(n),a=i(0),r=i(14),s=function(){return!a.is.nullOrUndefined(window.googletag)&&a.is['function'](window.googletag.pubads)?window.googletag.pubads().getSlots().map(function(e){if(!a.is.nullOrUndefined(e)&&a.is['function'](e.getResponseInformation)){var t=e.getResponseInformation()||{};return(t.lineItemId||'').toString()}return null}).filter(function(e,t,i){return e&&i.indexOf(e)===t}):[]},l=function(e,t){var i=e.lineItems,n=t.lineItems;if(Object(r.c)(i))return!0;var a=s();if(0===a.length)return r.a.EXCLUDE===i.operator;var l=n.filter(function(e){return a.includes(e.id)}),d={operator:i.operator,values:i.values.map(function(e){return e.split('=')})};return l.some(function(e){return Object(r.d)(e,d,function(e,t){return e.some(function(e){var i=o()(e,2),n=i[0],a=i[1];return(t[n]||'').toString()===a})})})}},function(e){e.exports=JSON.parse('{"a":"4.144.0"}')},function(e,t,i){var n=i(12),o=i(114);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(124);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(125);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(137);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(140);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e){var t=function(e){'use strict';function t(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}function i(e,t,i,n){var a=t&&t.prototype instanceof o?t:o,r=Object.create(a.prototype),s=new c(n||[]);return r._invoke=d(e,i,s),r}function n(e,t,i){try{return{type:'normal',arg:e.call(t,i)}}catch(e){return{type:'throw',arg:e}}}function o(){}function a(){}function r(){}function s(e){['next','throw','return'].forEach(function(i){t(e,i,function(e){return this._invoke(i,e)})})}function l(e,t){function i(o,a,r,s){var l=n(e[o],e,a);if('throw'===l.type)s(l.arg);else{var d=l.arg,p=d.value;return p&&'object'==typeof p&&f.call(p,'__await')?t.resolve(p.__await).then(function(e){i('next',e,r,s)},function(e){i('throw',e,r,s)}):t.resolve(p).then(function(e){d.value=e,r(d)},function(e){return i('throw',e,r,s)})}}function o(e,n){function o(){return new t(function(t,o){i(e,n,t,o)})}return a=a?a.then(o,o):o()}var a;this._invoke=o}function d(e,t,i){var o=k;return function(a,r){if(o===S)throw new Error('Generator is already running');if(o===T){if('throw'===a)throw r;return y()}for(i.method=a,i.arg=r;;){var s=i.delegate;if(s){var l=p(s,i);if(l){if(l===C)continue;return l}}if('next'===i.method)i.sent=i._sent=i.arg;else if('throw'===i.method){if(o===k)throw o=T,i.arg;i.dispatchException(i.arg)}else'return'===i.method&&i.abrupt('return',i.arg);o=S;var d=n(e,t,i);if('normal'===d.type){if(o=i.done?T:E,d.arg===C)continue;return{value:d.arg,done:i.done}}'throw'===d.type&&(o=T,i.method='throw',i.arg=d.arg)}}}function p(e,t){var i=e.iterator[t.method];if(void 0===i){if(t.delegate=null,'throw'===t.method){if(e.iterator['return']&&(t.method='return',t.arg=void 0,p(e,t),'throw'===t.method))return C;t.method='throw',t.arg=new TypeError('The iterator does not provide a \'throw\' method')}return C}var o=n(i,e.iterator,t.arg);if('throw'===o.type)return t.method='throw',t.arg=o.arg,t.delegate=null,C;var a=o.arg;if(!a)return t.method='throw',t.arg=new TypeError('iterator result is not an object'),t.delegate=null,C;if(a.done)t[e.resultName]=a.value,t.next=e.nextLoc,'return'!==t.method&&(t.method='next',t.arg=void 0);else return a;return t.delegate=null,C}function u(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type='normal',delete t.arg,e.completion=t}function c(e){this.tryEntries=[{tryLoc:'root'}],e.forEach(u,this),this.reset(!0)}function g(e){if(e){var t=e[v];if(t)return t.call(e);if('function'==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(f.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:y}}function y(){return{value:void 0,done:!0}}var m=Object.prototype,f=m.hasOwnProperty,h='function'==typeof Symbol?Symbol:{},v=h.iterator||'@@iterator',b=h.asyncIterator||'@@asyncIterator',x=h.toStringTag||'@@toStringTag';try{t({},'')}catch(e){t=function(e,t,i){return e[t]=i}}e.wrap=i;var k='suspendedStart',E='suspendedYield',S='executing',T='completed',C={},P={};t(P,v,function(){return this});var I=Object.getPrototypeOf,A=I&&I(I(g([])));A&&A!==m&&f.call(A,v)&&(P=A);var w=r.prototype=o.prototype=Object.create(P);return a.prototype=r,t(w,'constructor',r),t(r,'constructor',a),a.displayName=t(r,x,'GeneratorFunction'),e.isGeneratorFunction=function(e){var t='function'==typeof e&&e.constructor;return!!t&&(t===a||'GeneratorFunction'===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,r):(e.__proto__=r,t(e,x,'GeneratorFunction')),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},s(l.prototype),t(l.prototype,b,function(){return this}),e.AsyncIterator=l,e.async=function(t,n,o,a,r){void 0===r&&(r=Promise);var s=new l(i(t,n,o,a),r);return e.isGeneratorFunction(n)?s:s.next().then(function(e){return e.done?e.value:s.next()})},s(w),t(w,x,'Generator'),t(w,v,function(){return this}),t(w,'toString',function(){return'[object Generator]'}),e.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},e.values=g,c.prototype={constructor:c,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method='next',this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)'t'===t.charAt(0)&&f.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if('throw'===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,i){return a.type='throw',a.arg=e,n.next=t,i&&(n.method='next',n.arg=void 0),!!i}if(this.done)throw e;for(var n=this,o=this.tryEntries.length-1;0<=o;--o){var i=this.tryEntries[o],a=i.completion;if('root'===i.tryLoc)return t('end');if(i.tryLoc<=this.prev){var r=f.call(i,'catchLoc'),s=f.call(i,'finallyLoc');if(r&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(r){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);}else if(!s)throw new Error('try statement without catch or finally');else if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1,i;0<=n;--n)if(i=this.tryEntries[n],i.tryLoc<=this.prev&&f.call(i,'finallyLoc')&&this.prev<i.finallyLoc){var o=i;break}o&&('break'===e||'continue'===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method='next',this.next=o.finallyLoc,C):this.complete(a)},complete:function(e,t){if('throw'===e.type)throw e.arg;return'break'===e.type||'continue'===e.type?this.next=e.arg:'return'===e.type?(this.rval=this.arg=e.arg,this.method='return',this.next='end'):'normal'===e.type&&t&&(this.next=t),C},finish:function(e){for(var t=this.tryEntries.length-1,i;0<=t;--t)if(i=this.tryEntries[t],i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),_(i),C},catch:function(e){for(var t=this.tryEntries.length-1,i;0<=t;--t)if(i=this.tryEntries[t],i.tryLoc===e){var n=i.completion;if('throw'===n.type){var o=n.arg;_(i)}return o}throw new Error('illegal catch attempt')},delegateYield:function(e,t,i){return this.delegate={iterator:g(e),resultName:t,nextLoc:i},'next'===this.method&&(this.arg=void 0),C}},e}(e.exports);try{regeneratorRuntime=t}catch(e){'object'==typeof globalThis?globalThis.regeneratorRuntime=t:Function('r','regeneratorRuntime = r')(t)}},function(e,t,i){var a=i(58);e.exports=function(e,t){if(e){if('string'==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return'Object'===i&&e.constructor&&(i=e.constructor.name),'Map'===i||'Set'===i?Array.from(e):'Arguments'===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}},e.exports.__esModule=!0,e.exports['default']=e.exports},function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i},e.exports.__esModule=!0,e.exports['default']=e.exports},function(e,t,i){'use strict';(function(e){var n=i(2),o=i.n(n),a=i(3),r=i.n(a),s=i(8),l=function(){function t(e){var i=e.prefix;o()(this,t),this._enabled=!1,this.prefix=i,this._logs=[]}return r()(t,[{key:'enable',value:function(){var t=this,i=e||window;i&&i.console&&(this._enabled=!0,this._logs.forEach(function(e){return t._write(e)}),this.info('logger - enabled'))}},{key:'info',value:function(e,t){var i=this._buildLog('info',e,t);this._write(i)}},{key:'warn',value:function(e,t){var i=this._buildLog('warn',e,t);this._write(i)}},{key:'error',value:function(e,t){var i=this._buildLog('error',e,t);this._write(i)}},{key:'logs',get:function(){return this._logs}},{key:'_buildLog',value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'';return{msg:t,level:e,obj:i,log:''.concat(this.prefix,' - ').concat(Date.now(),' : ').concat(t)}}},{key:'_write',value:function(e){var t=e.level,i=e.msg,n=e.obj;if(s.a['function'](console[t])&&(this._logs.push(e),!!this._enabled)){var o=new Date().toLocaleString();console[t](''.concat(this.prefix,' - ').concat(o,': ').concat(i),n)}}}]),t}();t.a=l}).call(this,i(101))},function(e){'use strict';function t(e){return!!e&&'object'==typeof e}function i(e){var t=Object.prototype.toString.call(e);return'[object RegExp]'===t||'[object Date]'===t||n(e)}function n(e){return e.$$typeof===m}function o(e){return Array.isArray(e)?[]:{}}function a(e,t){return!1!==t.clone&&t.isMergeableObject(e)?c(o(e),e,t):e}function r(e,t,i){return e.concat(t).map(function(e){return a(e,i)})}function s(e,t){if(!t.customMerge)return c;var i=t.customMerge(e);return'function'==typeof i?i:c}function l(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}function d(e){return Object.keys(e).concat(l(e))}function p(e,t){try{return t in e}catch(e){return!1}}function u(e,t){return p(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function _(e,t,i){var n={};return i.isMergeableObject(e)&&d(e).forEach(function(t){n[t]=a(e[t],i)}),d(t).forEach(function(o){u(e,o)||(p(e,o)&&i.isMergeableObject(t[o])?n[o]=s(o,i)(e[o],t[o],i):n[o]=a(t[o],i))}),n}function c(e,t,i){i=i||{},i.arrayMerge=i.arrayMerge||r,i.isMergeableObject=i.isMergeableObject||g,i.cloneUnlessOtherwiseSpecified=a;var n=Array.isArray(t),o=Array.isArray(e);return n===o?n?i.arrayMerge(e,t,i):_(e,t,i):a(t,i)}var g=function(e){return t(e)&&!i(e)},y='function'==typeof Symbol&&Symbol.for,m=y?Symbol.for('react.element'):60103;c.all=function(e,t){if(!Array.isArray(e))throw new Error('first argument should be an array');return e.reduce(function(e,i){return c(e,i,t)},{})};e.exports=c},function(e){e.exports=function(i){function a(t){if(e[t])return e[t].exports;var r=e[t]={i:t,l:!1,exports:{}};return i[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}var e={};return a.m=i,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(t,'__esModule',{value:!0})},a.t=function(i,t){if(1&t&&(i=a(i)),8&t)return i;if(4&t&&'object'==typeof i&&i&&i.__esModule)return i;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,'default',{enumerable:!0,value:i}),2&t&&'string'!=typeof i)for(var n in i)a.d(r,n,function(e){return i[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,'a',e),e},a.o=function(i,e){return Object.prototype.hasOwnProperty.call(i,e)},a.p='',a(a.s=0)}([function(i,e,t){'use strict';function a(t){return t?(t^16*Math.random()>>t/4).toString(16):'10000000-1000-4000-8000-100000000000'.replace(/[018]/g,a)}function n(){return a(!1)}t.r(e),t.d(e,'default',function(){return n})}])},function(e,t,i){var n=i(12),o=i(106);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(107);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(108);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(109);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(111);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(112);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(113);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(115);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(116);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(117);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(118);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(119);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(120);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(121);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(122);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(123);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(126);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(127);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(128);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(129);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(130);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(131);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(132);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(133);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(134);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(135);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(136);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(138);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(139);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(141);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(142);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(143);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(144);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(145);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(146);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e,t,i){var n=i(12),o=i(147);o=o.__esModule?o.default:o,'string'==typeof o&&(o=[[e.i,o,'']]);var a=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=o.locals||{},l.use=function(){return a++||(s=n(o,r)),l},l.unuse=function(){0<a&&! --a&&(s(),s=null)},e.exports=l},function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports['default']=e.exports},function(e){e.exports=function(e,t){var i=null==e?null:'undefined'!=typeof Symbol&&e[Symbol.iterator]||e['@@iterator'];if(null!=i){var n=[],o=!0,a=!1,r,s;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(n.push(r.value),!(t&&n.length===t));o=!0);}catch(e){a=!0,s=e}finally{try{o||null==i['return']||i['return']()}finally{if(a)throw s}}return n}},e.exports.__esModule=!0,e.exports['default']=e.exports},function(e){e.exports=function(){throw new TypeError('Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')},e.exports.__esModule=!0,e.exports['default']=e.exports},function(e){var t=function(){return this}();try{t=t||new Function('return this')()}catch(i){'object'==typeof window&&(t=window)}e.exports=t},function(e){e.exports=function(e,t){if(null==e)return{};var n={},o=Object.keys(e),a,r;for(r=0;r<o.length;r++)a=o[r],0<=t.indexOf(a)||(n[a]=e[a]);return n},e.exports.__esModule=!0,e.exports['default']=e.exports},function(e,t,i){var n=i(58);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports['default']=e.exports},function(e){e.exports=function(e){if('undefined'!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e['@@iterator'])return Array.from(e)},e.exports.__esModule=!0,e.exports['default']=e.exports},function(e){e.exports=function(){throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')},e.exports.__esModule=!0,e.exports['default']=e.exports},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'#exco_placeholder{display:flex;justify-content:center}#exco_placeholder div{width:100%;background-position:center center;background-repeat:no-repeat;background-size:contain}#exco_placeholder.exco_placeholder-hide{display:none}[data-ads-playing=true] .exco-ap_container{display:block}[data-ads-playing=false] .exco-ap_container{display:none}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'[data-ads-playing=true] .exco_sticky-placement-show-on-ad-only{display:block}[data-ads-playing=false] .exco_sticky-placement-show-on-ad-only{display:none}.exco_sticky-placement{max-height:800px !important}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'[data-ads-playing=true] .exco-ap_container{display:block}[data-ads-playing=false] .exco-ap_container{display:none}.pbs.hidden .exco_sticky-full-width,.pbs.hidden .pbs-gallery,.pbs.hidden .pbs__player,.pbs.hidden .exco_sticky-x-button-container{display:none}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exco_headline{color:#555555;font-size:14px;font-style:italic;padding:5px;font-family:Roboto, sans-serif;text-align:center}.exco_headline.exco_headline-hide{visibility:visible}.exco_headline.exco_headline-hide{visibility:hidden}\n','']),e.exports=t},function(e){function t(i,n){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports['default']=e.exports,t(i,n)}e.exports=t,e.exports.__esModule=!0,e.exports['default']=e.exports},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.pbs .__cedato_control_bar{display:none}.pbs .__cedato_controls_top{display:none}.pbs .__cedato_play_button{display:none}.pbs .__cedato_spinner{display:none !important}.pbs__player div[id^="video"]{isolation:isolate}.pbs__player .exp-ui__wrapper.exp-ui__state__ad{position:static}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__timers{color:#fff;font-weight:500;font-size:10px;line-height:10px;opacity:0;transition:opacity .2s ease-in-out;white-space:nowrap}.exp-ui__timers.exp-ui__inline-timers{position:absolute;left:auto;right:12px;bottom:11px}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__popup .exp-ui__progress{left:75px}.exp-ui__popup .exp-ui__timers.exp-ui__inline-timers{right:46px}.exp-ui__popup .exp-ui__progress.exp-ui__inline-timers{right:120px}.exp-ui__progress{position:absolute;bottom:5px;left:40px;right:40px;padding:10px 0;cursor:pointer;z-index:14;pointer-events:all;opacity:0;transition:opacity .2s ease-in-out}.exp-ui__progress-wrapper{bottom:0;right:0;left:0;position:absolute;height:48px;background:linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.5) 100%);transition:opacity .2s ease-in-out;opacity:0}.exp-ui__progress-wrapper.exp-ui__state__shown{z-index:14}.exp-ui__progress.exp-ui__inline-timers{right:84px}.exp-ui__progress:hover{bottom:4px}.exp-ui__progress:hover .exp-ui__progress-bar,.exp-ui__progress:hover .exp-ui__progress-bufer,.exp-ui__progress:hover .exp-ui__progress-background,.exp-ui__progress:hover .exp-ui__progress-bar-preview{height:4px}.exp-ui__progress:hover .exp-ui__progress-bullet{height:12px;width:12px}.exp-ui__progress-bar,.exp-ui__progress-bufer,.exp-ui__progress-background,.exp-ui__progress-bar-preview{height:2px;border-radius:10px}.exp-ui__progress-bar,.exp-ui__progress-bufer,.exp-ui__progress-bar-preview{background-color:#fff;position:absolute;z-index:14}.exp-ui__progress-bullet{position:absolute;transform:translate(-50%, -50%);top:50%;left:0;height:0px;width:0px;border-radius:50%;background-color:#fff;transition:all .2s ease-in-out}.exp-ui__progress-bar-preview{opacity:0.25}.exp-ui__progress-bufer{opacity:0.2}.exp-ui__progress-background{width:100%;opacity:0.3;background-color:#fff}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__popup .exp-ui__sound-button{left:42px}.exp-ui__sound-button{display:flex;position:absolute;bottom:5px;left:8px;z-index:14;pointer-events:all;cursor:pointer;opacity:0;transition:opacity .2s ease-in-out}.exp-ui__sound-button svg{transition:all .2s ease-in-out}.exp-ui__sound-button:hover svg{transform:scale(1.1)}.exp-ui__sound-button .exp-ui__volume-control{height:60px;position:absolute;bottom:24px;width:100%;display:flex;justify-content:center;opacity:0;transition:opacity .2s ease-in-out}.exp-ui__sound-button .exp-ui__volume-control .exp-ui__volume-level,.exp-ui__sound-button .exp-ui__volume-control .exp-ui__volume-level__background{background-color:#fff;border-radius:4px;position:absolute;width:4px;pointer-events:none}.exp-ui__sound-button .exp-ui__volume-control .exp-ui__volume-level{bottom:0;transition:height .2s ease-in-out}.exp-ui__sound-button .exp-ui__volume-control .exp-ui__volume-level__background{opacity:.3;height:100%}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__skip-button{text-transform:uppercase;z-index:14;pointer-events:all;position:absolute;bottom:4px;right:0;background-color:rgba(0,0,0,0.4) !important;color:#fff;cursor:pointer;font-size:13px;background:linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.05) 50%);border-top-left-radius:45px;border-bottom-left-radius:45px;padding:4px 15px;transition:all 0.2s ease-in-out}.exp-ui__skip-button:hover{padding:4px 16px}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__next-button,.exp-ui__pause-button,.exp-ui__play-button,.exp-ui__prev-button{cursor:pointer;pointer-events:all}.exp-ui__next-button svg,.exp-ui__pause-button svg,.exp-ui__play-button svg,.exp-ui__prev-button svg{transition:all .2s ease-in-out}.exp-ui__next-button:hover svg,.exp-ui__pause-button:hover svg,.exp-ui__play-button:hover svg,.exp-ui__prev-button:hover svg{transform:scale(1.1)}.exp-ui__controls .exp-ui__next-button,.exp-ui__controls .exp-ui__pause-button,.exp-ui__controls .exp-ui__play-button,.exp-ui__controls .exp-ui__prev-button{display:flex;position:absolute;top:50%;transform:translateY(-50%);z-index:14;opacity:0;transition:opacity .2s ease-in-out}.exp-ui__controls .exp-ui__next-button{right:12px}.exp-ui__controls .exp-ui__pause-button,.exp-ui__controls .exp-ui__play-button{left:50%;transform:translate(-50%, -50%);background-color:linear-gradient(225deg, var(--pbs-color-play-button), var(--pbs-color-play-button)) !important}.exp-ui__controls .exp-ui__prev-button{left:12px}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__poster{position:absolute;top:0;bottom:0;right:0;left:0;z-index:11;background-position:center center;background-size:100%;background-repeat:no-repeat}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__loader{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);z-index:12}.exp-ui__loader-circle,.exp-ui__loader-circle::after{border-radius:50%;width:8em;height:8em}.exp-ui__loader-circle{margin:60px auto;font-size:5px;position:relative;text-indent:-9999em;border-top:0.5em solid rgba(255,255,255,0.2);border-right:0.5em solid rgba(255,255,255,0.2);border-bottom:0.5em solid rgba(255,255,255,0.2);border-left:0.5em solid #ffffff;transform:translateZ(0);animation:load8 1.1s infinite linear}@keyframes load8{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__logo{position:absolute;top:18px;z-index:14;pointer-events:all}.exp-ui__logo a{display:flex}.exp-ui__logo__image{display:block;margin:0 !important}@media only screen and (max-width: 768px){.exp-ui__logo__image{transform:scale(0.7)}}.exp-ui__logo-clickable{transition:all .1s ease-in-out}@media only screen and (min-width: 768px){.exp-ui__logo-clickable:hover{transform:scale(1.05)}}.exp-ui__logo-sticky .exp-ui__logo__image{transform:scale(0.6) !important}.exp-ui__logo-position__right{right:18px}.exp-ui__logo-position__right .exp-ui__logo__image{transform-origin:top right}.exp-ui__logo-position__right.exp-ui__logo-sticky{top:10px;right:10px}.exp-ui__logo-position__left{left:18px}.exp-ui__logo-position__left .exp-ui__logo__image{transform-origin:top left}.exp-ui__logo-position__left.exp-ui__logo-sticky{top:10px;left:10px}.exp-ui__logo-position__center{left:50%;transform:translateX(-50%)}.exp-ui__logo-position__center .exp-ui__logo__image{transform:unset}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.pbs[data-pbs-pagination="true"][data-pbs-device="mobile"]:not([data-pbs-position="sticky"]) .pbs__player{margin-top:35px}.pbs[data-pbs-pagination="true"][data-pbs-device="mobile"]:not([data-pbs-position="sticky"]) .exp-ui__pagination{top:-35px}.exp-ui__pagination{display:flex;height:35px;justify-content:center;align-items:center;position:absolute;z-index:14;width:100%;pointer-events:all}.exp-ui__pagination-dot{width:8px;height:8px;border:1px solid var(--exco-paging-color);border-radius:50%;margin:5px;cursor:pointer;transition:all .1s ease-in-out}.exp-ui__pagination-dot.active{background-color:rgba(var(--exco-paging-color-rgb), 1);pointer-events:none}.exp-ui__pagination-dot:hover{background-color:rgba(var(--exco-paging-color-rgb), 0.6);transform:scale(1.2)}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'@keyframes slide-in-bottom{0%{transform:translateY(10px);opacity:0}100%{transform:translateY(0);opacity:1}}@keyframes up-and-down{0%,100%{transform:translateY(calc(50% + 4px))}40%,55%{transform:translateY(calc(50% - 4px))}}@media only screen and (max-width: 768px){.pbs:not([data-pbs-position="sticky"]) .exp-ui__ui-hub.title-enabled .exp-ui__cta{bottom:75px;font-size:14px}}.pbs[data-pbs-ads="playing"]:not([data-pbs-content="playing"]) .exp-ui__cta{z-index:-1;visibility:hidden}.exp-ui__cta{pointer-events:all;display:flex;justify-content:center;font-weight:var(--exco-font-weight);font-family:var(--exco-font-family);opacity:0;visibility:hidden;transition:width .5s ease-in-out, opacity 0.2s ease-in-out}.exp-ui__cta_shown{opacity:1;visibility:visible}.exp-ui__cta_shown .exp-ui__cta-button{transform:translateY(50%)}.exp-ui__cta_shown .exp-ui__cta-button.animated{animation:up-and-down 1.5s cubic-bezier(0.215, 0.61, 0.355, 1) infinite}.pbs[data-pbs-size=\'tiny\'] .exp-ui__cta{font-size:10px}.pbs[data-pbs-size=\'small\'] .exp-ui__cta{font-size:12px}.pbs[data-pbs-size=\'small-tiny\'] .exp-ui__cta{font-size:12px}.pbs[data-pbs-size=\'medium\'] .exp-ui__cta{font-size:14px}.pbs[data-pbs-size=\'large\'] .exp-ui__cta{font-size:18px}.exp-ui__cta.exp-ui__hidden{pointer-events:none;opacity:0}.exp-ui__cta .exp-ui__cta-fullscreen{z-index:13;position:absolute;top:0;bottom:0;right:0;left:0;cursor:pointer}.exp-ui__cta .exp-ui__cta-button{position:absolute;bottom:0;font-size:16px;line-height:23px;z-index:15;display:flex;align-items:center;cursor:pointer;color:#fff;background-color:black;padding:8px 23px;border-radius:57px}@media only screen and (max-width: 768px){.exp-ui__cta .exp-ui__cta-button{padding:5px 10px;background-color:var(--pbs-color-progress-bar)}}.exp-ui__cta .exp-ui__cta-button__text{display:block;margin:auto}.exp-ui__cta .exp-ui__cta-button .exp-ui__cta-text{white-space:nowrap}.exp-ui__cta .exp-ui__cta-button .exp-ui__cta-icon{margin:auto;margin-right:8px;height:26px;display:flex;align-items:center;align-content:center;justify-content:center}.exp-ui__cta .exp-ui__cta-button .exp-ui__cta-icon svg{width:20px;height:20px}@media only screen and (max-width: 768px){.exp-ui__cta .exp-ui__cta-button .exp-ui__cta-icon svg{width:14px;height:14px}}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__metadata-wrapper{z-index:11;left:18px;right:40px}@media only screen and (max-width: 768px){.exp-ui__metadata-wrapper{left:10px;right:10px !important}}.pbs[data-pbs-position="sticky"] .exp-ui__metadata-wrapper{font-size:13px;line-height:15px}.pbs[data-pbs-position="sticky"] .exp-ui__metadata-wrapper .exp-ui__metadata{padding:3px 8px}.exp-ui__metadata-wrapper{display:flex;color:#000;font-size:15px;font-weight:normal;font-family:var(--exco-font-family);overflow:hidden;line-height:18px}@media only screen and (max-width: 768px){.exp-ui__metadata-wrapper{display:none}}.exp-ui__metadata-wrapper.standalone{position:absolute;bottom:0;left:5%}.exp-ui__metadata-wrapper.pbs-hidden{visibility:hidden}.exp-ui__metadata-wrapper .exp-ui__metadata{display:flex;padding:3px 15px;background:rgba(0,0,0,0.35);color:#fff;border-radius:16px}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__animated-text{position:relative;overflow:hidden}.exp-ui__animated-text__line-wrapper{overflow:hidden}.exp-ui__animated-text__line-wrapper:last-of-type .exp-ui__animated-text__line{max-width:95%;text-overflow:ellipsis}.exp-ui__animated-text__line{white-space:nowrap;overflow:hidden;float:left;font-weight:var(--exco-font-weight);font-family:var(--exco-font-family)}.exp-ui__animated-text__line.exp-ui__state__hidden{display:none}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__title-wrapper{z-index:11;left:18px;right:18px;top:0}.exp-ui__popup .exp-ui__title-wrapper{position:absolute;transition:opacity 0.2s cubic-bezier(0, 0, 0, 1),top 0.2s cubic-bezier(0, 0, 0, 1)}.exp-ui__popup:not(.exp-ui__state__hovered) .exp-ui__title-wrapper{opacity:0.2}.pbs[data-pbs-device="desktop"][data-pbs-position="sticky"] .exp-ui__wrapper{background:linear-gradient(180deg, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0) 19.72%, rgba(0,0,0,0) 31.47%)}@media only screen and (min-width: 768px){.pbs[data-pbs-device="desktop"] .avp-p-cn{bottom:-5px}}@media only screen and (max-width: 768px){.pbs:not([data-pbs-position="sticky"]) .pbs-transition-wrapper{height:calc(100% - 74px) !important}}@media only screen and (max-width: 768px){.pbs[data-pbs-device="mobile"][data-pbs-video-title="true"]:not([data-pbs-position="sticky"]){border-bottom-right-radius:0;border-bottom-left-radius:0;margin-bottom:calc(var(--pbs-margin-bottom) + 75px)}.pbs[data-pbs-device="mobile"][data-pbs-video-title="true"]:not([data-pbs-position="sticky"]) .pbs-gallery.right{bottom:-75px}.pbs[data-pbs-device="mobile"][data-pbs-video-title="true"]:not([data-pbs-position="sticky"]) .pbs-transition-wrapper{border-bottom-right-radius:0 !important;border-bottom-left-radius:0 !important}.pbs[data-pbs-device="mobile"][data-pbs-video-title="true"]:not([data-pbs-position="sticky"]) .pb-stream{border-bottom-right-radius:0;border-bottom-left-radius:0}.pbs[data-pbs-device="mobile"][data-pbs-video-title="true"]:not([data-pbs-position="sticky"]) .pb-stream .avp-p-wrapper div[id^="content_"]{border-bottom-right-radius:0;border-bottom-left-radius:0}}@media only screen and (max-width: 768px){.pbs[data-pbs-device="mobile"] .exp-ui__wrapper:not(.exp-ui__popup) .exp-ui__title{font-size:1rem;line-height:1.2rem;position:relative;top:20px}.pbs[data-pbs-device="mobile"] .exp-ui__wrapper:not(.exp-ui__popup) .exp-ui__title .exp-ui__animated-text__line{padding:0;background-color:#fff;color:#000}}.exp-ui__title{color:var(--exco-title-text-color);line-height:2rem;font-size:1.63rem}.exp-ui__title.pbs-hidden{z-index:-1}.exp-ui__title.clickable .exp-ui__animated-text__line{cursor:pointer}.exp-ui__title p{color:#ffffff !important;margin:0 !important}.exp-ui__title .exp-ui__animated-text__line{background-color:rgba(var(--exco-title-background-color-rgb), 0.9);padding:0 6px}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'@media only screen and (max-width: 768px){.pbs[data-pbs-device="mobile"]:not([data-pbs-video-title="true"]) .exp-ui__meta-title-wrapper{z-index:-1;visibility:hidden}}@media only screen and (max-width: 768px){.pbs[data-pbs-device="mobile"][data-pbs-position="sticky"] .exp-ui__meta-title-wrapper{z-index:-1;visibility:hidden;opacity:0}}[data-pbs-position="sticky"] .exp-ui__meta-title-wrapper{bottom:unset;left:6px;top:6px}[data-pbs-position="sticky"] .exp-ui__meta-title-wrapper .exp-ui__animated-text__line-wrapper{margin-bottom:2px}[data-pbs-position="sticky"] .exp-ui__meta-title-wrapper .exp-ui__animated-text__line-wrapper .exp-ui__animated-text__line{padding:2px 4px;font-size:11px;line-height:14px;font-weight:bold}[data-pbs-position="sticky"] .exp-ui__meta-title-wrapper .exp-ui__animated-text__line-wrapper .exp-ui__animated-text__line:empty{visibility:hidden}.exp-ui__meta-title-wrapper{position:absolute;z-index:11;left:18px;right:18px;bottom:7%}.exp-ui__meta-title-wrapper .exp-ui__metadata-wrapper{margin-bottom:15px}@media only screen and (max-width: 768px){.exp-ui__meta-title-wrapper.exp-ui__state__hidden,.exp-ui__meta-title-wrapper .exp-ui__state__hidden{visibility:visible}}@media only screen and (max-width: 768px){.pbs[data-pbs-device="mobile"] .exp-ui__wrapper:not(.exp-ui__popup) .exp-ui__meta-title-wrapper{bottom:-75px;height:75px;left:0;right:0;padding:0 10px;background-color:#fff;border:1px solid rgba(0,0,0,0.2);border-top:0;box-sizing:border-box;border-bottom-right-radius:5px;border-bottom-left-radius:5px}}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'@media only screen and (max-width: 768px){.pbs[data-pbs-position="sticky"] .exp-ui__transition-wrapper{height:100%}}.pbs[data-pbs-position="sticky"] .exp-ui__transition-wrapper .exp-ui__transition{padding-left:10px;padding-right:10px}.pbs[data-pbs-position="sticky"] .exp-ui__transition-wrapper .exp-ui__transition p{font-size:22px;line-height:24px}.exp-ui__transition-wrapper{position:absolute;top:0;z-index:17;width:100%;height:100%;overflow:hidden;background-position:center center;background-size:100%;background-repeat:no-repeat}.exp-ui__transition-wrapper.pbs-hidden{z-index:-1;visibility:hidden}.exp-ui__transition-wrapper .exp-ui__transition{display:flex;justify-content:center;flex-direction:column;width:100%;height:100%;padding-left:30px;padding-right:30px;color:#ffffff;background-color:var(--pbs-color-transition)}.exp-ui__transition-wrapper .exp-ui__transition p{font-size:38px;line-height:43px;font-weight:var(--exco-font-weight);font-family:var(--exco-font-family);margin:0;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}@media only screen and (max-width: 768px){.exp-ui__transition-wrapper .exp-ui__transition{align-items:center;padding-left:10px;padding-right:10px}.exp-ui__transition-wrapper .exp-ui__transition p{font-size:18px;line-height:20px}}.exp-ui__transition-wrapper .exp-ui__transition .exp-ui__transition-logo{max-width:35%;margin-bottom:25px}@media only screen and (max-width: 768px){.exp-ui__transition-wrapper .exp-ui__transition .exp-ui__transition-logo{margin:0;max-width:65%}}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.pb-stream{overflow:hidden}.pb-stream .avp-p-wrapper div[id^="content_"]{overflow:hidden}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__gallery:hover .exp-ui__gallery__prev-button,.exp-ui__gallery:hover .exp-ui__gallery__next-button{opacity:1}.exp-ui__gallery .exp-ui__gallery__prev-button,.exp-ui__gallery .exp-ui__gallery__next-button{z-index:2;position:absolute;cursor:pointer;opacity:0;transition:background-color, opacity .2s ease-in-out}.exp-ui__gallery .exp-ui__gallery__prev-button:hover,.exp-ui__gallery .exp-ui__gallery__next-button:hover{background-color:rgba(0,0,0,0.1)}.exp-ui__gallery .exp-ui__gallery__prev-button:hover:before,.exp-ui__gallery .exp-ui__gallery__next-button:hover:before{opacity:1}.exp-ui__gallery .exp-ui__gallery__prev-button:before,.exp-ui__gallery .exp-ui__gallery__next-button:before{content:"";position:absolute;opacity:.6;background:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iY2hldnJvbi1yaWdodC1zbSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4Ig0KCSB5PSIwcHgiIHZpZXdCb3g9IjAgMCA3LjA3MTMgMTIuMDIxIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA3LjA3MTMgMTIuMDIxIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwb2x5Z29uIGZpbGw9IiNmZmZmZmYiIHBvaW50cz0iMCwxMC45NjA0IDQuOTQ5Nyw2LjAxMDcgMCwxLjA2MDUgMS4wNjEsMCA3LjA3MTMsNi4wMTA3IDEuMDYxLDEyLjAyMSAiLz4NCjwvc3ZnPg==") 0 0 no-repeat}.exp-ui__gallery_below .exp-ui__gallery__prev-button,.exp-ui__gallery_below .exp-ui__gallery__next-button{height:calc(100% - 20px);width:25px;top:10px;bottom:10px}.exp-ui__gallery_below .exp-ui__gallery__prev-button:before,.exp-ui__gallery_below .exp-ui__gallery__next-button:before{top:50%;left:50%;width:15px;height:25px}.exp-ui__gallery_below .exp-ui__gallery__next-button{right:0;background-image:linear-gradient(to right, transparent, rgba(70,70,70,0.5));border-bottom-right-radius:3px;border-top-right-radius:3px}.exp-ui__gallery_below .exp-ui__gallery__next-button:before{transform:translate(-50%, -50%)}.exp-ui__gallery_below .exp-ui__gallery__prev-button{left:0;background-image:linear-gradient(to left, transparent, rgba(70,70,70,0.5));border-top-left-radius:3px;border-bottom-left-radius:3px}.exp-ui__gallery_below .exp-ui__gallery__prev-button:before{transform:translate(-50%, -50%) rotate(180deg)}.exp-ui__gallery_right .exp-ui__gallery__prev-button,.exp-ui__gallery_right .exp-ui__gallery__next-button{height:25px;width:calc(100% - 20px);right:10px;left:10px}@media only screen and (max-width: 768px){.exp-ui__gallery_right .exp-ui__gallery__prev-button,.exp-ui__gallery_right .exp-ui__gallery__next-button{width:calc(100% - 10px);right:5px;left:5px}}.exp-ui__gallery_right .exp-ui__gallery__prev-button:before,.exp-ui__gallery_right .exp-ui__gallery__next-button:before{top:50%;left:50%;width:15px;height:25px}.exp-ui__gallery_right .exp-ui__gallery__next-button{top:calc(100% - 25px);background-image:linear-gradient(to bottom, transparent, rgba(70,70,70,0.5));border-bottom-right-radius:3px;border-bottom-left-radius:3px}.exp-ui__gallery_right .exp-ui__gallery__next-button:before{transform:translate(-50%, -50%) rotate(90deg)}.exp-ui__gallery_right .exp-ui__gallery__prev-button{top:0;background-image:linear-gradient(to top, transparent, rgba(70,70,70,0.5));border-top-left-radius:3px;border-top-right-radius:3px}.exp-ui__gallery_right .exp-ui__gallery__prev-button:before{transform:translate(-50%, -50%) rotate(-90deg)}[data-pbs-position="sticky"][data-pbs-sticky="mobile-upper-small"] .exp-ui__gallery .exp-ui__gallery__prev-button,[data-pbs-position="sticky"][data-pbs-sticky="mobile-upper-small"] .exp-ui__gallery .exp-ui__gallery__next-button,[data-pbs-position="sticky"][data-pbs-sticky="mobile-upper-large"] .exp-ui__gallery .exp-ui__gallery__prev-button,[data-pbs-position="sticky"][data-pbs-sticky="mobile-upper-large"] .exp-ui__gallery .exp-ui__gallery__next-button{display:none}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__gallery__item{flex-shrink:0;border-radius:3px;overflow:hidden;opacity:0;cursor:pointer;position:relative}.exp-ui__gallery__item.active:before{position:absolute;width:calc(100% - 4px);height:calc(100% - 4px);border-radius:3px;border:2px solid var(--pbs-color-progress-bar);content:\'\'}.exp-ui__gallery__item.active .exp-ui__gallery__item-title{visibility:hidden}@media only screen and (min-width: 768px){.exp-ui__gallery__item:not(.active):hover .exp-ui__gallery__item-title:not(.empty-title){opacity:1;color:#fff;background-color:rgba(0,0,0,0.7);visibility:visible}}.exp-ui__gallery__item:not(.active):hover .exp-ui__gallery__item-title.empty-title{opacity:0}.exp-ui__gallery__item .exp-ui__gallery__item-title{position:absolute;visibility:hidden;width:100%;height:100%;color:transparent;background-color:#fff;opacity:0.4;transition:opacity .2s ease-in-out, background-color .2s ease-in-out;font-size:15px;line-height:15px;font-weight:normal;font-family:var(--exco-font-family);text-align:center;align-items:center;justify-content:center;-webkit-line-clamp:4;-webkit-box-orient:vertical;padding:5px;display:-webkit-box}.exp-ui__gallery__item .exp-ui__gallery__item-poster{object-fit:cover;width:100%;height:100%}.exp-ui__gallery__item-next{display:none}.exp-ui__gallery_right .exp-ui__gallery__item{margin:0 0 10px 0;width:100%;height:25%}.exp-ui__gallery_right .exp-ui__gallery__item .exp-ui__gallery__item-title{font-size:10px}@media only screen and (max-width: 768px){.exp-ui__gallery_right .exp-ui__gallery__item{margin:0 0 5px 0;height:16%}}.exp-ui__gallery_below .exp-ui__gallery__item{margin:0 10px 0 0;width:26%;height:100%}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__poster-smart{object-fit:cover;width:100%;height:100%}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__popup:not(.exp-ui__state__hovered) .exp-ui__gallery{opacity:0.2}.exp-ui__popup .exp-ui__gallery{transition:opacity 0.2s cubic-bezier(0, 0, 0, 1)}.exp-ui__popup:not(.exp-ui__state__hovered) .exp-ui__gallery{opacity:0.2}.pbs[data-pbs-position="sticky"] .exp-ui__gallery{display:none}.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-large\'] .exp-ui__gallery,.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-small\'] .exp-ui__gallery{display:block}.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-large\'] .exp-ui__gallery_right,.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-small\'] .exp-ui__gallery_right{top:0;width:var(--exco-remaining-width-sticky);bottom:0 !important;right:calc(var(--exco-remaining-width-sticky) * -1);z-index:13}.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-large\'] .exp-ui__gallery_right .exp-ui__gallery__items-wrapper,.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-small\'] .exp-ui__gallery_right .exp-ui__gallery__items-wrapper{height:auto}.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-large\'] .exp-ui__gallery .exp-ui__gallery__item,.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-small\'] .exp-ui__gallery .exp-ui__gallery__item{max-width:60%;height:28%}.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-large\'] .exp-ui__gallery_right{margin-top:3px}.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-small\'] .exp-ui__gallery{display:block;margin:13px auto;box-sizing:border-box}.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-small\'] .exp-ui__gallery .exp-ui__gallery__item:not(.next){display:none}.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-small\'] .exp-ui__gallery .exp-ui__gallery__item-next{display:block;text-align:center;padding-bottom:5px;font-size:12px;font-family:Arial, Helvetica, sans-serif;position:relative;left:-15px}.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-small\'] .exp-ui__gallery .exp-ui__gallery__item.next{height:69%;width:55%;margin-bottom:0}.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-small\'] .exp-ui__gallery .exp-ui__gallery__item.next .exp-ui__gallery__item-poster{opacity:1}.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-small\'] .exp-ui__gallery .exp-ui__gallery__items-wrapper[style]{transform:unset !important}.pbs[data-pbs-position="sticky"].pbs__player{margin-bottom:initial}.pbs[data-pbs-ads="playing"]:not([data-pbs-content="playing"]) .exp-ui__gallery{opacity:0.4;pointer-events:none}@media only screen and (max-width: 768px){.pbs[data-pbs-device="mobile"][data-pbs-video-title="true"] .exp-ui__gallery_right{bottom:-75px}}@media only screen and (max-width: 768px){.pbs[data-pbs-device="mobile"][data-pbs-video-title="true"] .exp-ui__gallery_right .exp-ui__gallery__items-wrapper{padding:0 5px}}@media only screen and (max-width: 768px){.pbs[data-pbs-device="mobile"] .exp-ui__gallery_below{height:35%;bottom:-150px}}.exp-ui__gallery{pointer-events:all;position:absolute;overflow:hidden;opacity:1;transition:opacity .3s ease-in-out}.exp-ui__gallery_hidden{display:none}.exp-ui__gallery_disabled{opacity:0.4;pointer-events:none}.exp-ui__gallery_right{top:0;width:25%;bottom:0;right:-25%}.exp-ui__gallery_right .exp-ui__gallery__items-wrapper{flex-direction:column;padding:0 10px}.exp-ui__gallery_below{width:100%;height:30%;padding:10px 0}.exp-ui__gallery .exp-ui__gallery__items-wrapper{display:flex;height:100%;align-items:center}.exp-ui__gallery .exp-ui__gallery__items-wrapper.exp-ui__scrolling .exp-ui__gallery__item-title{visibility:hidden !important}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.pbs[data-pbs-device="mobile"] .exp-ui__progressive-pagination{top:10px}.pbs[data-pbs-device="mobile"] .exp-ui__progressive-pagination-bar-progress,.pbs[data-pbs-device="mobile"] .exp-ui__progressive-pagination-bar-background{height:4px;border-radius:4px}.exp-ui__progressive-pagination{pointer-events:all;z-index:14;position:absolute;top:21px;left:5%;right:5%;display:flex}.exp-ui__progressive-pagination-bar{position:relative;cursor:pointer;flex-grow:1;flex-basis:0;transition:transform .1s ease-in-out;padding:3px 0}.exp-ui__progressive-pagination-bar:not(:last-of-type){margin-right:5px}.exp-ui__progressive-pagination-bar:hover{transform:scale(1.05)}.exp-ui__progressive-pagination-bar-progress,.exp-ui__progressive-pagination-bar-background{position:absolute;top:50%;transform:translateY(-50%);height:2px;border-radius:2px;background-color:var(--exco-paging-color)}.exp-ui__progressive-pagination-bar-progress.exp-ui__pagination-bar_animated{transition:width .2s ease-in-out}.exp-ui__progressive-pagination-bar-background{width:100%;opacity:0.35}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__next-button,.exp-ui__pause-button,.exp-ui__play-button,.exp-ui__prev-button{display:flex;cursor:pointer;pointer-events:all}.exp-ui__next-button svg,.exp-ui__pause-button svg,.exp-ui__play-button svg,.exp-ui__prev-button svg{transition:all .2s ease-in-out}.exp-ui__next-button:hover svg,.exp-ui__pause-button:hover svg,.exp-ui__play-button:hover svg,.exp-ui__prev-button:hover svg{transform:scale(1.1)}.exp-ui__info-panel{position:absolute;z-index:16;overflow:hidden;pointer-events:all;display:flex;flex-direction:column;justify-content:flex-end}.exp-ui__info-panel .exp-ui__logo-position__left{top:15px;left:15px}.exp-ui__info-panel__title,.exp-ui__info-panel__meta{font-weight:var(--exco-font-weight);padding:0 15px;text-align:left}@media only screen and (max-width: 768px){.exp-ui__info-panel__title,.exp-ui__info-panel__meta{padding:0 10px}}.exp-ui__info-panel__title{font-weight:var(--exco-font-weight);font-family:var(--exco-font-family);padding:10px;width:100%;height:100%;color:var(--exco-title-text-color);display:flex;align-items:flex-end}.exp-ui__info-panel__title p{margin:0;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.exp-ui__info-panel__meta{font-weight:bold;font-style:italic;text-transform:uppercase;padding-bottom:10px}.exp-ui__info-panel__controls{display:flex;justify-content:space-between;position:relative;align-items:center;padding:10px;padding-top:0}@media only screen and (max-width: 768px){.exp-ui__info-panel__controls{padding:5px;padding-top:0}}.exp-ui__info-panel__controls_left{display:flex}.exp-ui__info-panel__controls_center{display:flex}.exp-ui__info-panel__controls_center .exp-ui__timers{display:flex;align-items:center}.exp-ui__info-panel__controls_right{display:flex}.exp-ui__info-panel__controls_right .exp-ui__sound-button{position:relative;bottom:unset;left:unset}.exp-ui__info-panel.exp-ui_left{top:0;bottom:0;left:0;right:100%;transition:right .4s ease-in-out}.exp-ui__info-panel.exp-ui_left.exp-ui__state__hovered{right:65%}.exp-ui__info-panel.exp-ui_left .exp-ui__info-panel__title{font-size:24px;line-height:1.1}.exp-ui__info-panel.exp-ui_left .exp-ui__info-panel__title p{-webkit-line-clamp:8}@media only screen and (max-width: 768px){.exp-ui__info-panel.exp-ui_left .exp-ui__info-panel__title p{-webkit-line-clamp:6}}@media only screen and (max-width: 768px){.exp-ui__info-panel.exp-ui_left .exp-ui__info-panel__title{font-size:16px;padding:0 10px}}.exp-ui__info-panel.exp-ui_left .exp-ui__info-panel__title .exp-ui__animated-text__line{padding:0}.exp-ui__info-panel.exp-ui_left .exp-ui__info-panel__meta{font-size:10px;line-height:1.1}@media only screen and (max-width: 768px){.exp-ui__info-panel.exp-ui_left .exp-ui__info-panel__meta{font-size:8px;padding:0 10px}}.exp-ui__info-panel.exp-ui_top{bottom:100%;left:0;right:0;border:1px solid #dfdfdf;border-bottom:0}.exp-ui__info-panel.exp-ui_top .exp-ui__info-panel__meta{padding-top:4px;padding-bottom:10px}.exp-ui__info-panel-sm.exp-ui_top{top:-65%}.exp-ui__info-panel-sm.exp-ui_top .exp-ui__info-panel__title{font-size:16px;line-height:1.1}.exp-ui__info-panel-sm.exp-ui_top .exp-ui__info-panel__meta{font-size:8px;line-height:1.1}.exp-ui__info-panel-md.exp-ui_top{top:-55%}.exp-ui__info-panel-md.exp-ui_top .exp-ui__info-panel__title{font-size:19px;line-height:1.1}.exp-ui__info-panel-md.exp-ui_top .exp-ui__info-panel__meta{font-size:10px;line-height:1.1}.exp-ui__info-panel-lg.exp-ui_top{top:-40%}.exp-ui__info-panel-lg.exp-ui_top .exp-ui__info-panel__title{font-size:20px;line-height:1.1}.exp-ui__info-panel-lg.exp-ui_top .exp-ui__info-panel__meta{font-size:10px;line-height:1.1}.exp-ui__info-panel-xl.exp-ui_top{top:-33%}.exp-ui__info-panel-xl.exp-ui_top .exp-ui__info-panel__title{font-size:22px;line-height:1.1}.exp-ui__info-panel-xl.exp-ui_top .exp-ui__info-panel__meta{font-size:12px;line-height:1.1}.exp-ui__info-panel.exp-ui_outer-left{top:0;bottom:0;right:100%}.exp-ui__info-panel.exp-ui_outer-left .exp-ui__info-panel__title{font-size:24px;line-height:1.1}.exp-ui__info-panel.exp-ui_outer-left .exp-ui__info-panel__title p{-webkit-line-clamp:3}@media only screen and (max-width: 768px){.exp-ui__info-panel.exp-ui_outer-left .exp-ui__info-panel__title p{-webkit-line-clamp:2}}@media only screen and (max-width: 768px){.exp-ui__info-panel.exp-ui_outer-left .exp-ui__info-panel__title{font-size:16px;padding:0 10px}}.exp-ui__info-panel.exp-ui_outer-left .exp-ui__info-panel__title .exp-ui__animated-text__line{padding:0}.exp-ui__info-panel.exp-ui_outer-left .exp-ui__info-panel__meta{font-size:10px;line-height:1.1}@media only screen and (max-width: 768px){.exp-ui__info-panel.exp-ui_outer-left .exp-ui__info-panel__meta{font-size:8px;padding:0 10px}}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__up-next{position:absolute;pointer-events:all;font-weight:var(--exco-font-weight);width:100%}.exp-ui__up-next__title{text-align:left;font-size:16px;line-height:16px;font-weight:700;padding-top:20px;padding-left:10px}.exp-ui__up-next__items{margin-top:10px;opacity:1;transition:opacity .1s ease-in-out}.exp-ui__up-next.exp-ui__faded .exp-ui__up-next__items{opacity:0}.exp-ui__up-next__item{display:flex;margin-bottom:10px;height:75px;cursor:pointer;transition:background-color .1s ease-in-out}.exp-ui__up-next__item__poster{width:40%}.exp-ui__up-next__item__title{flex:1;display:flex;align-items:flex-end;text-decoration:underline;font-size:12px;line-height:15px;text-align:left;margin-left:10px}.exp-ui__up-next_sm .exp-ui__up-next__item{height:75px}.exp-ui__up-next_md .exp-ui__up-next__item{height:85px}.exp-ui__up-next_lg .exp-ui__up-next__item{height:105px}.exp-ui__up-next_xl .exp-ui__up-next__item{height:135px}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__next-video-button{display:flex;height:100%;justify-content:center;pointer-events:all}.exp-ui__next-video-button .exp-ui__next-video-button-container{border-radius:50%;background:white;display:flex;justify-content:center;flex-direction:column;height:25px;top:calc(50% - 12.5px);width:25px;position:relative;margin:0 auto}.exp-ui__next-video-button .exp-ui__next-video-button-container .exp-ui__next-video-button-icon{position:relative;left:9px;font-weight:bold;color:var(--exco-upper-sticky-background-color);transform:scale(1, 2);font-family:auto;font-size:18px}.exp-ui__next-video-button .exp-ui__next-video-button-container .exp-ui__next-video-button-icon:before{content:"\\003e";pointer-events:all}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__sticky__full-width__title-wrapper{position:absolute;height:50%;bottom:0;right:100%;z-index:1}.exp-ui__sticky__full-width__title-overlay{position:absolute;height:100%;left:0%;right:100%;background-color:rgba(var(--exco-title-background-color-rgb), 0.9);overflow:hidden !important;transition:right 1s cubic-bezier(0, 0, 0, 1),left 1s cubic-bezier(0, 0, 0, 1)}.exp-ui__sticky__full-width__title-overlay.exp-ui__in{right:0%}.exp-ui__sticky__full-width__title-overlay.exp-ui__out{left:100%;right:0%}.exp-ui__sticky__full-width__title-overlay.exp-ui__out-force{transition:none;visibility:hidden;left:0%;right:100%}.exp-ui__sticky__full-width__title{padding:10px;width:100%;height:100%;line-height:17px;font-size:14px;color:var(--exco-title-text-color);display:flex;align-items:center}.exp-ui__sticky__full-width__title p{margin:0 !important;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;font-weight:var(--exco-font-weight);font-family:var(--exco-font-family)}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__sticky{pointer-events:all}.exp-ui__sticky .exp-ui__cta{font-size:15px;line-height:16px}@media only screen and (max-width: 768px){.exp-ui__sticky .exp-ui__cta{font-size:11px;bottom:0}}.exp-ui__sticky .exp-ui__cta.cta-button-hide-on-device,.exp-ui__sticky .exp-ui__cta.cta-button-hide-on-sticky{display:none !important}.exp-ui__sticky .exp-ui__cta .exp-ui__cta-button{transform:translateY(0)}.exp-ui__sticky .exp-ui__cta .exp-ui__cta-button{padding:5px 12px;animation:none;bottom:-13px}.exp-ui__sticky .exp-ui__cta .exp-ui__cta-button .exp-ui__cta-icon svg{width:15px;height:15px}.exp-ui__sticky .exp-ui__sticky__close-btn{position:absolute;top:-23px;right:-3px;z-index:9999;height:22px;width:22px;display:flex;justify-content:center;align-items:center;cursor:pointer}.exp-ui__sticky.exp-ui__sticky__full-width{top:0;left:100%;width:var(--exco-remaining-width-sticky);position:absolute;height:100%;background:var(--exco-upper-sticky-background-color)}.exp-ui__sticky.exp-ui__sticky__full-width .exp-ui__sticky__close-btn{top:4px;right:4px}.exp-ui__sticky.exp-ui__sticky__full-width:not(.exp-ui__sticky-position__upper-native):not(.exp-ui__sticky-position__bottom-native) .exp-ui__sticky__close-btn{background:rgba(255,255,255,0.25);border:2px solid black;border-radius:50%}.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__upper-large .exp-ui__cta-fullscreen,.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__bottom-large .exp-ui__cta-fullscreen{display:none}.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__upper-large .exp-ui__cta,.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__bottom-large .exp-ui__cta{left:unset;transform:unset;background-color:var(--exco-cta-color-sticky);top:0;height:100%;width:100%;display:flex;flex-wrap:wrap;align-items:center;position:absolute}.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__upper-large .exp-ui__cta .exp-ui__cta-button,.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__bottom-large .exp-ui__cta .exp-ui__cta-button{font-size:14px;font-weight:600;font-variant:all-small-caps;line-height:20px;box-sizing:border-box;display:flex;flex-direction:column;justify-content:center;align-items:center;position:unset;border-radius:0;height:auto;margin:0;padding:0}.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__upper-large .exp-ui__cta .exp-ui__cta-button__text,.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__bottom-large .exp-ui__cta .exp-ui__cta-button__text{margin:0 auto}.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__upper-large .exp-ui__cta .exp-ui__cta-button .exp-ui__cta-icon,.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__bottom-large .exp-ui__cta .exp-ui__cta-button .exp-ui__cta-icon{margin:0 auto;height:32px}.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__upper-large .exp-ui__cta .exp-ui__cta-button .exp-ui__cta-icon svg,.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__bottom-large .exp-ui__cta .exp-ui__cta-button .exp-ui__cta-icon svg{width:32px;height:32px}.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__upper-large .exp-ui__cta .exp-ui__cta-button .exp-ui__cta-text,.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__bottom-large .exp-ui__cta .exp-ui__cta-button .exp-ui__cta-text{max-width:100%;white-space:normal;overflow:hidden;text-overflow:ellipsis}.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__upper-small .exp-ui__cta,.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__bottom-small .exp-ui__cta{left:unset;transform:unset;background-color:var(--exco-cta-color-sticky);top:0;height:100%;width:100%;display:flex;position:absolute}.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__upper-small .exp-ui__cta .exp-ui__cta-button,.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__bottom-small .exp-ui__cta .exp-ui__cta-button{font-size:14px;box-sizing:border-box;display:flex;flex-direction:column;justify-content:center;align-items:center;position:unset;border-radius:0}.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__upper-small .exp-ui__cta .exp-ui__cta-button__text,.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__bottom-small .exp-ui__cta .exp-ui__cta-button__text{margin:0 auto}.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__upper-small .exp-ui__cta .exp-ui__cta-button .exp-ui__cta-icon,.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__bottom-small .exp-ui__cta .exp-ui__cta-button .exp-ui__cta-icon{margin:0 auto;height:32px}.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__upper-small .exp-ui__cta .exp-ui__cta-button .exp-ui__cta-icon svg,.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__bottom-small .exp-ui__cta .exp-ui__cta-button .exp-ui__cta-icon svg{width:32px;height:32px}.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__upper-small .exp-ui__cta .exp-ui__cta-button .exp-ui__cta-text,.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__bottom-small .exp-ui__cta .exp-ui__cta-button .exp-ui__cta-text{max-width:100%;white-space:normal;overflow:hidden;text-overflow:ellipsis}.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__upper-native .exp-ui__cta,.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__bottom-native .exp-ui__cta{left:unset;transform:unset;background-color:var(--exco-cta-color-sticky);bottom:0;height:50%;display:flex;position:absolute}.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__upper-native .exp-ui__cta .exp-ui__cta-button,.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__bottom-native .exp-ui__cta .exp-ui__cta-button{font-size:14px;box-sizing:border-box;display:flex;flex-direction:column;justify-content:center;align-items:center;position:unset;border-radius:0}.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__upper-native .exp-ui__cta .exp-ui__cta-button__text,.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__bottom-native .exp-ui__cta .exp-ui__cta-button__text{margin:0 auto}.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__upper-native .exp-ui__cta .exp-ui__cta-button .exp-ui__cta-icon,.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__bottom-native .exp-ui__cta .exp-ui__cta-button .exp-ui__cta-icon{margin:0 auto;height:25px}.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__upper-native .exp-ui__cta .exp-ui__cta-button .exp-ui__cta-icon svg,.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__bottom-native .exp-ui__cta .exp-ui__cta-button .exp-ui__cta-icon svg{width:25px;height:25px}.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__upper-native .exp-ui__cta .exp-ui__cta-button .exp-ui__cta-text,.exp-ui__sticky.exp-ui__sticky__full-width.exp-ui__sticky-position__bottom-native .exp-ui__cta .exp-ui__cta-button .exp-ui__cta-text{max-width:100%;white-space:normal;overflow:hidden;text-overflow:ellipsis}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__wrapper.exp-ui__fullscreen .exp-ui__backdrop{pointer-events:none}.exp-ui__backdrop{pointer-events:all;position:fixed;top:0;bottom:0;right:0;left:0;z-index:-1;background-color:#000;opacity:0;transition:opacity .2s ease-in-out}.exp-ui__backdrop.exp-ui__state__shown{opacity:0.9 !important}.exp-ui__backdrop__close-btn{pointer-events:all;position:fixed;top:20px;right:20px;width:50px;height:50px;background:#666;z-index:13;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__fullscreen-button{z-index:14;position:absolute;right:10px;bottom:5px;pointer-events:all;cursor:pointer;opacity:0;transition:all .2s ease-in-out}.exp-ui__fullscreen-button:hover{transform:scale(1.1)}.pbs__player{display:flex;align-items:center;justify-content:center}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.pbs[data-pbs-pagination="true"][data-pbs-device="mobile"]:not([data-pbs-position="sticky"]) .pbs__player{margin-top:unset !important}.exp-ui__popup-ui .exp-ui__play-button,.exp-ui__popup-ui .exp-ui__pause-button,.exp-ui__popup-ui .exp-ui__fullscreen-button{display:flex}.exp-ui__popup-ui .exp-ui__play-button,.exp-ui__popup-ui .exp-ui__pause-button{position:absolute;z-index:14;bottom:5px;left:10px;opacity:0;transition:opacity .2s ease-in-out}@media only screen and (max-width: 768px){.pbs[data-pbs-device="mobile"]:not([data-pbs-position="sticky"]){border-top-right-radius:0;border-top-left-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.pbs[data-pbs-device="mobile"]:not([data-pbs-position="sticky"]) .pbs-transition-wrapper{border-top-right-radius:0 !important;border-top-left-radius:0 !important;border-bottom-right-radius:0 !important;border-bottom-left-radius:0 !important}.pbs[data-pbs-device="mobile"]:not([data-pbs-position="sticky"]) .pb-stream{border-top-right-radius:0;border-top-left-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.pbs[data-pbs-device="mobile"]:not([data-pbs-position="sticky"]) .pb-stream .avp-p-wrapper div[id^="content_"]{border-top-right-radius:0;border-top-left-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0}}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__textual-feed__wrapper{pointer-events:all;position:absolute;overflow:hidden;opacity:0;transition:opacity .3s ease-in-out;width:100%;font-weight:var(--exco-font-weight);font-family:var(--exco-font-family)}.exp-ui__textual-feed__wrapper_shown{opacity:1}.exp-ui__textual-feed__wrapper_disabled{opacity:0.4 !important;pointer-events:none !important}.exp-ui__textual-feed__wrapper .exp-ui__textual-feed.layout-bullets{border-left:2px solid;margin:0;font-size:14px;padding-left:20px;list-style:none}.exp-ui__textual-feed__wrapper .exp-ui__textual-feed.layout-bullets .exp-ui__textual-feed__item{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;opacity:0;transition:opacity .3s ease-in-out}.exp-ui__textual-feed__wrapper .exp-ui__textual-feed.layout-bullets .exp-ui__textual-feed__item_shown{opacity:1}.exp-ui__textual-feed__wrapper .exp-ui__textual-feed.layout-bullets .exp-ui__textual-feed__item::before{content:\'\\2022\';position:absolute;left:10px;font-weight:bold}.exp-ui__textual-feed__wrapper .exp-ui__textual-feed.layout-bullets .exp-ui__textual-feed__item .exp-ui__textual-feed__item-link{color:#000}.exp-ui__textual-feed__wrapper .exp-ui__textual-feed.layout-scrolling-stripe{overflow:hidden;border-left:2px solid;margin:0;font-size:14px;padding-left:0;list-style:none;display:flex;flex-wrap:nowrap}@keyframes move{0%{transform:translate(0, 0)}100%{transform:translate(-100%, 0)}}.exp-ui__textual-feed__wrapper .exp-ui__textual-feed.layout-scrolling-stripe .exp-ui__textual-feed__scrolling-item{display:flex;padding-left:100%}.exp-ui__textual-feed__wrapper .exp-ui__textual-feed.layout-scrolling-stripe .exp-ui__textual-feed__item{white-space:nowrap;margin-right:15px;margin-left:10px;position:relative;opacity:0;transition:opacity .3s ease-in-out}.exp-ui__textual-feed__wrapper .exp-ui__textual-feed.layout-scrolling-stripe .exp-ui__textual-feed__item_shown{opacity:1}.exp-ui__textual-feed__wrapper .exp-ui__textual-feed.layout-scrolling-stripe .exp-ui__textual-feed__item:not(:nth-child(1))::before{content:\'\\2022\';position:absolute;left:-15px;font-weight:bold}.exp-ui__textual-feed__wrapper .exp-ui__textual-feed.layout-scrolling-stripe .exp-ui__textual-feed__item .exp-ui__textual-feed__item-link{color:#000}.exp-ui__textual-feed__wrapper .exp-ui__textual-feed.layout-two-in-row{overflow:hidden;margin:0;font-size:14px;padding-left:0;list-style:none;display:flex;flex-wrap:nowrap}.exp-ui__textual-feed__wrapper .exp-ui__textual-feed.layout-two-in-row .exp-ui__textual-feed__item{border-left:2px solid;margin-right:15px;position:relative;width:50%;display:flex;opacity:0;transition:opacity .3s ease-in-out}.exp-ui__textual-feed__wrapper .exp-ui__textual-feed.layout-two-in-row .exp-ui__textual-feed__item_shown{opacity:1}.exp-ui__textual-feed__wrapper .exp-ui__textual-feed.layout-two-in-row .exp-ui__textual-feed__item .exp-ui__textual-feed__item-link{display:flex;color:#000;text-decoration:none}.exp-ui__textual-feed__wrapper .exp-ui__textual-feed.layout-two-in-row .exp-ui__textual-feed__item .exp-ui__textual-feed__item-link:hover .exp-ui__textual-feed__item-title{text-decoration:underline}.exp-ui__textual-feed__wrapper .exp-ui__textual-feed.layout-two-in-row .exp-ui__textual-feed__item .exp-ui__textual-feed__item-image{width:64px;height:64px;min-width:64px;min-height:64px;margin-right:10px;object-fit:cover}.exp-ui__textual-feed__wrapper .exp-ui__textual-feed.layout-two-in-row .exp-ui__textual-feed__item .exp-ui__textual-feed__item-meta{display:flex;flex-direction:column;justify-content:space-between}.exp-ui__textual-feed__wrapper .exp-ui__textual-feed.layout-two-in-row .exp-ui__textual-feed__item .exp-ui__textual-feed__item-date,.exp-ui__textual-feed__wrapper .exp-ui__textual-feed.layout-two-in-row .exp-ui__textual-feed__item .exp-ui__textual-feed__item-title{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden}.exp-ui__textual-feed__wrapper .exp-ui__textual-feed.layout-two-in-row .exp-ui__textual-feed__item .exp-ui__textual-feed__item-title{-webkit-line-clamp:2;max-height:40px}.exp-ui__textual-feed__wrapper .exp-ui__textual-feed.layout-two-in-row .exp-ui__textual-feed__item .exp-ui__textual-feed__item-date{-webkit-line-clamp:1;font-size:10px;max-height:20px}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.exp-ui__up-next-video{width:30%;position:absolute;z-index:16;pointer-events:all;opacity:0;overflow:hidden}.exp-ui__up-next-video:not(.button-layout){right:15px;bottom:15px}.exp-ui__up-next-video:not(.button-layout):hover .exp-ui__up-next-video__title span{opacity:0;visibility:hidden}.exp-ui__up-next-video:not(.button-layout):hover .exp-ui__up-next-video__title svg{opacity:1;visibility:visible}.exp-ui__up-next-video:not(.button-layout) .exp-ui__up-next-video__title span,.exp-ui__up-next-video:not(.button-layout) .exp-ui__up-next-video__title svg{top:50%;left:50%;z-index:3;transform:translate(-50%, -50%);position:absolute;transition:opacity .1s ease-in-out}.exp-ui__up-next-video:not(.button-layout) .exp-ui__up-next-video__title svg{visibility:hidden;cursor:pointer;opacity:0}.exp-ui__up-next-video:not(.button-layout) .exp-ui__up-next-video__poster{width:100%;padding-bottom:56.2%;height:0}.exp-ui__up-next-video.button-layout{width:auto;border-radius:100px !important;left:50%;top:50%;transform:translate(-50%, -50%);padding-right:15px}.exp-ui__up-next-video.button-layout.widesticky-layout{width:auto;left:50%;top:unset;bottom:50%;transform:translate(-50%, 50%)}.exp-ui__up-next-video.button-layout .exp-ui__up-next-video__title{z-index:3;width:100%;position:relative;display:flex;align-items:center}.exp-ui__up-next-video.button-layout .exp-ui__up-next-video__title span{margin-left:10px;white-space:nowrap}.exp-ui__up-next-video.button-layout .exp-ui__up-next-video__title svg{min-width:42px}.exp-ui__up-next-video.button-layout .exp-ui__up-next-video__poster{width:100%;height:42px;position:absolute;top:0}.exp-ui__up-next-video.button-layout .exp-ui__up-next-video__poster .exp-ui__up-next-video__overlay,.exp-ui__up-next-video.button-layout .exp-ui__up-next-video__poster .exp-ui__up-next-video__loader{opacity:.7}.exp-ui__up-next-video.button-layout .exp-ui__up-next-video__poster .exp-ui__poster-smart{opacity:0}.exp-ui__up-next-video .exp-ui__up-next-video__title{color:#fff;font-weight:var(--exco-font-weight);font-family:var(--exco-font-family)}.exp-ui__up-next-video .exp-ui__up-next-video__poster .exp-ui__up-next-video__loader{position:absolute;width:0;height:100%;background-color:red;z-index:2;opacity:.4}.exp-ui__up-next-video .exp-ui__up-next-video__poster .exp-ui__up-next-video__overlay{position:absolute;width:100%;height:100%;background-color:#000;z-index:1;opacity:.2}.exp-ui__up-next-video .exp-ui__up-next-video__poster .exp-ui__poster-smart{position:absolute;opacity:1;transition:opacity .1s ease-in-out}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.pbs .avp-p-gui{z-index:-1 !important}.pbs .avp-p-wrapper div[id^=\'ads_\'] #gui{display:none}.pbs .avp-logo-0.top-logo.avp-pos-abs{display:none}.pbs #skip-btn{display:none !important}.exp-ui__wrapper{position:absolute;z-index:2;pointer-events:none;top:0;right:0;bottom:0;left:0;font-weight:var(--exco-font-weight);font-family:var(--exco-font-family);transition:background-color .3s ease-in-out}.exp-ui__wrapper.exp-ui__state__hovered{background-color:rgba(0,0,0,0.1) !important}.exp-ui__wrapper *{box-sizing:border-box}.pbs[data-pbs-device="desktop"][data-pbs-position="sticky"] .exp-ui__wrapper{background:linear-gradient(180deg, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0) 19.72%, rgba(0,0,0,0) 31.47%)}.exp-ui__state__shown{opacity:1 !important}.exp-ui__state__hidden{z-index:-1;visibility:hidden}.exp-ui__state__clickable{cursor:pointer;pointer-events:all}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.pbs{position:relative;height:var(--pbs-height);max-width:var(--pbs-width);margin-top:var(--pbs-margin-top);margin-right:var(--pbs-margin-right);margin-bottom:var(--pbs-margin-bottom);margin-left:var(--pbs-margin-left)}.pbs__player{position:relative}.pbs__player #exco_sticky-x-button-container.exco_sticky-upper{z-index:17}.pb-stream{overflow:hidden}[data-pbs-content-type="rss"] .pb-stream{pointer-events:none}[data-pbs-content-type="rss"][data-pbs-player="ads"] .pb-stream{pointer-events:unset}.pbs video:first-child{object-fit:cover}*[data-pbs-display="false"]{display:none}*[data-pbs-display="block"]{display:none}*[data-pbs-root="true"]{display:block}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'[data-container="exco-placement"]{visibility:hidden;position:absolute;display:none;width:100%}.pbs .exco__player-hidden{opacity:0}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.pbs{position:relative;height:var(--pbs-height);max-width:var(--pbs-width);margin-top:var(--pbs-margin-top);margin-right:var(--pbs-margin-right);margin-bottom:var(--pbs-margin-bottom);margin-left:var(--pbs-margin-left)}.pbs__player{position:relative}.pbs__player #exco_sticky-x-button-container.exco_sticky-upper{z-index:17}.pb-stream{overflow:hidden}[data-pbs-content-type="rss"] .pb-stream{pointer-events:none}[data-pbs-content-type="rss"][data-pbs-player="ads"] .pb-stream{pointer-events:unset}.pbs video:first-child{object-fit:cover}*[data-pbs-display="false"]{display:none}*[data-pbs-display="block"]{display:none}*[data-pbs-root="true"]{display:block}.pbs__display-ad{background:rgba(0,0,0,0.75);position:absolute;z-index:20;top:0;bottom:0;left:0;right:0;display:none}.pbs[data-pbs-display-ads="ended"] .pbs__display-ad{display:none}.pbs[data-pbs-display-ads="playing"] .pbs__display-ad{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.pbs__display-ad-dfp-ad-unit{width:100%;text-align:center}.pbs__display-ad-close-button{border:rgba(255,255,255,0.75);background-color:#efefef;width:24px;height:24px;border-radius:50%;position:absolute;cursor:pointer;padding:0;top:10px;right:10px}.pbs[data-pbs-size=\'tiny\'] .pbs__display-ad-close-button{display:none}.pbs[data-pbs-size=\'small-tiny\'] .pbs__display-ad-close-button{display:none}.pbs[data-pbs-size=\'small\'] .pbs__display-ad-close-button{width:18px;height:18px;top:5px;right:5px}.pbs__display-ad-close-button:after,.pbs__display-ad-close-button:before{content:"";position:absolute;height:1px;width:11px;top:50%;left:50%;margin-left:-5.5px;margin-top:-1px;background:black}.pbs__display-ad-close-button:before{transform:rotate(45deg)}.pbs__display-ad-close-button:after{transform:rotate(-45deg)}.pbs__display-ad-counter{position:absolute;top:16px;left:17px;font-size:11px;color:rgba(255,255,255,0.75)}.pbs[data-pbs-size=\'tiny\'] .pbs__display-ad-counter{display:none}.pbs[data-pbs-size=\'small-tiny\'] .pbs__display-ad-counter{display:none}.pbs[data-pbs-size=\'small\'] .pbs__display-ad-counter{font-size:10px;top:9px;left:5px}\n','']),e.exports=t},function(e,t,i){var n=i(13);t=n(!1),t.push([e.i,'.pbs{position:relative;height:var(--pbs-height);max-width:var(--pbs-width);margin-top:var(--pbs-margin-top);margin-right:var(--pbs-margin-right);margin-bottom:var(--pbs-margin-bottom);margin-left:var(--pbs-margin-left)}.pbs__player{position:relative}.pbs__player #exco_sticky-x-button-container.exco_sticky-upper{z-index:17}.pb-stream{overflow:hidden}[data-pbs-content-type="rss"] .pb-stream{pointer-events:none}[data-pbs-content-type="rss"][data-pbs-player="ads"] .pb-stream{pointer-events:unset}.pbs video:first-child{object-fit:cover}*[data-pbs-display="false"]{display:none}*[data-pbs-display="block"]{display:none}*[data-pbs-root="true"]{display:block}.pbs .exp-display-ad{background:rgba(255,255,255,0.25);backdrop-filter:blur(5px);position:absolute;z-index:20;display:flex;justify-content:center;align-items:center;flex-wrap:wrap;top:0;bottom:0;left:0;right:0}.pbs .exp-display-ad.exp-display-ad__hidden{z-index:-1}.pbs .exp-display-ad.exp-display-ad__overlay{background:linear-gradient(45deg, #bdc3c7 0%, #2e3131 100%);top:unset;bottom:0;right:0}.pbs .exp-display-ad.exp-display-ad__hidden.exp-display-ad__overlay{display:none}.pbs .exp-display-ad__dfp-ad-unit{text-align:center;width:100%}.pbs .exp-display-ad__close-button{border:rgba(255,255,255,0.75);background-color:#efefef;width:24px;height:24px;border-radius:50%;position:absolute;cursor:pointer;padding:0;top:10px;right:10px}.pbs .exp-display-ad__close-button:after,.pbs .exp-display-ad__close-button:before{content:"";position:absolute;height:1px;width:11px;top:50%;left:50%;margin-left:-5.5px;margin-top:-1px;background:black}.pbs .exp-display-ad__close-button:before{transform:rotate(45deg)}.pbs .exp-display-ad__close-button:after{transform:rotate(-45deg)}.pbs .exp-display-ad__counter{position:absolute;top:16px;left:17px;font-size:11px;color:rgba(255,255,255,0.75)}.pbs[data-pbs-position="sticky"][data-pbs-device="mobile"]{--horizontal-gap: calc(calc(var(--pbs-width) + var(--exco-remaining-width-sticky) - 320px) / 2)}.pbs[data-pbs-position="sticky"][data-pbs-device="mobile"] .exp-display-ad__dfp-ad-unit{position:relative;left:var(--horizontal-gap)}.pbs[data-pbs-position="sticky"][data-pbs-device="mobile"] .exp-display-ad__close-button{top:1px;right:calc((var(--exco-remaining-width-sticky) - 1px) * -1)}.pbs[data-pbs-position="sticky"][data-pbs-device="mobile"] .exp-display-ad__counter{top:8px}.pbs[data-pbs-position="sticky"][data-pbs-device="mobile"][data-pbs-display-ads="playing"] .exp-ui__sticky__close-btn{display:none}\n','']),e.exports=t},function(e,t,i){'use strict';function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e){for(var t=1,i;t<arguments.length;t++)i=null==arguments[t]?{}:arguments[t],t%2?n(Object(i),!0).forEach(function(t){vn()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))});return e}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function p(e){for(var t=1,i;t<arguments.length;t++)i=null==arguments[t]?{}:arguments[t],t%2?r(Object(i),!0).forEach(function(t){vn()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))});return e}function u(e){var t=_();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function _(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function v(e){for(var t=1,i;t<arguments.length;t++)i=null==arguments[t]?{}:arguments[t],t%2?c(Object(i),!0).forEach(function(t){vn()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))});return e}function x(e){this.version=4,this.intentIqData={},this.wasServerCalled=!1,this.wasCallFromConstructor=!1,this.wasCallbackFired=!1,this.wasDebugCheck=!1,this.isDebugMode=!1,this.callCount=0,this.noDataCounter=0,this.failCount=0,this.metadataConstant=256,this.syncRefreshMillis=36e5,this.shouldCallServer=!1,this.prebidDetectionRetries=100,this.prebidDellayBeforeRetry=20,this.pbjs=void 0,this.translateMetadata=function(e){try{var t=e.split('.');return((+t[0]*this.metadataConstant+ +t[1])*this.metadataConstant+ +t[2])*this.metadataConstant+ +t[3]}catch(t){return NaN}},this.vrOperationalMode='VR',this.pixelOperationalMode='PIXEL',this.dualOperationalMode='DUAL',this.getOperationalMode=function(e){try{switch(e.toLowerCase()){case'bidenhancement':return this.vrOperationalMode;case'sync':return this.pixelOperationalMode;case'both':return this.dualOperationalMode;}}catch(t){this.logger(t)}return'DUAL'},this.verifyIdType=function(e){return 0===e||1===e||3===e||4===e?e:-1},this.intentIqConfig={partner:e?e.partner:null,refreshInMillis:e&&'number'==typeof e.refreshInMillis?e.refreshInMillis:432e5,timeoutInMillis:e&&'number'==typeof e.timeoutInMillis?e.timeoutInMillis:3e3,isAsyncServerRequest:!(e&&'boolean'==typeof e.isAsyncServerRequest)||e.isAsyncServerRequest,callback:e&&'function'==typeof e.callback?e.callback:null,enhanceRequests:!(e&&'boolean'==typeof e.enhanceRequests)||e.enhanceRequests,sourceMetaData:e&&'string'==typeof e.sourceMetaData?this.translateMetadata(e.sourceMetaData):this.translateMetadata(''),iiqServerAddress:e&&'string'==typeof e.iiqServerAddress?e.iiqServerAddress:'https://api.intentiq.com',iiqPixelServerAddress:e&&'string'==typeof e.iiqPixelServerAddress?e.iiqPixelServerAddress:'https://sync.intentiq.com',isCellular:!!(e&&'boolean'==typeof e.isCellular)&&e.isCellular,mode:e&&'string'==typeof e.mode?this.getOperationalMode(e.mode):'DUAL',partnerClientId:e&&'string'==typeof e.partnerClientId?e.partnerClientId:'',partnerClientIdType:e&&'number'==typeof e.partnerClientIdType?this.verifyIdType(e.partnerClientIdType):-1},this.currentDataTTl=this.intentIqConfig.refreshInMillis,this.intentIqSyncPartnerId=1048688155,this.FIRST_PARTY_KEY='_iiq_fdata',this.PARTNER_DATA_KEY=this.FIRST_PARTY_KEY+'_'+this.intentIqConfig.partner,this.LAST_SYNC_KEY='_iiq_sync';var t=this;this.logger=function(e){this.isDebug()&&console.log(e)}.bind(this),this.updateMetaData=function(e){this.intentIqConfig.sourceMetaData=this.translateMetadata(e)},this.generateGUID=function(){var e=new Date().getTime();return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(t){var i=0|(e+16*Math.random())%16;return e=rn(e/16),('x'===t?i:8|3&i).toString(16)})},this.isDebug=function(){if(!this.wasDebugCheck){var e='debug',t=window.location.href;(-1!==t.indexOf('?'+e+'=true')||-1!==t.indexOf('&'+e+'='))&&(this.isDebugMode=!0),this.wasDebugCheck=!0}return this.isDebugMode},this.hasLocalStorage=function(){try{return!!window.localStorage}catch(t){this.failCount++,this.logger('Local storage api disabled')}return!1},this.clearCounters=function(){this.callCount=0,this.failCount=0,this.noDataCounter=0},this.readData=function(e){try{if(this.hasLocalStorage())return window.localStorage.getItem(e)}catch(e){this.failCount++,this.logger(e)}return null},this.storeData=function(e,t){try{this.logger('IntentIQ: storing data: key='+e+' value='+t),t&&this.hasLocalStorage()&&window.localStorage.setItem(e,t)}catch(e){this.failCount++,this.logger(e)}},this.generateRandomUsIp=function(){var e=window.localStorage.getItem('_iiq_ip');return e&&(!this.isIpCellular(e)||this.intentIqConfig.isCellular)&&(this.isIpCellular(e)||!this.intentIqConfig.isCellular)||(e=this.generateNewRandomIp(this.intentIqConfig.isCellular),window.localStorage.setItem('_iiq_ip',e)),e},this.isIpCellular=function(e){return e.startsWith('107.77.208.')},this.generateNewRandomIp=function(e){var t='98.115.221.';return e&&(t='107.77.208.'),t+=rn(255*Math.random()),t},this.tryParse=function(e){try{return JSON.parse(e)}catch(e){this.failCount++,this.logger(e)}return null},this.tryParseInt=function(e){try{return parseInt(e,10)}catch(e){return this.failCount++,this.logger(e),-1}},this.getRequest=function(e,t,i){var n=new XMLHttpRequest;this.intentIqConfig.isAsyncServerRequest?n.open('GET',e,!0):n.open('GET',e,!1),n.withCredentials=!0,n.timeout=t,n.onreadystatechange=function(){i&&4===n.readyState&&i(n.responseText)},n.send()},this.createRequestUrl=function(){var e=this.intentIqConfig.iiqServerAddress+'/profiles_engine/ProfilesEngineServlet?at=39&mi=10&dpi='.concat(this.intentIqConfig.partner,'&pt=17&dpn=1');return e+=this.intentIqConfig.pai?'&pai='+encodeURIComponent(this.intentIqConfig.pai):'',e+=this.version?'&jsver='+encodeURIComponent(this.version):'',e=this.appendFirstPartyDataToUrl(e),e+='number'==typeof this.callCount?'&iiqcallcount='+encodeURIComponent(this.callCount):'',e+='number'==typeof this.failCount?'&iiqfailcount='+encodeURIComponent(this.failCount):'',e+='number'==typeof this.noDataCounter?'&iiqnodata='+encodeURIComponent(0<this.noDataCounter):'',e+='&iiqlocalstorageenabled='+encodeURIComponent(this.failCount),e=this.addUniquenessToUrl(e),e=this.addMetaData(e),e+='&cttl='+encodeURIComponent(this.currentDataTTl),e=this.appendPartnersFirsyParty(e),e},this.addMetaData=function(e){return isNaN(this.intentIqConfig.sourceMetaData)?e:(e+='&fbp='+this.intentIqConfig.sourceMetaData,e)},this.addUniquenessToUrl=function(e){return e+='&tsrnd='+rn(1e3*Math.random())+'_'+new Date().getTime(),e},this.appendFirstPartyDataToUrl=function(e){return e+=this.isDebug()?'&ip='+encodeURIComponent(this.generateRandomUsIp()):'',e+=this.firstPartyData.pid?'&pid='+encodeURIComponent(this.firstPartyData.pid):'',e+=this.firstPartyData.dbsaved?'&dbsaved='+encodeURIComponent(this.firstPartyData.dbsaved):'',e+=this.firstPartyData.pcid?'&iiqidtype=2&iiqpcid='+encodeURIComponent(this.firstPartyData.pcid):'',e+=this.firstPartyData.pcidDate?'&iiqpciddate='+encodeURIComponent(this.firstPartyData.pcidDate):'',e},this.containsEids=function(e){var t=!1;try{t='data'in e&&'eids'in e.data&&Array.isArray(e.data.eids)&&0<e.data.eids.length}catch(t){}return t},this.loadPartnerData=function(){var e=this.tryParse(this.readData(this.PARTNER_DATA_KEY));return e?(e.data&&(this.intentIqData=e.data),'number'==typeof e.callCount&&(this.callCount=e.callCount),'number'==typeof e.failCount&&(this.failCount=e.failCount),'number'==typeof e.noDataCounter&&(this.noDataCounter=e.noDataCounter),e.date&&(this.shouldCallServer=Date.now()-e.date>this.currentDataTTl),'number'==typeof e.cttl&&(this.currentDataTTl=e.cttl,this.logger('Custom data TTL present, value: '+this.currentDataTTl)),this.logger('Data read: '+JSON.stringify(e))):(e={},this.shouldCallServer=!0),e},this.loadOrCreateFirstPartyData=function(){var e=this.tryParse(this.readData(this.FIRST_PARTY_KEY));if(!e||!e.pcid){var t=this.generateGUID();e={pcid:t,pcidDate:Date.now()},this.storeData(this.FIRST_PARTY_KEY,JSON.stringify(e))}else e&&!e.pcidDate&&(e.pcidDate=Date.now(),this.storeData(this.FIRST_PARTY_KEY,JSON.stringify(e)));return e},this.makeServerRequest=function(e){var t=this,i=!1;this.logger('Sending request'),this.getRequest(e,this.intentIqConfig.timeoutInMillis,function(e){var n=t.tryParse(e);n&&(t.partnerData.date=Date.now(),'pid'in n&&(t.firstPartyData.pid=n.pid,i=!0),'dbsaved'in n&&(t.firstPartyData.dbsaved=n.dbsaved,i=!0),'cttl'in n?(t.currentDataTTl=n.cttl,t.logger('Received custom TTL from server, value: '+t.currentDataTTl)):(t.currentDataTTl=t.intentIqConfig.refreshInMillis,t.logger('No custom TTL from server, setting customers value: '+t.currentDataTTl)),t.clearCounters(),!t.containsEids(n)&&++t.noDataCounter,n.ls&&(t.partnerData.data=n.data,t.intentIqData=n.data),t.logger('Received Data: '+JSON.stringify(n))),i&&t.storeData(t.FIRST_PARTY_KEY,JSON.stringify(t.firstPartyData)),t.savePartnerDataToLocalStore(),t.intentIqConfig.callback&&!t.wasCallbackFired&&(t.intentIqConfig.callback(t.intentIqData),t.wasCallbackFired=!0)})},this.savePartnerDataToLocalStore=function(){this.partnerData||(this.partnerData=this.tryParse(this.readData(this.PARTNER_DATA_KEY))),this.partnerData&&(this.partnerData.callCount=this.callCount,this.partnerData.failCount=this.failCount,this.partnerData.noDataCounter=this.noDataCounter,this.partnerData.cttl=this.currentDataTTl,this.storeData(this.PARTNER_DATA_KEY,JSON.stringify(this.partnerData)))},this.isDefined=function(e){return'undefined'!=typeof e&&null!=e},this.isEmptyObjAndArray=function(e){return!e||'object'==vs()(e)&&this.isEmpty(e)},this.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},this.appendImage=function(e){if(this.isDefined(e)){var t=document.createElement('img');t.src=e,t.width=1,t.height=1,document.body.appendChild(t)}},this.appendPartnersFirsyParty=function(e){try{if(-1===this.intentIqConfig.partnerClientIdType)return e;''!==this.intentIqConfig.partnerClientId&&(e=e+'&pcid='+this.intentIqConfig.partnerClientId,e=e+'&idtype='+this.intentIqConfig.partnerClientIdType)}catch(t){this.logger(t)}return e},this.createPixelUrl=function(){var e=this.intentIqConfig.iiqPixelServerAddress+'/profiles_engine/ProfilesEngineServlet?at=20&mi=10&secure=1';return e+='&dpi='+this.intentIqSyncPartnerId,e+='&rnd='+this.getRandom(0,1e6),e=this.appendFirstPartyDataToUrl(e),e=this.addUniquenessToUrl(e),e=this.addMetaData(e),e=this.appendPartnersFirsyParty(e),e},this.pixelSync=function(){try{var e=this.readData(this.LAST_SYNC_KEY);if(!e||Date.now()-e>this.syncRefreshMillis){var t=this.createPixelUrl();this.appendImage(t),this.storeData(this.LAST_SYNC_KEY,Date.now()+'')}}catch(t){this.logger('Error adding pixel to DOM '+t)}},this.getRandom=function(e,t){return rn(Math.random()*(t-e+1)+e)},this.getIntentIqData=function(){try{if(this.intentIqConfig.mode===this.pixelOperationalMode)return{};if('number'!=typeof this.intentIqConfig.partner)return this.failCount++,this.logger('intentIqId requires a valid partner to be defined'),{};if(this.partnerData=this.loadPartnerData(),this.wasCallFromConstructor?(this.callCount++,!this.containsEids(this.partnerData)&&++this.noDataCounter):this.wasCallFromConstructor=!0,this.shouldCallServer&&!this.wasServerCalled){this.wasServerCalled=!0;var e=this.createRequestUrl();this.makeServerRequest(e)}else this.savePartnerDataToLocalStore();var t=!this.isEmptyObjAndArray(this.intentIqData)||!this.shouldCallServer;return this.intentIqConfig.callback&&!this.wasCallbackFired&&t&&(this.intentIqConfig.callback(this.intentIqData),this.wasCallbackFired=!0),this.intentIqData||{}}catch(t){this.failCount++,this.logger('Exception occurred during main logic: '+t),this.savePartnerDataToLocalStore()}return{}},this.getIntentIqEids=function(){try{if(t.intentIqConfig.mode===t.pixelOperationalMode)return[];var e=t.getIntentIqData();if(e&&e.eids)return e.eids}catch(i){t.failCount++,t.logger('Parse response eids got exception'),t.savePartnerDataToLocalStore()}return[]},this.enrichRequests=function(t){var e=this;try{if(this.intentIqConfig.mode===this.pixelOperationalMode)return t;if(!this.intentIqConfig.enhanceRequests)return this.logger('Enrichment is turned off'),t;var i=JSON.parse(JSON.stringify(t));return this.logger('======Staring eids enrichment==='),Array.isArray(i)?i.forEach(function(t){e.requestEnhancer(t)}):'method'in i&&this.requestEnhancer(i),this.logger(i),this.logger('======Done eids enrichment==='),i}catch(i){return this.logger(i),t}},this.requestEnhancer=function(e){var t=this,i=[];try{i=this.getIntentIqEids()}catch(t){return void this.logger(t)}if(!i||!Array.isArray(i)||0==i.length)if(this.logger('Failed to get EIDS'),this.isDebug())i=[{source:'domain.com',uids:[{id:'value read from cookie or local storage',atype:1,ext:{stype:'ppuid'}}]},{source:'3rdpartyprovided.com',uids:[{id:'value read from cookie or local storage',atype:3,ext:{type:'sha256email'}}]}];else return;this.logger('Adding eids - '+i);try{if(!('method'in e))return void this.logger('Method field not found. Unsupported format. ')}catch(t){return void this.logger(t)}switch(e.method){case'POST':this.logger('Enriching POST'),this.logger('Updating data filed');try{var n=e.data,o='';e.data.startsWith('"')&&(n=n.substring(1,n.length-1),o='"');var a=JSON.parse(n);'user'in a||(a.user={eids:[]}),'eids'in a.user||(a.user.eids=[]),a.user.eids=a.user.eids.concat(i),e.data=o+JSON.stringify(a)+o}catch(t){this.logger(t)}this.logger('Updating request data.');try{if(!('bidderRequest'in e))return void this.logger('Failed to find bidderRequest')}catch(t){return void this.logger(t)}try{'bids'in e.bidderRequest&&Array.isArray(e.bidderRequest.bids)&&e.bidderRequest.bids.forEach(function(e){'userId'in e?'pubProvidedId'in e.userId?Array.isArray(e.userId.pubProvidedId)&&(e.userId.pubProvidedId=e.userId.pubProvidedId.concat(i)):e.userId.pubProvidedId=i:(t.logger('UserIds not found - adding'),e.userId={},e.userId.pubProvidedId=i),'userIdAsEids'in e?Array.isArray(e.userIdAsEids)&&(e.userIdAsEids=e.userIdAsEids.concat(i)):(t.logger('userIdAsEids not found - adding'),e.userIdAsEids=i)})}catch(t){return void this.logger(t)}break;case'GET':this.logger('GET request skipped - currently not supported');}this.logger('Enchanted request: '+e.bidderRequest)},this.firstPartyData=this.loadOrCreateFirstPartyData(),this.getIntentIqData(),this.intentIqConfig.mode!==this.vrOperationalMode&&this.pixelSync()}function k(){var e=Ts.window();e.CEDATO_TAG=e.CEDATO_TAG||{autoStart:!0,players:[],version:'prefetched'}}function w(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function W(e){for(var t=1,i;t<arguments.length;t++)i=null==arguments[t]?{}:arguments[t],t%2?w(Object(i),!0).forEach(function(t){vn()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))});return e}function X(e){var t=ee();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function ee(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function te(e,t){for(var i in t)e[i]=t[i];return e}function a(e){var t=e.parentNode;t&&t.removeChild(e)}function h(e,n,a){var i={},s,t,o;for(o in n)'key'==o?s=n[o]:'ref'==o?t=n[o]:i[o]=n[o];if(2<arguments.length&&(i.children=3<arguments.length?Fl.call(arguments,2):a),'function'==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===i[o]&&(i[o]=e.defaultProps[o]);return ie(e,i,s,t,null)}function ie(e,a,s,d,p){var r={type:e,props:a,key:s,ref:d,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==p?++l:p};return null==p&&null!=Wl.vnode&&Wl.vnode(r),r}function ne(e){return e.children}function d(e,t){this.props=e,this.context=t}function oe(e,t){if(null==t)return e.__?oe(e.__,e.__.__k.indexOf(e)+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return'function'==typeof e.type?oe(e):null}function y(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return y(e)}}function b(e){(!e.__d&&(e.__d=!0)&&ql.push(e)&&!m.__r++||Gl!==Wl.debounceRendering)&&((Gl=Wl.debounceRendering)||Kl)(m)}function m(){for(var e;m.__r=ql.length;)e=ql.sort(function(e,t){return e.__v.__b-t.__v.__b}),ql=[],e.some(function(e){var n,a,s,i,t,o;e.__d&&(t=(i=(n=e).__v).__e,(o=n.__P)&&(a=[],(s=te({},i)).__v=i.__v+1,T(o,i,s,n.__n,void 0!==o.ownerSVGElement,null==i.__h?null:[t],a,null==t?oe(i):t,i.__h),j(a,i),i.__e!=t&&y(i)))})}function ae(e,n,l,d,i,t,o,r,u,s){var a=d&&d.__k||zl,c=a.length,y,f,h,p,v,b,m;for(l.__k=[],y=0;y<n.length;y++)if(null!=(p=l.__k[y]=null==(p=n[y])||'boolean'==typeof p?null:'string'==typeof p||'number'==typeof p||'bigint'==typeof p?ie(null,p,null,null,p):Array.isArray(p)?ie(ne,{children:p},null,null,null):0<p.__b?ie(p.type,p.props,p.key,null,p.__v):p)){if(p.__=l,p.__b=l.__b+1,null===(h=a[y])||h&&p.key==h.key&&p.type===h.type)a[y]=void 0;else for(f=0;f<c;f++){if((h=a[f])&&p.key==h.key&&p.type===h.type){a[f]=void 0;break}h=null}T(e,p,h=h||Vl,i,t,o,r,u,s),v=p.__e,(f=p.ref)&&h.ref!=f&&(m||(m=[]),h.ref&&m.push(h.ref,null,p),m.push(f,p.__c||v,p)),null==v?u&&h.__e==u&&u.parentNode!=e&&(u=oe(h)):(null==b&&(b=v),'function'==typeof p.type&&p.__k===h.__k?p.__d=u=re(p,u,e):u=se(e,p,h,a,v,u),'function'==typeof l.type&&(l.__d=u))}for(l.__e=b,y=c;y--;)null!=a[y]&&('function'==typeof l.type&&null!=a[y].__e&&a[y].__e==l.__d&&(l.__d=oe(d,y+1)),M(a[y],a[y]));if(m)for(y=0;y<m.length;y++)L(m[y],m[++y],m[++y])}function re(e,n,a){for(var r=e.__k,t=0,o;r&&t<r.length;t++)(o=r[t])&&(o.__=e,n='function'==typeof o.type?re(o,n,a):se(a,o,o,r,o.__e,n));return n}function g(e,t){return t=t||[],null==e||'boolean'==typeof e||(Array.isArray(e)?e.some(function(e){g(e,t)}):t.push(e)),t}function se(a,n,s,l,i,t){var o,r,d;if(void 0!==n.__d)o=n.__d,n.__d=void 0;else if(null==s||i!=t||null==i.parentNode)n:if(null==t||t.parentNode!==a)a.appendChild(i),o=null;else{for(r=t,d=0;(r=r.nextSibling)&&d<l.length;d+=2)if(r==i)break n;a.insertBefore(i,t),o=t}return void 0===o?i.nextSibling:o}function P(e,n,a,r,i){for(var t in a)'children'===t||'key'===t||t in n||A(e,t,null,a[t],r);for(t in n)i&&'function'!=typeof n[t]||'children'===t||'key'===t||'value'===t||'checked'===t||a[t]===n[t]||A(e,t,n[t],a[t],r)}function C(e,t,i){'-'===t[0]?e.setProperty(t,i):e[t]=null==i?'':'number'!=typeof i||Yl.test(t)?i:i+'px'}function A(e,n,a,r,s){var t;n:if('style'===n){if('string'==typeof a)e.style.cssText=a;else{if('string'==typeof r&&(e.style.cssText=r=''),r)for(n in r)a&&n in a||C(e.style,n,'');if(a)for(n in a)r&&a[n]===r[n]||C(e.style,n,a[n])}}else if('o'===n[0]&&'n'===n[1])t=n!==(n=n.replace(/Capture$/,'')),n=n.toLowerCase()in e?n.toLowerCase().slice(2):n.slice(2),e.l||(e.l={}),e.l[n+t]=a,a?r||e.addEventListener(n,t?I:H,t):e.removeEventListener(n,t?I:H,t);else if('dangerouslySetInnerHTML'!==n){if(s)n=n.replace(/xlink(H|:h)/,'h').replace(/sName$/,'s');else if('href'!==n&&'list'!==n&&'form'!==n&&'tabIndex'!==n&&'download'!==n&&n in e)try{e[n]=null==a?'':a;break n}catch(e){}'function'==typeof a||(null!=a&&(!1!==a||'a'===n[0]&&'r'===n[1])?e.setAttribute(n,a):e.removeAttribute(n))}}function H(e){this.l[e.type+!1](Wl.event?Wl.event(e):e)}function I(e){this.l[e.type+!0](Wl.event?Wl.event(e):e)}function T(a,l,u,i,t,o,n,r,e){var _=l.type,f,s,h,v,y,p,k,b,m,g,x;if(void 0!==l.constructor)return null;null!=u.__h&&(e=u.__h,r=l.__e=u.__e,l.__h=null,o=[r]),(f=Wl.__b)&&f(l);try{n:if('function'==typeof _){if(b=l.props,m=(f=_.contextType)&&i[f.__c],g=f?m?m.props.value:f.__:i,u.__c?k=(s=l.__c=u.__c).__=s.__E:('prototype'in _&&_.prototype.render?l.__c=s=new _(b,g):(l.__c=s=new d(b,g),s.constructor=_,s.render=N),m&&m.sub(s),s.props=b,s.state||(s.state={}),s.context=g,s.__n=i,h=s.__d=!0,s.__h=[]),null==s.__s&&(s.__s=s.state),null!=_.getDerivedStateFromProps&&(s.__s==s.state&&(s.__s=te({},s.__s)),te(s.__s,_.getDerivedStateFromProps(b,s.__s))),v=s.props,y=s.state,h)null==_.getDerivedStateFromProps&&null!=s.componentWillMount&&s.componentWillMount(),null!=s.componentDidMount&&s.__h.push(s.componentDidMount);else{if(null==_.getDerivedStateFromProps&&b!==v&&null!=s.componentWillReceiveProps&&s.componentWillReceiveProps(b,g),!s.__e&&null!=s.shouldComponentUpdate&&!1===s.shouldComponentUpdate(b,s.__s,g)||l.__v===u.__v){s.props=b,s.state=s.__s,l.__v!==u.__v&&(s.__d=!1),s.__v=l,l.__e=u.__e,l.__k=u.__k,l.__k.forEach(function(e){e&&(e.__=l)}),s.__h.length&&n.push(s);break n}null!=s.componentWillUpdate&&s.componentWillUpdate(b,s.__s,g),null!=s.componentDidUpdate&&s.__h.push(function(){s.componentDidUpdate(v,y,p)})}s.context=g,s.props=b,s.state=s.__s,(f=Wl.__r)&&f(l),s.__d=!1,s.__v=l,s.__P=a,f=s.render(s.props,s.state,s.context),s.state=s.__s,null!=s.getChildContext&&(i=te(te({},i),s.getChildContext())),h||null==s.getSnapshotBeforeUpdate||(p=s.getSnapshotBeforeUpdate(v,y)),x=null!=f&&f.type===ne&&null==f.key?f.props.children:f,ae(a,Array.isArray(x)?x:[x],l,u,i,t,o,n,r,e),s.base=l.__e,l.__h=null,s.__h.length&&n.push(s),k&&(s.__E=s.__=null),s.__e=!1}else null==o&&l.__v===u.__v?(l.__k=u.__k,l.__e=u.__e):l.__e=z(u.__e,l,u,i,t,o,n,e);(f=Wl.diffed)&&f(l)}catch(t){l.__v=null,(e||null!=o)&&(l.__e=r,l.__h=!!e,o[o.indexOf(r)]=null),Wl.__e(t,l,u)}}function j(e,t){Wl.__c&&Wl.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){Wl.__e(e,t.__v)}})}function z(e,n,l,i,t,o,r,u){var g=l.props,y=n.props,p=n.type,m=0,f,s,h;if('svg'===p&&(t=!0),null!=o)for(;m<o.length;m++)if((f=o[m])&&'setAttribute'in f==!!p&&(p?f.localName===p:3===f.nodeType)){e=f,o[m]=null;break}if(null==e){if(null===p)return document.createTextNode(y);e=t?document.createElementNS('http://www.w3.org/2000/svg',p):document.createElement(p,y.is&&y),o=null,u=!1}if(null===p)g===y||u&&e.data===y||(e.data=y);else{if(o=o&&Fl.call(e.childNodes),s=(g=l.props||Vl).dangerouslySetInnerHTML,h=y.dangerouslySetInnerHTML,!u){if(null!=o)for(g={},m=0;m<e.attributes.length;m++)g[e.attributes[m].name]=e.attributes[m].value;(h||s)&&(h&&(s&&h.__html==s.__html||h.__html===e.innerHTML)||(e.innerHTML=h&&h.__html||''))}if(P(e,y,g,t,u),h)n.__k=[];else if(m=n.props.children,ae(e,Array.isArray(m)?m:[m],n,l,i,t&&'foreignObject'!==p,o,r,o?o[0]:l.__k&&oe(l,0),u),null!=o)for(m=o.length;m--;)null!=o[m]&&a(o[m]);u||('value'in y&&void 0!==(m=y.value)&&(m!==e.value||'progress'===p&&!m||'option'===p&&m!==g.value)&&A(e,'value',m,g.value,!1),'checked'in y&&void 0!==(m=y.checked)&&m!==e.checked&&A(e,'checked',m,g.checked,!1))}return e}function L(e,t,o){try{'function'==typeof e?e(t):e.current=t}catch(e){Wl.__e(e,o)}}function M(e,r,n){var i,t;if(Wl.unmount&&Wl.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||L(i,null,r)),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){Wl.__e(e,r)}i.base=i.__P=null}if(i=e.__k)for(t=0;t<i.length;t++)i[t]&&M(i[t],r,'function'!=typeof e.type);n||null==e.__e||a(e.__e),e.__e=e.__d=void 0}function N(e,t,i){return this.constructor(e,i)}function O(e,n,i){var a,s,r;Wl.__&&Wl.__(e,n),s=(a='function'==typeof i)?null:i&&i.__k||n.__k,r=[],T(n,e=(!a&&i||n).__k=h(ne,null,[e]),s||Vl,Vl,void 0!==n.ownerSVGElement,!a&&i?[i]:s?null:n.firstChild?Fl.call(n.childNodes):null,r,!a&&i?i:s?s.__e:n.firstChild,a),j(r,e)}function S(e,t){O(e,t,S)}function q(e,n,a){var i=te({},e.props),s,t,o;for(o in n)'key'==o?s=n[o]:'ref'==o?t=n[o]:i[o]=n[o];return 2<arguments.length&&(i.children=3<arguments.length?Fl.call(arguments,2):a),ie(e.type,i,s||e.key,t||e.ref,null)}function B(e,t){var i={__c:t='__cC'+jl++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var o,n;return this.getChildContext||(o=[],(n={})[t]=this,this.getChildContext=function(){return n},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&o.some(b)},this.sub=function(e){o.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){o.splice(o.indexOf(e),1),t&&t.call(e)}}),e.children}};return i.Provider.__=i.Consumer.contextType=i}function D(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function $(e){for(var t=1,i;t<arguments.length;t++)i=null==arguments[t]?{}:arguments[t],t%2?D(Object(i),!0).forEach(function(t){vn()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):D(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))});return e}function le(e){var t=de();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function de(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function pe(e){var t=ue();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function ue(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _e(e){var t=ce();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function ce(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ge(e,t){Wl.__h&&Wl.__h(yp,e,sp||t),sp=0;var n=yp.__H||(yp.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function ye(e,t,n){var o=ge(gp++,2);return o.t=e,o.__c||(o.__=[n?n(t):Te(void 0,t),function(e){var i=o.t(o.__[0],e);o.__[0]!==i&&(o.__=[i,o.__[1]],o.__c.setState({}))}],o.__c=yp),o.__}function me(e,t){var n=ge(gp++,3);!Wl.__s&&Se(n.__H,t)&&(n.__=e,n.__H=t,yp.__H.__h.push(n))}function fe(e,t){var n=ge(gp++,4);!Wl.__s&&Se(n.__H,t)&&(n.__=e,n.__H=t,yp.__h.push(n))}function he(e){return sp=5,ve(function(){return{current:e}},[])}function ve(e,t){var i=ge(gp++,7);return Se(i.__H,t)&&(i.__=e(),i.__H=t,i.__h=e),i.__}function be(e){var t=yp.context[e.__c],i=ge(gp++,9);return i.c=e,t?(null==i.__&&(i.__=!0,t.sub(yp)),t.props.value):e.__}function F(e,t){Wl.useDebugValue&&Wl.useDebugValue(t?t(e):e)}function xe(){for(var e;e=lp.shift();)if(e.__P)try{e.__H.__h.forEach(ke),e.__H.__h.forEach(Ee),e.__H.__h=[]}catch(t){e.__H.__h=[],Wl.__e(t,e.__v)}}function ke(e){var i=yp,t=e.__c;'function'==typeof t&&(e.__c=void 0,t()),yp=i}function Ee(e){var i=yp;e.__c=e.__(),yp=i}function Se(e,i){return!e||e.length!==i.length||i.some(function(i,t){return i!==e[t]})}function Te(e,i){return'function'==typeof i?i(e):i}function Ce(i,n){for(var t in n)i[t]=n[t];return i}function Pe(i,n){for(var t in i)if('__source'!==t&&!(t in n))return!0;for(var e in n)if('__source'!==e&&i[e]!==n[e])return!0;return!1}function Ie(e){this.props=e}function E(){this.__u=0,this.t=null,this.__b=null}function Ae(e){var i=e.__.__c;return i&&i.__e&&i.__e(e)}function U(){this.u=null,this.o=null}function we(e){return this.getChildContext=function(){return e.context},e.children}function Oe(i){var o=this,t=i.i;o.componentWillUnmount=function(){O(null,o.l),o.l=null,o.i=null},o.i&&o.i!==t&&o.componentWillUnmount(),i.__v?(o.l||(o.i=t,o.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(e){this.childNodes.push(e),o.i.appendChild(e)},insertBefore:function(e){this.childNodes.push(e),o.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),o.i.removeChild(e)}}),O(h(we,{context:o.context},i.__v),o.l)):o.l&&o.componentWillUnmount()}function De(){}function Z(){return this.cancelBubble}function Y(){return this.defaultPrevented}function Le(e){return!!e&&e.$$typeof===Ep}function Me(e,t){var i=new Image;i.src=e,i.onload=function(){t(this.width,this.height,i)}}function Re(e){var t=Ne();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function Ne(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ue(e){var t=Be();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function Be(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ve(e,t,i){return nn(on(e,t),i)}function ze(e,t){return-1<e.indexOf(t)}function Ye(e,t){return e.apply(null,t)}function Fe(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(',').map(function(e){return parseFloat(e)}):[]}function We(e,i){function t(e){var t=Math.exp,n=i?i*e/1e3:e;return n=1>p?t(-n*p*d)*(_*$i(u*n)+a*Ji(u*n)):(_+a*n)*t(-n*d),0===e||1===e?e:1-n}var n=Fe(e),o=Ve(Kp.und(n[0])?1:n[0],.1,100),r=Ve(Kp.und(n[1])?100:n[1],.1,100),s=Ve(Kp.und(n[2])?10:n[2],.1,100),l=Ve(Kp.und(n[3])?0:n[3],.1,100),d=en(r/o),p=s/(2*en(r*o)),u=1>p?d*en(1-p*p):0,_=1,a=1>p?(p*d+-l)/u:-l+d;return i?t:function(){var i=qp.springs[e];if(i)return i;for(var n=1/6,o=0,a=0;;)if(o+=n,1!==t(o))a=0;else if(a++,16<=a)break;var r=1e3*(o*n);return qp.springs[e]=r,r}}function He(e){return void 0===e&&(e=10),function(i){return an(Ve(i,1e-6,1)*e)*(1/e)}}function qe(e,t){if(Kp.fnc(e))return e;var i=e.split('(')[0],n=jp[i],o=Fe(e);return'spring'===i?We(e,t):'cubicBezier'===i?Ye(Gp,o):'steps'===i?Ye(He,o):Ye(n,o)}function Ke(e){try{var t=document.querySelectorAll(e);return t}catch(t){}}function Ge(e,t){for(var n=e.length,o=2<=arguments.length?arguments[1]:void 0,a=[],r=0;r<n;r++)if(r in e){var i=e[r];t.call(o,i,r,e)&&a.push(i)}return a}function je(e){return e.reduce(function(e,t){return e.concat(Kp.arr(t)?je(t):t)},[])}function Qe(e){return Kp.arr(e)?e:(Kp.str(e)&&(e=Ke(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function Xe(e,t){return e.some(function(e){return e===t})}function Ze(e){var t={};for(var i in e)t[i]=e[i];return t}function Je(e,t){var i=Ze(e);for(var n in e)i[n]=t.hasOwnProperty(n)?t[n]:e[n];return i}function $e(e,t){var i=Ze(e);for(var n in t)i[n]=Kp.und(e[n])?t[n]:e[n];return i}function et(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?'rgba('+t[1]+',1)':e}function tt(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=e.replace(t,function(e,t,i,n){return t+t+i+i+n+n}),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i),o=parseInt(n[1],16),a=parseInt(n[2],16),r=parseInt(n[3],16);return'rgba('+o+','+a+','+r+',1)'}function it(e){function t(e,i,n){return 0>n&&(n+=1),1<n&&(n-=1),n<1/6?e+6*(i-e)*n:n<1/2?i:n<2/3?e+6*((i-e)*(2/3-n)):e}var i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),n=parseInt(i[1],10)/360,o=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100,l=i[4]||1,a,r,d;if(0==o)a=r=d=s;else{var u=.5>s?s*(1+o):s+o-s*o,_=2*s-u;a=t(_,u,n+1/3),r=t(_,u,n),d=t(_,u,n-1/3)}return'rgba('+255*a+','+255*r+','+255*d+','+l+')'}function nt(e){return Kp.rgb(e)?et(e):Kp.hex(e)?tt(e):Kp.hsl(e)?it(e):void 0}function ot(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function at(e){return ze(e,'translate')||'perspective'===e?'px':ze(e,'rotate')||ze(e,'skew')?'deg':void 0}function rt(e,t){return Kp.fnc(e)?e(t.target,t.id,t.total):e}function st(e,t){return e.getAttribute(t)}function lt(e,t,i){var n=ot(t);if(Xe([i,'deg','rad','turn'],n))return t;var o=qp.CSS[t+i];if(!Kp.und(o))return o;var a=100,r=document.createElement(e.tagName),s=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;s.appendChild(r),r.style.position='absolute',r.style.width=a+i;var l=a/r.offsetWidth;s.removeChild(r);var d=l*parseFloat(t);return qp.CSS[t+i]=d,d}function dt(e,t,i){if(t in e.style){var n=t.replace(/([a-z])([A-Z])/g,'$1-$2').toLowerCase(),o=e.style[t]||getComputedStyle(e).getPropertyValue(n)||'0';return i?lt(e,o,i):o}}function pt(e,t){return Kp.dom(e)&&!Kp.inp(e)&&(!Kp.nil(st(e,t))||Kp.svg(e)&&e[t])?'attribute':Kp.dom(e)&&Xe(Hp,t)?'transform':Kp.dom(e)&&'transform'!==t&&dt(e,t)?'css':null==e[t]?void 0:'object'}function ut(e){if(Kp.dom(e)){for(var t=e.style.transform||'',i=/(\w+)\(([^)]*)\)/g,n=new Map,o;o=i.exec(t);)n.set(o[1],o[2]);return n}}function _t(e,t,i,n){var o=ze(t,'scale')?1:0+at(t),a=ut(e).get(t)||o;return i&&(i.transforms.list.set(t,a),i.transforms.last=t),n?lt(e,a,n):a}function ct(e,t,i,n){switch(pt(e,t)){case'transform':return _t(e,t,n,i);case'css':return dt(e,t,i);case'attribute':return st(e,t);default:return e[t]||0;}}function gt(e,t){var i=/^(\*=|\+=|-=)/.exec(e);if(!i)return e;var n=ot(e)||0,o=parseFloat(t),a=parseFloat(e.replace(i[0],''));switch(i[0][0]){case'+':return o+a+n;case'-':return o-a+n;case'*':return o*a+n;}}function yt(e,t){if(Kp.col(e))return nt(e);if(/\s/g.test(e))return e;var i=ot(e),n=i?e.substr(0,e.length-i.length):e;return t?n+t:n}function mt(e,t){return en(Xi(t.x-e.x,2)+Xi(t.y-e.y,2))}function ft(e){return 2*Zi*st(e,'r')}function ht(e){return 2*st(e,'width')+2*st(e,'height')}function vt(e){return mt({x:st(e,'x1'),y:st(e,'y1')},{x:st(e,'x2'),y:st(e,'y2')})}function bt(e){for(var t=e.points,n=0,o=0,i,a;o<t.numberOfItems;o++)a=t.getItem(o),0<o&&(n+=mt(i,a)),i=a;return n}function xt(e){var t=e.points;return bt(e)+mt(t.getItem(t.numberOfItems-1),t.getItem(0))}function kt(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case'circle':return ft(e);case'rect':return ht(e);case'line':return vt(e);case'polyline':return bt(e);case'polygon':return xt(e);}}function Et(e){for(var t=e.parentNode;Kp.svg(t)&&!!Kp.svg(t.parentNode);)t=t.parentNode;return t}function St(e,t){var i=t||{},n=i.el||Et(e),o=n.getBoundingClientRect(),a=st(n,'viewBox'),r=o.width,s=o.height,l=i.viewBox||(a?a.split(' '):[0,0,r,s]);return{el:n,viewBox:l,x:l[0]/1,y:l[1]/1,w:r,h:s,vW:l[2],vH:l[3]}}function Tt(e,t,i){function n(i){void 0===i&&(i=0);var n=1<=t+i?t+i:0;return e.el.getPointAtLength(n)}var o=St(e.el,e.svg),a=n(),r=n(-1),s=n(1),l=i?1:o.w/o.vW,d=i?1:o.h/o.vH;switch(e.property){case'x':return(a.x-o.x)*l;case'y':return(a.y-o.y)*d;case'angle':return 180*Math.atan2(s.y-r.y,s.x-r.x)/Zi;}}function Ct(e,t){var i=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,n=yt(Kp.pth(e)?e.totalLength:e,t)+'';return{original:n,numbers:n.match(i)?n.match(i).map(Number):[0],strings:Kp.str(e)||t?n.split(i):[]}}function Pt(e){var t=e?je(Kp.arr(e)?e.map(Qe):Qe(e)):[];return Ge(t,function(e,t,i){return i.indexOf(e)===t})}function It(e){var n=Pt(e);return n.map(function(e,o){return{target:e,id:o,total:n.length,transforms:{list:ut(e)}}})}function At(e,t){var i=Ze(t);if(/^spring/.test(i.easing)&&(i.duration=We(i.easing)),Kp.arr(e)){var n=e.length,o=2===n&&!Kp.obj(e[0]);o?e={value:e}:!Kp.fnc(t.duration)&&(i.duration=t.duration/n)}var a=Kp.arr(e)?e:[e];return a.map(function(e,n){var i=Kp.obj(e)&&!Kp.pth(e)?e:{value:e};return Kp.und(i.delay)&&(i.delay=n?0:t.delay),Kp.und(i.endDelay)&&(i.endDelay=n===a.length-1?t.endDelay:0),i}).map(function(e){return $e(e,i)})}function wt(e){for(var t=Ge(je(e.map(function(e){return Object.keys(e)})),function(e){return Kp.key(e)}).reduce(function(e,t){return 0>e.indexOf(t)&&e.push(t),e},[]),n={},o=function(o){var i=t[o];n[i]=e.map(function(e){var t={};for(var n in e)Kp.key(n)?n==i&&(t.value=e[n]):t[n]=e[n];return t})},a=0;a<t.length;a++)o(a);return n}function Ot(e,t){var i=[],n=t.keyframes;for(var o in n&&(t=$e(wt(n),t)),t)Kp.key(o)&&i.push({name:o,tweens:At(t[o],e)});return i}function Dt(e,i){var n={};for(var t in e){var o=rt(e[t],i);Kp.arr(o)&&(o=o.map(function(e){return rt(e,i)}),1===o.length&&(o=o[0])),n[t]=o}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function Lt(e,i){var n;return e.tweens.map(function(o){var t=Dt(o,i),a=t.value,r=Kp.arr(a)?a[1]:a,s=ot(r),l=ct(i.target,e.name,s,i),d=n?n.to.original:l,p=Kp.arr(a)?a[0]:d,u=ot(p)||ot(l),_=s||u;return Kp.und(r)&&(r=d),t.from=Ct(p,_),t.to=Ct(gt(r,p),_),t.start=n?n.end:0,t.end=t.start+t.delay+t.duration+t.endDelay,t.easing=qe(t.easing,t.duration),t.isPath=Kp.pth(a),t.isPathTargetInsideSVG=t.isPath&&Kp.svg(i.target),t.isColor=Kp.col(t.from.original),t.isColor&&(t.round=1),n=t,t})}function Mt(e,t){var i=It(e);i.forEach(function(e){for(var i in t){var n=rt(t[i],e),o=e.target,a=ot(n),r=ct(o,i,a,e),s=a||ot(r),l=gt(yt(n,s),r),d=pt(o,i);Qp[d](o,i,l,e.transforms,!0)}})}function Rt(e,t){var i=pt(e.target,t.name);if(i){var n=Lt(t,e),o=n[n.length-1];return{type:i,property:t.name,animatable:e,tweens:n,duration:o.end,delay:n[0].delay,endDelay:o.endDelay}}}function Nt(e,t){return Ge(je(e.map(function(e){return t.map(function(t){return Rt(e,t)})})),function(e){return!Kp.und(e)})}function Ut(e,t){var i=e.length,n=function(e){return e.timelineOffset?e.timelineOffset:0},o={};return o.duration=i?on.apply(Math,e.map(function(e){return n(e)+e.duration})):t.duration,o.delay=i?nn.apply(Math,e.map(function(e){return n(e)+e.delay})):t.delay,o.endDelay=i?o.duration-on.apply(Math,e.map(function(e){return n(e)+e.duration-e.endDelay})):t.endDelay,o}function Bt(e){var t=Je(Fp,e),i=Je(Wp,e),n=Ot(i,e),o=It(e.targets),a=Nt(o,n),r=Ut(a,i),s=Xp;return Xp++,$e(t,{id:s,children:[],animatables:o,animations:a,duration:r.duration,delay:r.delay,endDelay:r.endDelay})}function Vt(){return!!document&&document.hidden}function zt(e){function t(e){var t=window.Promise&&new Promise(function(e){return y=e});return e.finished=t,t}function i(){var e=m.direction;'alternate'!==e&&(m.direction='normal'===e?'reverse':'normal'),m.reversed=!m.reversed,h.forEach(function(e){return e.reversed=m.reversed})}function n(e){return m.reversed?m.duration-e:e}function o(){u=0,_=n(m.currentTime)*(1/zt.speed)}function a(e,t){t&&t.seek(e-t.timelineOffset)}function r(e){if(!m.reversePlayback)for(var t=0;t<g;t++)a(e,h[t]);else for(var i=g;i--;)a(e,h[i])}function s(e){for(var t=0,i=m.animations,o=i.length;t<o;){var r=i[t],l=r.animatable,d=r.tweens,p=d.length-1,u=d[p];p&&(u=Ge(d,function(i){return e<i.end})[0]||u);for(var _=Ve(e-u.start-u.delay,0,u.duration)/u.duration,c=isNaN(_)?1:u.easing(_),g=u.to.strings,y=u.round,f=[],h=u.to.numbers.length,v=void 0,x=0;x<h;x++){var n=void 0,k=u.to.numbers[x],E=u.from.numbers[x]||0;n=u.isPath?Tt(u.value,c*k,u.isPathTargetInsideSVG):E+c*(k-E),y&&!(u.isColor&&2<x)&&(n=sn(n*y)/y),f.push(n)}var S=g.length;if(!S)v=f[0];else{v=g[0];for(var T=0;T<S;T++){var s=g[T],a=g[T+1],b=f[T];isNaN(b)||(a?v+=b+a:v+=b+' ')}}Qp[r.type](l.target,r.property,v,l.transforms),r.currentValue=v,t++}}function l(e){m[e]&&!m.passThrough&&m[e](m)}function d(){m.remaining&&!0!==m.remaining&&m.remaining--}function p(e){var o=m.duration,a=m.delay,p=o-m.endDelay,g=n(e);m.progress=Ve(100*(g/o),0,100),m.reversePlayback=g<m.currentTime,h&&r(g),!m.began&&0<m.currentTime&&(m.began=!0,l('begin')),!m.loopBegan&&0<m.currentTime&&(m.loopBegan=!0,l('loopBegin')),g<=a&&0!==m.currentTime&&s(0),(g>=p&&m.currentTime!==o||!o)&&s(o),g>a&&g<p?(!m.changeBegan&&(m.changeBegan=!0,m.changeCompleted=!1,l('changeBegin')),l('change'),s(g)):m.changeBegan&&(m.changeCompleted=!0,m.changeBegan=!1,l('changeComplete')),m.currentTime=Ve(g,0,o),m.began&&l('update'),e>=o&&(_=0,d(),m.remaining?(u=c,l('loopComplete'),m.loopBegan=!1,'alternate'===m.direction&&i()):(m.paused=!0,!m.completed&&(m.completed=!0,l('loopComplete'),l('complete'),!m.passThrough&&'Promise'in window&&(y(),f=t(m)))))}void 0===e&&(e={});var u=0,_=0,c=0,g=0,y=null,m=Bt(e),f=t(m),h;return m.reset=function(){var e=m.direction;m.passThrough=!1,m.currentTime=0,m.progress=0,m.paused=!0,m.began=!1,m.loopBegan=!1,m.changeBegan=!1,m.completed=!1,m.changeCompleted=!1,m.reversePlayback=!1,m.reversed='reverse'===e,m.remaining=m.loop,h=m.children,g=h.length;for(var t=g;t--;)m.children[t].reset();(m.reversed&&!0!==m.loop||'alternate'===e&&1===m.loop)&&m.remaining++,s(m.reversed?m.duration:0)},m._onDocumentVisibility=o,m.set=function(e,t){return Mt(e,t),m},m.tick=function(e){c=e,u||(u=c),p((c+(_-u))*zt.speed)},m.seek=function(e){p(n(e))},m.pause=function(){m.paused=!0,o()},m.play=function(){m.paused&&(m.completed&&m.reset(),m.paused=!1,Zp.push(m),o(),Jp())},m.reverse=function(){i(),m.completed=!m.reversed,o()},m.restart=function(){m.reset(),m.play()},m.remove=function(e){var t=Pt(e);Ft(t,m)},m.reset(),m.autoplay&&m.play(),m}function Yt(e,t){for(var i=t.length;i--;)Xe(e,t[i].animatable.target)&&t.splice(i,1)}function Ft(e,t){var i=t.animations,n=t.children;Yt(e,i);for(var o=n.length;o--;){var a=n[o],r=a.animations;Yt(e,r),r.length||a.children.length||n.splice(o,1)}i.length||n.length||t.pause()}function Wt(e){var t=Ht();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function Ht(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function qt(e){var t=Kt();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function Kt(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Gt(e){var t=jt();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function jt(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Qt(e){var t=Xt();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function Xt(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Zt(e){var t=Jt();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function Jt(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function $t(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function ei(e){for(var t=1,i;t<arguments.length;t++)i=null==arguments[t]?{}:arguments[t],t%2?$t(Object(i),!0).forEach(function(t){vn()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$t(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))});return e}function ti(e){var t=ii();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function ii(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ni(e){var t=oi();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function oi(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ai(e){var t=ri();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function ri(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function si(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function li(e){for(var t=1,i;t<arguments.length;t++)i=null==arguments[t]?{}:arguments[t],t%2?si(Object(i),!0).forEach(function(t){vn()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):si(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))});return e}function di(e){var t=pi();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function pi(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _i(e){var t=ci();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function ci(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function gi(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function yi(e){for(var t=1,i;t<arguments.length;t++)i=null==arguments[t]?{}:arguments[t],t%2?gi(Object(i),!0).forEach(function(t){vn()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):gi(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))});return e}function mi(e){var t=fi();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function fi(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function hi(e){var t=vi();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function vi(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function bi(e){var t=xi();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function xi(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ki(e){var t=Ei();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function Ei(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Si(e){var t=Ti();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function Ti(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ci(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function Pi(e){for(var t=1,i;t<arguments.length;t++)i=null==arguments[t]?{}:arguments[t],t%2?Ci(Object(i),!0).forEach(function(t){vn()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ci(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))});return e}function Ii(e){var t=Ai();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function Ai(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function wi(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function Oi(e){for(var t=1,i;t<arguments.length;t++)i=null==arguments[t]?{}:arguments[t],t%2?wi(Object(i),!0).forEach(function(t){vn()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):wi(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))});return e}function Di(e){var t=Li();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function Li(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Mi(e){var t=Ri();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function Ri(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ni(e){var t=Ui();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function Ui(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Bi(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function Vi(e){for(var t=1,i;t<arguments.length;t++)i=null==arguments[t]?{}:arguments[t],t%2?Bi(Object(i),!0).forEach(function(t){vn()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Bi(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))});return e}function zi(e){var t=Yi();return function(){var i=Pn()(e),n;if(t){var o=Pn()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Tn()(this,n)}}function Yi(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Fi(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function Wi(e){for(var t=1,i;t<arguments.length;t++)i=null==arguments[t]?{}:arguments[t],t%2?Fi(Object(i),!0).forEach(function(t){vn()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Fi(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))});return e}function Hi(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function qi(e){for(var t=1,i;t<arguments.length;t++)i=null==arguments[t]?{}:arguments[t],t%2?Hi(Object(i),!0).forEach(function(t){vn()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Hi(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))});return e}function Ki(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function Gi(e){for(var t=1,i;t<arguments.length;t++)i=null==arguments[t]?{}:arguments[t],t%2?Ki(Object(i),!0).forEach(function(t){vn()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ki(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))});return e}function ji(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function Qi(e){for(var t=1,i;t<arguments.length;t++)i=null==arguments[t]?{}:arguments[t],t%2?ji(Object(i),!0).forEach(function(t){vn()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ji(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))});return e}var Xi=Math.pow,Zi=Math.PI,Ji=Math.sin,$i=Math.cos,en=Math.sqrt,tn=Math.abs,nn=Math.min,on=Math.max,an=Math.ceil,rn=Math.floor,sn=Math.round;i.r(t);var ln={};i.r(ln),i.d(ln,'getAdsConfig',function(){return kg}),i.d(ln,'getDisplayAdConfig',function(){return Eg}),i.d(ln,'getDisplayAdTriggerType',function(){return Sg}),i.d(ln,'isBackFillTriggerType',function(){return Tg}),i.d(ln,'getDisplayAdUnitId',function(){return Cg}),i.d(ln,'getDisplayAdDismissalTimeout',function(){return Pg}),i.d(ln,'getDisplayAdUnfilledCap',function(){return Ig}),i.d(ln,'getDelayMS',function(){return Ag}),i.d(ln,'getStickyPosition',function(){return wg}),i.d(ln,'getBorderRadius',function(){return Dg}),i.d(ln,'getPublisherConfig',function(){return Lg}),i.d(ln,'getGooglePublisherId',function(){return Mg});var dn=i(11),pn=i.n(dn),un=i(2),_n=i.n(un),cn=i(3),gn=i.n(cn),yn=i(7),mn=i.n(yn),fn=i(1),hn=i(4),vn=i.n(hn),bn=i(34),xn={ANIVIEW:1,CEDATO:2},kn=i(9),En=i.n(kn),Sn=i(10),Tn=i.n(Sn),Cn=i(6),Pn=i.n(Cn),In=function(){function e(){_n()(this,e)}return gn()(e,[{key:'init',value:function(){var e=pn()(mn.a.mark(function e(){return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt('return',null);case 1:case'end':return e.stop();}},e)}));return function(){return e.apply(this,arguments)}}()},{key:'container',get:function(){return null}},{key:'videoTag',get:function(){return null}},{key:'muted',get:function(){return null}},{key:'unmuted',get:function(){return null}},{key:'playing',get:function(){return null}},{key:'paused',get:function(){return null}},{key:'isInView',get:function(){return null}},{key:'demands',get:function(){return[]}},{key:'appendUi',value:function(){}},{key:'play',value:function(){return null}},{key:'pause',value:function(){return null}},{key:'close',value:function(){return null}},{key:'volume',value:function(){return null}},{key:'mute',value:function(){return null}},{key:'unmute',value:function(){return null}},{key:'next',value:function(){return null}},{key:'skipAd',value:function(){return null}},{key:'resize',value:function(){return null}},{key:'onResize',value:function(){return null}},{key:'onInView',value:function(){return null}},{key:'onOutOfView',value:function(){return null}},{key:'onPlayerStart',value:function(){return null}},{key:'onContentStart',value:function(){return null}},{key:'onContentPlaying',value:function(){return null}},{key:'onContentPaused',value:function(){return null}},{key:'onContentEnded',value:function(){return null}},{key:'onAdImpression',value:function(){return null}},{key:'onAdStart',value:function(){return null}},{key:'onAdPlaying',value:function(){return null}},{key:'onAdPaused',value:function(){return null}},{key:'onAdSkipped',value:function(){return null}},{key:'onAdClosed',value:function(){return null}},{key:'onAdFirstQuarter',value:function(){return null}},{key:'onAdMidPoint',value:function(){return null}},{key:'onAdThirdQuarter',value:function(){return null}},{key:'onRollWindowClose',value:function(){return null}},{key:'onRollWindowOpen',value:function(){return null}},{key:'onAdCompleted',value:function(){return null}},{key:'onContentProgress',value:function(){return null}},{key:'onAdVolumeChange',value:function(){return null}},{key:'onAdTerminated',value:function(){return null}},{key:'onPrevClicked',value:function(){return null}},{key:'onNextClicked',value:function(){return null}},{key:'onPause',value:function(){return null}},{key:'onPlay',value:function(){return null}},{key:'onMute',value:function(){return null}},{key:'onUnmute',value:function(){return null}},{key:'onSetContentByIndex',value:function(){return null}},{key:'sendPlayerLoadEvent',value:function(){return null}},{key:'sendViewablePlayerLoadEvent',value:function(){return null}},{key:'sendPlayerOpportunityEvent',value:function(){return null}},{key:'sendHeartBeatEvent',value:function(){return null}},{key:'sendCTAClickedEvent',value:function(){return null}},{key:'sendViewableImpressionEvent',value:function(){return null}},{key:'setContentByIndex',value:function(){return null}},{key:'sendPublisherDemandSessionEvent',value:function(){return null}},{key:'setTime',value:function(){return null}},{key:'playUsingButton',value:function(){return null}},{key:'pauseUsingButton',value:function(){return null}}]),e}(),An=i(24),wn=i.n(An),On={BREAKING_ADS:'breaking-ads',PREROLL:'preroll',PLAYLIST_PREROLL:'playlist-preroll',PREROLL_AUTOSKIP:'preroll-autoskip'},Dn=fn.constants.DEVICE_TYPES,Ln=Dn.DESKTOP,Mn=Dn.MOBILE,Rn=Dn.TABLET,Nn=fn.constants.OS_TYPES,Un=fn.utils.browser.getType,Bn=fn.utils.device,Vn=Bn.getUserAgent,zn=Bn.getType,Yn=function(){function e(){_n()(this,e)}return gn()(e,[{key:'getDevice',value:function(){return this._device||(this._device=zn()),this._device}},{key:'getMobileOrDesktopDevice',value:function(){return this.isDesktop()?Ln:Mn}},{key:'getOSType',value:function(){return this._osType||(this._osType=this._getOSType()),this._osType}},{key:'getBrowser',value:function(){return this._browserType||(this._browserType=Un()),this._browserType}},{key:'isDesktop',value:function(){return this._compareDevice(Ln)}},{key:'isMobile',value:function(){return this._compareDevice(Mn)}},{key:'isTablet',value:function(){return this._compareDevice(Rn)}},{key:'isMobileOrTablet',value:function(){return!this.isDesktop()}},{key:'osType',get:function(){return this._osType}},{key:'tablet',get:function(){return Rn}},{key:'mobile',get:function(){return Mn}},{key:'desktop',get:function(){return Ln}},{key:'isIos',get:function(){var e=navigator.userAgent.toLowerCase();return /iphone|ipod|ipad/.test(e)}},{key:'_getOSType',value:function(){var e;switch(!0){case this.isAndroid():e=Nn.ANDROID;break;case this.isIos:e=Nn.IOS;break;case this.isWindows():e=Nn.WINDOWS;break;case this.isOSX():e=Nn.OSX;break;case this.isLinux():e=Nn.LINUX;break;case this.isChromeOS():e=Nn.CHROME_OS;break;default:e=Nn.OTHER;}return e}},{key:'isAndroid',value:function(){var e=this.getUserAgent().toLowerCase();return /android/.test(e)}},{key:'isWindows',value:function(){var e=this.getUserAgent().toLowerCase();return /win/.test(e)}},{key:'isOSX',value:function(){var e=this.getUserAgent().toLowerCase();return /mac/.test(e)}},{key:'isLinux',value:function(){var e=this.getUserAgent().toLowerCase();return /linux/.test(e)&&!this.isAndroid()}},{key:'isChromeOS',value:function(){var e=this.getUserAgent().toLowerCase();return /cros/.test(e)}},{key:'getUserAgent',value:function(){return Vn()||''}},{key:'_compareDevice',value:function(e){return this.getDevice()===e}}]),e}(),Fn=new Yn,Wn=i(20),Hn=i.n(Wn),qn=fn.utils.Logger,Kn=new qn({prefix:'[exco-log]'}),Gn=Kn,jn=fn.constants.DEVICE_TYPES,Qn=fn.constants.STICKY,Xn=fn.constants.COLOR_PALETTE,Zn=fn.utils.environment,Jn=fn.utils.is,$n=fn.utils.storage,eo=fn.utils.playerUtil,to=fn.utils.device,io=to.isDesktop,no=to.isMobile,oo=to.isMobileOrTablet,ao=function(e){return e._id},ro=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.provider,i=void 0===t?xn.CEDATO:t;return i},so=function(e){return e.tracking},lo=function(e,t){return t===jn.MOBILE||t===jn.TABLET?e.mobileChannel:e.desktopChannel},po=function(e,t){return t===jn.DESKTOP?e.playbackMode:e.playbackModeMobile},uo=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.adsMode},_o=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.content||{}},co=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return _o(e).userPlaylist||{}},go=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return co(e).mp4Extension},yo=function(e){return _o(e).rss||{}},mo=function(e){var t=$n.getSessionItem(Qn.STICKY_CLOSE_STORAGE_KEY);return oo()?!e.disableOnMobile&&!t:e.enableMinimize&&!t},fo=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t;return!!(null!==(t=e.debug)&&void 0!==t&&t.logger)},ho=function(e){return e.abTests||{}},vo=function(e){var t=no()?jn.MOBILE:jn.DESKTOP,i;return!Zn.isAmp()&&(null===e||void 0===e||null===(i=e.placement)||void 0===i?void 0:i[t])||{}},bo=function(e){var t=e.size||{},i=t.mobile,n=t.desktop;return io()?n:i},xo=function(e){return e.reporting||{}},ko=function(e){var t;return(null===(t=e.rates)||void 0===t?void 0:t.nd)||{}},Eo=function(e){var t;return(null===(t=e.rates)||void 0===t?void 0:t.pd)||{}},So=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,i=2<arguments.length?arguments[2]:void 0,n=i?Eo(e):ko(e);return t===jn.DESKTOP?null===n||void 0===n?void 0:n.dc:null===n||void 0===n?void 0:n.mc},To=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return xo(e).cpmPrediction||{}},Co=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,i=2<arguments.length?arguments[2]:void 0,n=To(e),o=i?'publisherDemand':'networkDemand';return n.enabled?t===jn.DESKTOP?n[o].desktop:n[o].mobile:1},Po=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=xo(e),i=t.customParams,n=void 0===i?{}:i;return n&&n.length?n[0].name:void 0},Io=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.adsConfig,i=void 0===t?{}:t;return i},Ao=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.country;return t},wo=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.connection;return t},Oo=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=eo.getPlayerPlaceHolder(ao(e));return sn(t.getBoundingClientRect().top+window.scrollY)},Do=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=Io(e),i=t.displayAd,n=void 0===i?{}:i;return n},Lo=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.appearance,i=void 0===t?{}:t;return i},Mo=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:jn.MOBILE,i=Do(e),n=i.adUnit,o=void 0===n?{}:n;return t===jn.DESKTOP?o.desktop:o.mobile},Ro=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;return t===jn.MOBILE?e.minimizeLocationMobile:e.minimizeLocation},No=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:jn.MOBILE,i=[Qn.POSITION.UPPER_SMALL,Qn.POSITION.UPPER_LARGE,Qn.POSITION.UPPER_NATIVE],n=Io(e),o=n.displayAdV2,a=void 0===o?{}:o,r=Ro(e,t);return t===jn.DESKTOP?!!a.desktop.adUnit:!!a.mobile.adUnit&&i.includes(r)},Uo=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:jn.MOBILE,i=Io(e),n=i.displayAdVersion,o=void 0===n?1:n;return 2===o?No(e,t):!!Mo(e,t)},Bo=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return Do(e).trigger||{}},Vo=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=Lo(e),i=t.font,n=void 0===i?{}:i;return n},zo=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=Bo(e),i=t.timeout;return i?1e3*i:void 0},Yo=function(e){return!!(Bo(e)||{}).onAutoplayBlocked},Fo=function(e){var t=e.targetSelector,i=e.timeDelay,n=e.type;return!Zn.isAmp()&&('time'===n?!!i:!!t)},Wo=function(e){return!!e&&e!==Xn.PRIMARY&&e!==Xn.SECONDARY},Ho=function(e,t){var i=null===t||void 0===t||null===(n=t.colorTheme)||void 0===n||null===(o=n[e])||void 0===o?void 0:o.to,n,o,a;if(i)return i;var r=t.appearance;return Wo(null===r||void 0===r?void 0:r[e])?r[e]:(null===r||void 0===r||null===(a=r.colorPalette)||void 0===a?void 0:a[r[e]||Xn.PRIMARY])||Xn.DEFAULT},qo=function(e,t){var i=null===t||void 0===t?void 0:t.appearance;return e&&Wo(e)?e:(null===i||void 0===i?void 0:i.colorPalette[e||Xn.PRIMARY])||Xn.DEFAULT},Ko=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=Do(e),i=t.autoSkipAfter;i=void 0===i?{}:i;var n=i.timeout;return n?1e3*n:void 0},Go=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=Do(e),i=t.refresh;i=void 0===i?{}:i;var n=i.timeout;return n?1e3*n:void 0},jo=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=Do(e),i=t.autoSkipAfter;i=void 0===i?{}:i;var n=i.ads;return n||0},Qo=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=Do(e),i=t.autoSkipAfter;i=void 0===i?{}:i;var n=i.unfilled;return n||0},Xo=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.contents||[]},Zo=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.components||{}},Jo=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.appearance||{}},$o=function(e){return Xo(e).find(function(e){return!Jn.nullOrUndefined(e.videoSpecMeta)&&!Jn.nullOrUndefined(e.videoSpecMeta.actions)&&'cta'===e.videoSpecMeta.actions[0].type})},ea=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=$o(e);return t?t.videoSpecMeta.actions[0].data.backgroundColor:void 0},ta=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.externalConfig||{}},ia=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return ta(e).referrer||null},na=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return ta(e).reporting||{}},oa=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return ta(e).customParams||{}},aa=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.customParams||[]},ra=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.excoTag||{}},sa=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return ta(e).videos||{}},la=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=yo(e),i=t.enabled,n=t.videoConfig,o=void 0===n?{}:n;return i&&o.cta&&(o.cta.enabled=!0,o.cta.color=ea(e)),o.cta||{}},da=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return Zo(e).cta||{}},pa=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return sa(e).cta||{}},ua=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return{url:e.url,text:e.text,color:e.color,animation:!Jn.nullOrUndefined(e.animation)&&e.animation,icon:Jn.nullOrUndefined(e.icon)?'none':e.icon,enabled:!0,button:{enabled:!0,desktop:{enabled:!0,sticky:!0},mobile:{enabled:!0,sticky:!0}}}},_a=function(e){var t={},i=pa(e);return t=Jn.empty(i)?!Jn.empty(da(e))&&da(e).enabled?da(e):la(e):ua(i),t},ca=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:jn.MOBILE,i=null,n=_a(e);return n.enabled&&(i={button:{enabled:n.button?Jn.enable(n.button,t):Jn.enable(n,t),text:n.text,color:qo(n.color,e),icon:n.icon,animation:n.animation}}),i},ga=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return!!xo(e).reportCpmOnImpression},ya=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t='both'===e.devices||'mobile'===e.devices&&no()||'desktop'===e.devices&&io();return{enabled:e.enabled&&t,position:e.position,layout:e.layout}},ma=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return!!Io(e).safeAds},fa=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return Io(e).whiteOps||{}},ha=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.pauseOnTabBlur},va=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.customJS||{}},ba=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;return(va(e)||{})[t]||null},xa=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,i={enabled:!1,delay:0};if(e.dple){var n=jn.DESKTOP===t;i={enabled:n?!!e.dple.desktop:!!e.dple.mobile,delay:(n?e.dple.desktopDelay:e.dple.mobileDelay)||0}}return i},ka=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.sticky||{}},Ea=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,i=ka(e);return t===jn.DESKTOP?i.minWidthDesktop:i.minWidthMobile},Sa=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,i=t===jn.DESKTOP?ka(e).delayDesktop:ka(e).delayMobile;return i||0},Ta=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return 0<Sa(e,t)},Ca=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t;return!!(null!==(t=e.predefinedParams)&&void 0!==t&&t.videoId)},Pa=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t;return!!(null!==(t=e.sticky)&&void 0!==t&&t.directLoad)},Ia=i(5),Aa=i(0),wa=Fn.isMobile(),Oa=function(){function e(t){var i=this;_n()(this,e),vn()(this,'getStickyPosition',function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:i._config,t=e.sticky,n=t.mobileHorizontalPadding,o=t.mobileVerticalPadding,a=t.desktopHorizontalPadding,r=t.desktopVerticalPadding,s=t.containerElementDesktop,l=t.containerElementMobile,d=t.isBiPositional,p=wa?n:a,u=wa?o:r,_=i.stickyPosition,c=i._getPlayerAndStickyRefs(),g=c.playerRef,y=c.stickyRef,m,f;d&&g&&(m=0<g.getBoundingClientRect().y),y&&(f=y.getBoundingClientRect().height);var h=i._getStickyOffset(f),v={raw:_},b=[Ia.STICKY.POSITION.UPPER_NATIVE,Ia.STICKY.POSITION.UPPER_LARGE,Ia.STICKY.POSITION.UPPER_SMALL].includes(_),x=[Ia.STICKY.POSITION.BOTTOM_NATIVE,Ia.STICKY.POSITION.BOTTOM_LARGE,Ia.STICKY.POSITION.BOTTOM_SMALL].includes(_);return(b||x)&&i.invert&&(x=!x,b=!b),_===Ia.STICKY.POSITION.TOP_LEFT?(v.left=p,v.top=u):_===Ia.STICKY.POSITION.TOP_RIGHT?(v.top=u,v.right=p):_===Ia.STICKY.POSITION.BOTTOM_RIGHT?(v.bottom=u,v.right=p):_===Ia.STICKY.POSITION.BOTTOM_LEFT?(v.bottom=u,v.left=p):(b||x)&&void 0!=m?m?(v.bottom=0+h.bottom,v.left=0+h.left):(v.top=0+h.top,v.left=0+h.left):b?(v.top=0+h.top,v.left=0+h.left):x?(v.bottom=0+h.bottom,v.left=0+h.left):_===Ia.STICKY.POSITION.INSIDE_ELEMENT&&(v.insideElement=wa?l:s),v}),this._config=t}return gn()(e,[{key:'config',get:function(){return this._config},set:function(e){this._config=e}},{key:'invert',get:function(){return this._invert},set:function(e){this._invert=e}},{key:'isStickyEnabled',get:function(){return mo(this._config)}},{key:'stickyOffset',get:function(){return this._config.sticky[wa?'offsetMobile':'offsetDesktop']||{}}},{key:'stickyPosition',get:function(){return Ro(this._config,Fn.getDevice())}},{key:'isPlayerBelowTheFold',get:function(){return this._playerRef&&0<this._playerRef.getBoundingClientRect().y}},{key:'_isShiftValid',value:function(e,t){var i=window.innerHeight;return t?0<=e&&e<=i-t:0<=e}},{key:'_getStickyOffset',value:function(e){var t=this,i={top:0,right:0,bottom:0,left:0};return['top','bottom'].forEach(function(n){return t._getStickyOffsetByPosition(n,i,e)}),i}},{key:'_getStickyOffsetByPosition',value:function(e,t,i){var n=this.stickyOffset;if(n[e]){var o=n[e],a=o.type,r=o.value;if(r&&'0'!==r)if('pixels'===a)t[e]+=r;else if('element'===a){var s=document.querySelector(r);if(s)if('top'===e){var l=s.getBoundingClientRect(),d=l.y,p=l.height,u=d+p;t[e]+=this._isShiftValid(u,i)?u:0}else if('bottom'===e){var _=s.getBoundingClientRect(),c=_.y,g=window.innerHeight,y=g-c;t[e]+=this._isShiftValid(y,i)?y:0}}}return t}},{key:'_getPlayerAndStickyRefs',value:function(){return this._playerRef||(this._playerRef=document.getElementById(this._config._id)),!this._stickyRef&&this._playerRef&&(this._stickyRef=this._playerRef.querySelector('.pbs__player')),{playerRef:this._playerRef,stickyRef:this._stickyRef}}},{key:'_getStickyWidthSizeAndUnit',value:function(e){var t=e.minimizeSizePercentageMobile,i=e.minimizeSizePercentage,n=e.sticky,o=wa?n.widthUnitMobile:n.widthUnitDesktop,a=wa?t:i,r;if(('percents'===o||'percentage'===o)&&(a=nn(a,100)),wa&&[Ia.STICKY.POSITION.UPPER_NATIVE,Ia.STICKY.POSITION.UPPER_LARGE,Ia.STICKY.POSITION.UPPER_SMALL,Ia.STICKY.POSITION.BOTTOM_NATIVE,Ia.STICKY.POSITION.BOTTOM_LARGE,Ia.STICKY.POSITION.BOTTOM_SMALL].includes(this.stickyPosition)){if('percents'===o||'percentage'===o){var s=Aa.environment.getViewPortWidth();a=a/100*s,o='pixels'}[Ia.STICKY.POSITION.UPPER_NATIVE,Ia.STICKY.POSITION.BOTTOM_NATIVE].includes(this.stickyPosition)?a=on(Ia.STICKY.FULLWIDTH_PIXEL_SIZE_SMALL,a):[Ia.STICKY.POSITION.UPPER_LARGE,Ia.STICKY.POSITION.BOTTOM_LARGE].includes(this.stickyPosition)?a=on(Ia.STICKY.FULLWIDTH_PIXEL_SIZE_LARGE,a):[Ia.STICKY.POSITION.UPPER_SMALL,Ia.STICKY.POSITION.BOTTOM_SMALL].includes(this.stickyPosition)&&(a=on(Ia.STICKY.FULLWIDTH_PIXEL_SIZE_SMALL,a))}else o!==Ia.STICKY.PIXELS&&(r=wa?n.maxWidthMobile:n.maxWidthDesktop);return{widthSize:a,widthUnit:o,maxWidth:r}}},{key:'_isStickyAttachedToElement',value:function(){var e=this.stickyOffset;return['top','bottom'].some(function(t){return!!e[t]&&'element'===e[t].type})}},{key:'getStickyConfig',value:function(){var e=this.getStickyPosition(this._config),t=e.raw,i=e.top,n=e.left,o=e.bottom,a=e.right,r=e.insideElement,s=this._getStickyWidthSizeAndUnit(this._config),l=s.widthUnit,d=s.widthSize,p=s.maxWidth;return{enable:this.isStickyEnabled,widthUnit:l,widthSize:d,maxWidth:p,insideElement:this._config.sticky.containerElementDesktop,forceMinimumSize:this._config.forceMinimumSize,minWidth:Ea(this._config,Fn.getMobileOrDesktopDevice()),position:{raw:t,top:i,left:n,bottom:o,right:a,insideElement:r},offset:this.stickyOffset,closeButtonBehavior:this._config.sticky.closeButtonBehavior,enableCloseButton:this._config.enableCloseButton,stickyMode:this._config.stickyMode,isPersistent:this._config.stickyMode===Ia.STICKY.MODES.PERSISTENT,isNoNPersistentPerSession:this._config.stickyMode===Ia.STICKY.MODES.NONE_PERSISTENT_PER_SESSION,enableInView:this._config.stickyMode===Ia.STICKY.MODES.NONE_PERSISTENT_IN_VIEW,nonPersistentPerSession:wa?this._config.sticky.nonPersistentPerSessionMobile:this._config.sticky.nonPersistentPerSessionDesktop,stickyOnly:this._config.stickyMode===Ia.STICKY.MODES.STICKY_ONLY,zIndex:this._config.minimizeZindex||Ia.STICKY.ZINDEX,positionInvertor:this._config.sticky.positionInvertor,isBiPositional:this._config.sticky.isBiPositional,isAnimated:wa?this._config.sticky.isAnimatedMobile:this._config.sticky.isAnimatedDesktop,inBoundaries:wa?this._config.sticky.inBoundariesMobile:this._config.sticky.inBoundariesDesktop,isMainAsSticky:wa?this._config.sticky.isMainAsStickyMobile:this._config.sticky.isMainAsStickyDesktop,isTop:[Ia.STICKY.POSITION.UPPER_NATIVE,Ia.STICKY.POSITION.UPPER_LARGE,Ia.STICKY.POSITION.UPPER_SMALL].includes(this.stickyPosition),isBottom:[Ia.STICKY.POSITION.BOTTOM_NATIVE,Ia.STICKY.POSITION.BOTTOM_LARGE,Ia.STICKY.POSITION.BOTTOM_SMALL].includes(this.stickyPosition),isWideSticky:[Ia.STICKY.POSITION.UPPER_NATIVE,Ia.STICKY.POSITION.UPPER_LARGE,Ia.STICKY.POSITION.UPPER_SMALL,Ia.STICKY.POSITION.BOTTOM_NATIVE,Ia.STICKY.POSITION.BOTTOM_LARGE,Ia.STICKY.POSITION.BOTTOM_SMALL].includes(this.stickyPosition),isAttachedToElement:this._isStickyAttachedToElement(),upperStickyBackgroundColor:qo(this._config.sticky.upperStickyBackgroundColor,this._config),delay:{enabled:Ta(this._config,Fn.getMobileOrDesktopDevice()),time:Sa(this._config,Fn.getMobileOrDesktopDevice())}}}}]),e}(),Da=fn.constants.PLAYBACK,La=fn.constants.COLOR_PALETTE,Ma=fn.utils.environment,Ra=fn.utils.is,Na=fn.utils.objects,Ua=fn.utils.windowPostMessenger,Ba=function(){function e(){_n()(this,e),this._device=Fn,this._configs=null,this._stickyService=new Oa}return gn()(e,[{key:'setConfig',value:function(e){this._configs=e,this._stickyService.config=this._configs,this._exposeAppliedConfig(),Gn.info('configuration service - configuration set')}},{key:'_exposeAppliedConfig',value:function(){try{var e=btoa(encodeURIComponent(JSON.stringify(this._configs)));Ua.postToAllParentFrames(window,{type:'FROM_EXCO_PLAYER',action:'player-config',data:e},'*')}catch(e){Gn.error('Error while sending config',e)}}},{key:'setOverrides',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];try{this.setConfig(Na.merge([{},this._configs].concat(Hn()(e))))}catch(t){this.setConfig(this._configs),Gn.error('Set overrides failed.',t)}return this._configs}},{key:'invertSticky',value:function(e){this._stickyService.invert=e}},{key:'raw',get:function(){return this._configs}},{key:'playerId',get:function(){return ao(this._configs)}},{key:'provider',get:function(){return ro(this._configs)}},{key:'externalReferrer',get:function(){return ia(this._configs)}},{key:'externalVideos',get:function(){return sa(this._configs)}},{key:'externalCustomParams',get:function(){return oa(this._configs)}},{key:'customParamsMap',get:function(){return aa(this._configs)}},{key:'excoSdk',get:function(){return ra(this._configs)}},{key:'externalReporting',get:function(){return na(this._configs)}},{key:'externalCTA',get:function(){return pa(this._configs)}},{key:'targeting',get:function(){return this.raw.targeting||{}}},{key:'lineItems',get:function(){return this.raw.lineItems||[]}},{key:'country',get:function(){return this.raw.country}},{key:'connection',get:function(){return this.raw.connection}},{key:'dimensions',get:function(){return{height:0,width:100}}},{key:'avPlayerUrl',get:function(){return this.raw.nativePlayerVersion}},{key:'channelId',get:function(){return lo(this._configs,Fn.getDevice())}},{key:'reportCpmOnImpression',get:function(){return ga(this._configs)}},{key:'subIdParamName',get:function(){return Po(this._configs)}},{key:'adsInterval',get:function(){return!!this.isBreakingAds()&&this.raw.adsInterval}},{key:'timeBetweenErrorLimits',get:function(){return!!this.isBreakingAds()&&(this.raw.timeBetweenErrorLimits||this.raw.adsInterval)}},{key:'noMuteOnBlur',get:function(){return!!this.raw.noMuteOnBlur}},{key:'debugMode',get:function(){return this.raw.debugMode}},{key:'skipButton',get:function(){return this.raw.skipButton}},{key:'skipText',get:function(){return this.raw.skipText}},{key:'skipOffset',get:function(){return this.raw.skipOffset}},{key:'loop',get:function(){return this.raw.loop}},{key:'errorLimit',get:function(){return this.raw.errorLimit}},{key:'vastRetry',get:function(){return this.raw.vastRetry}},{key:'language',get:function(){return this.raw.language}},{key:'showTimelineReplay',get:function(){return this.raw.showTimelineReplay}},{key:'logoShowOnHover',get:function(){return this.raw.logoShowOnHover}},{key:'logo',get:function(){return this.raw.logo}},{key:'logoMargins',get:function(){return this.raw.logoMargins}},{key:'ui',get:function(){return this.raw.ui}},{key:'logoUrl',get:function(){return this.logo?this.raw.logoImage:''}},{key:'logoWidth',get:function(){return this.raw.logoWidth}},{key:'logoHeight',get:function(){return this.raw.logoHeight}},{key:'logoPosition',get:function(){return this.raw.logoPosition}},{key:'logoClickThrough',get:function(){return this.raw.logoClickThrough?this.raw.logoClickThrough:void 0}},{key:'logoRedirect',get:function(){return!!this.raw.logoRedirect&&this.raw.logoRedirect}},{key:'showPlaybuzzLogo',get:function(){return this.raw.showPlaybuzzLogo}},{key:'mute',get:function(){return this.playback!==Da.MODE.CLICK_TO_PLAY||this.raw.mute}},{key:'customCSS',get:function(){return this.raw.customCSS}},{key:'configPerBrowser',get:function(){return this.raw.perBrowser}},{key:'playback',get:function(){return po(this._configs,Fn.getDevice())}},{key:'autoContinue',get:function(){return this.raw.autoContinue}},{key:'random',get:function(){return this.raw.random}},{key:'randomFrom',get:function(){return this.raw.randomFrom}},{key:'slotTimeout',get:function(){return this.raw.slotTimeout}},{key:'breakingAdsMode',get:function(){return this.raw.breakingAdsMode}},{key:'contents',get:function(){return Xo(this._configs)}},{key:'textualFeed',get:function(){var e,t;return o(o({enabled:null===(e=this.content)||void 0===e||null===(t=e.textualFeed)||void 0===t?void 0:t.enabled,items:this.raw.textualFeed},this.components.textualFeed||{}),{},{color:this.getColor('textualFeed')})}},{key:'contentURL',get:function(){return this.raw.contentURL}},{key:'showFullScreenIcon',get:function(){return this._device.isDesktop()?this.raw.showFullScreen:this.raw.showFullScreenMobile}},{key:'maxRun',get:function(){return this.raw.maxRun}},{key:'timeToFirstAd',get:function(){return this.raw.timeToFirstAd}},{key:'maxAds',get:function(){return this.raw.maxAds}},{key:'components',get:function(){return Zo(this.raw)}},{key:'appearance',get:function(){return Jo(this.raw)}},{key:'upNextVideo',get:function(){var e;return o(o({},null===(e=this.components)||void 0===e?void 0:e.upNextVideo),{},{color:this.getColor('upNextVideo')})}},{key:'videoTitle',get:function(){return this.components.titleComponent||{}}},{key:'videoGallery',get:function(){return ya(this.components.videoGallery)}},{key:'content',get:function(){return _o(this._configs)}},{key:'useMp4Extension',get:function(){return go(this._configs)}},{key:'rss',get:function(){return yo(this._configs)}},{key:'paging',get:function(){var e;return o(o({},null===(e=this.components)||void 0===e?void 0:e.paging),{},{color:this.getColor('paging')})}},{key:'transition',get:function(){var e;return o(o({},null===(e=this.components)||void 0===e?void 0:e.transition),{},{color:this.getColor('transition')})}},{key:'infoPanel',get:function(){var e=(null===(t=this.components)||void 0===t?void 0:t.infoPanel)||{enabled:!1},t;return o(o({},e),{},{color:this.getColor('infoPanel')})}},{key:'title',get:function(){var e;return o(o({},null===(e=this.components)||void 0===e?void 0:e.titleComponent),{},{color:this.getColor('title')})}},{key:'metadata',get:function(){var e;return o(o({},null===(e=this.components)||void 0===e?void 0:e.metadata),{},{color:this.getColor('metadata')})}},{key:'poster',get:function(){return this.components.poster||{}}},{key:'videoTeasers',get:function(){return this.components.videoTeasers||{}}},{key:'premiumPopup',get:function(){return this.components.premiumPopup||{}}},{key:'borderRadius',get:function(){return this.appearance.borderRadius||{}}},{key:'cta',get:function(){return ca(this.raw,Fn.getDevice())}},{key:'logger',get:function(){return{enable:fo(this.raw)}}},{key:'isPlayerBelowTheFold',get:function(){return this._stickyService.isPlayerBelowTheFold}},{key:'stickyPosition',get:function(){return this._stickyService.stickyPosition}},{key:'stickyCurrentPosition',get:function(){return this._stickyService.getStickyPosition()}},{key:'stickyOffset',get:function(){return this._stickyService.stickyOffset}},{key:'_isStickyEnabled',value:function(e){return mo(e)}},{key:'sticky',get:function(){return this._stickyService.getStickyConfig()}},{key:'isStickyInverted',get:function(){return this._stickyService.invert}},{key:'blockedAutoplayAction',get:function(){return this.raw.playback?this.raw.playback.blockedAutoplayAction:'click-to-play'}},{key:'resizeObserver',get:function(){return!Ra.nullOrUndefined(this.raw.resizeObserver)&&this.raw.resizeObserver}},{key:'tracking',get:function(){return so(this._configs)}},{key:'reporting',get:function(){return xo(this._configs)||{}}},{key:'shouldMonetize',get:function(){return!!Ra.nullOrUndefined(this.raw.monetization)||this.raw.monetization}},{key:'adsDelay',get:function(){return this.raw.adsDelay}},{key:'moatSamplingRate',get:function(){return this.raw.moatSamplingRate}},{key:'lazy',get:function(){if(!this._lazyConfig){var e=this.raw.lazy||{},t=Fn.isMobile()?e.mobileTarget:e.desktopTarget,i=(Fn.isMobile()?parseInt(e.mobileTimeDelay,10):parseInt(e.desktopTimeDelay,10))||null,n=e.type||null,o=Fo({targetSelector:t,timeDelay:i,type:n}),a=Ma.document().querySelector(t),r=this._getLazyScrollElement(e),s=parseFloat(e.threshold)||void 0,l=parseInt(e.delay,10)||0;this._lazyConfig={enabled:o,element:a,scrollElement:r,threshold:s,delay:l,timeDelay:i,type:n}}return this._lazyConfig}},{key:'colorTheme',get:function(){return Ho(this._configs)}},{key:'playerSize',get:function(){return bo(this._configs)}},{key:'adsConfig',get:function(){return Io(this._configs)}},{key:'displayAdVersion',get:function(){return this.adsConfig.displayAdVersion||1}},{key:'isDisplayAdEnabled',get:function(){return Uo(this._configs,Fn.getDevice())}},{key:'progressBarColor',get:function(){return Ho('progressBar',this._configs)}},{key:'titleTextColor',get:function(){var e=(null===(t=this._configs.components)||void 0===t||null===(i=t.titleComponent)||void 0===i?void 0:i.textColor)||'#fff',t,i;return qo(e,this._configs)}},{key:'titleBackgroundColor',get:function(){var e=(null===(t=this._configs.components)||void 0===t||null===(i=t.titleComponent)||void 0===i?void 0:i.backgroundColor)||La.PRIMARY,t,i;return qo(e,this._configs)}},{key:'pagingColor',get:function(){var e=(null===(t=this._configs.components)||void 0===t||null===(i=t.paging)||void 0===i?void 0:i.color)||La.PRIMARY,t,i;return qo(e,this._configs)}},{key:'playButtonColor',get:function(){return Ho('playButton',this._configs)}},{key:'transitionBackgroundColor',get:function(){var e=(null===(t=this._configs.components)||void 0===t||null===(i=t.transition)||void 0===i?void 0:i.color)||La.SECONDARY,t,i;return qo(e,this._configs)}},{key:'font',get:function(){return Vo(this._configs)}},{key:'displayAdTriggerTimeout',get:function(){return zo(this._configs)}},{key:'displayAdShouldTriggerOnAutoplayBlock',get:function(){return Yo(this._configs)}},{key:'displayAdDismissalTimeout',get:function(){return Ko(this._configs)}},{key:'displayAdPlacementCap',get:function(){return jo(this._configs)}},{key:'displayAdUnfilledCap',get:function(){return Qo(this._configs)}},{key:'displayAdRefreshTimeout',get:function(){return Go(this._configs)}},{key:'safeAds',get:function(){return ma(this._configs)}},{key:'whiteOps',get:function(){return fa(this._configs)}},{key:'shouldPauseOnTabBlur',get:function(){return ha(this._configs)}},{key:'_getLazyScrollElement',value:function(e){return e.scrollElement?Ma.document().querySelector(e.scrollElement):null}},{key:'getColor',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t,i;return qo((null===(t=this._configs.components)||void 0===t||null===(i=t[e])||void 0===i?void 0:i.color)||La.PRIMARY,this._configs)}},{key:'isPlayerCap',value:function(){return'playerLoad'===this.raw.adsCapMode&&this.isMaxAds()}},{key:'isWhitelable',value:function(){return!Ra.empty(this.raw.whitelable)&&!0===this.raw.whitelable}},{key:'isMaxAds',value:function(){return'undefined'!=typeof this.raw.maxAds&&0<this.raw.maxAds}},{key:'isAutoPlay',value:function(){return this.playback===Da.MODE.AUTO_PLAY}},{key:'isPlayInView',value:function(){return this.playback===Da.MODE.PLAY_IN_VIEW}},{key:'isPlayInViewPauseOutOfView',value:function(){return this.playback===Da.MODE.PLAY_IN_VIEW_PAUSE_OUT_OF_VIEW}},{key:'adsMode',get:function(){return uo(this._configs)}},{key:'dple',get:function(){return xa(this._configs,Fn.getMobileOrDesktopDevice())}},{key:'isBreakingAds',value:function(){var e=this.adsMode;return e&&e===On.BREAKING_ADS}},{key:'isPreroll',value:function(){var e=this.adsMode;return e&&e===On.PREROLL}},{key:'getCustomJSByHook',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'';return ba(this._configs,e)}},{key:'_isStickyEnable',value:function(){return mo(this._configs,this._device.getDevice())}},{key:'getCpmPredictionFactor',value:function(e){var t=e.isPublisherDemand;return Co(this._configs,Fn.getMobileOrDesktopDevice(),t)}},{key:'getChannelRate',value:function(e){var t=e.isPublisherDemand;return So(this._configs,Fn.getMobileOrDesktopDevice(),t)}},{key:'usePubContentVideoId',get:function(){return Ca(this._configs)}},{key:'triggerStickyOnLoad',get:function(){return Pa(this._configs)}}]),e}(),Va=new Ba,za=Va,Ya='56ea678d181f46c76f8b45fb',Fa={adConfig:{antihjck:!0,autoPlay:!0,soundButton:!0,pauseButton:!0,closebutton:!1,HD:!0,mode:0,lastFrame:!1,logo:!1,imaflags:!1,noifsnd:!0},showBigPlay:!0,showBigPlayOnPause:!0,showBigPrevNextOnPause:!0,soundButtonPosition:'right',showPauseButton:!0,showPrevButton:!1,showNextButton:!1,showBigPrevNext:!0,showSoundButton:!0,showVolumeControl:!0,volumeControlVertical:!0,showErrorScreen:!0,durationPosition:'right',playlistAutoSkipOnError:!0,noAdsOnContentPause:!0,showUiOnPause:!1,viewPercentageRequired:1,showDuration:!0,hideGuiOnMouseout:!0,hideGuiTimeout:1,timelineMode:'default',spinner:'default',theme:'solid',themeColor:'#ff0000',playOnView:!1,gui:{usePoster:!0},syncVolume:!0,showReplay:!0,mobile:{showBigPlay:!0,showBigPlayOnPause:!0,showBigPrevNext:!0,showUiOnPause:!1,showPauseButton:!0,showPrevButton:!1,showNextButton:!1,hideGuiTimeout:2},replayText:'Replay',content:{}},Wa={utm_medium:{name:'AV_UTM_MEDIUM'},utm_campaign:{name:'AV_UTM_CAMPAIGN'},utm_content:{name:'AV_UTM_CONTENT'},utm_source:{name:'AV_UTM_SOURCE'},utm_term:{name:'AV_UTM_TERM'},abtest_weight:{name:'AV_ABTEST_TEMPLATE_WIGHT',synonym:'AV_CDIM6'},abtest_name:{name:'AV_ABTEST_TEMPLATE_NAME',synonym:'AV_CDIM7'},page_load_uid:{name:'AV_PAGE_LOAD_UID',synonym:'AV_CDIM4'},subId:{name:'AV_SUBID',synonym:'sn'},country:{name:'cou'},integration_type:{name:'INTEGRATION_TYPE',synonym:'AV_CDIM5'},device:{name:'AV_DEVICETYPE'},version:{name:'VERSION'}},Ha={COUNTRY:'country',SUBID:'subId',PAGE_LOAD_UID:'page_load_uid',ABTEST_WEIGHT:'abtest_weight',ABTEST_NAME:'abtest_name',INTEGRATION_TYPE_NAME:'integration_type',DEVICE:'device',VERSION:'version'},qa={MOBILE_AUTO_CAPPING:1,DESKTOP_AUTO_CAPPING:2},Ka=i(50),Ga=fn.utils.guid,ja=fn.utils.urls,Qa=fn.utils.is,Xa=fn.utils.objects,Za=function(e,t){var i=e.publisherId,n=e.channelId,o=e.ref1,a=e.baseJsUrlwl,r=a?'servt.playbuzz.co':'atrack.avplayer.com',s='&AV_PUBLISHERID='.concat(i),l='&e='.concat(t),d='&cb='.concat(Date.now()),p='&cid='.concat(n);return'https://'.concat(r,'/track?pid=').concat(i).concat(s).concat(l).concat(d).concat(p,'&').concat(o)},Ja=function(e,t){var i={};return Qa.empty(e)||Qa.empty(t)||(i[Wa[e].name]=t,Wa[e].synonym&&(i[Wa[e].synonym]=t)),i},$a=function(e,t){var i={},n=t.map(function(e){return e.name});return e.filter(function(e){return n.includes(e.name)}).forEach(function(e){return Object.assign(i,Ja(e.name,e.value))}),i},er=function(e){var t={};return Xa.entries(e).forEach(function(e){var i=wn()(e,2),n=i[0],o=i[1],a='AV_'.concat(n);t[a]=o&&decodeURI(o)}),t},tr=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.autoSkip={time:10,timeout:5},e.content.firstPrerollSlot={time:0,maxAds:2,preloadAdTime:10,nextAdTimeout:5},e.content.commonSlots=[{time:0,maxAds:2,preloadAdTime:10,nextAdTimeout:5}],e},ir=function(e){var t=e.dimensions,i=e.queryParamsConfig,n=e.customParams,o=void 0===n?{}:n,a=e.device,r=t.urlParams,s=t.subId,l=t.pageLoadUid,d=t.integrationType,p=t.abTestName,u=t.abTestWeight,_=$a(r,i),c=er(o);return Object.assign(_,c,Ja(Ha.VERSION,Ka.a),Ja(Ha.SUBID,s),Ja(Ha.PAGE_LOAD_UID,l),Ja(Ha.ABTEST_WEIGHT,u),Ja(Ha.ABTEST_NAME,p),Ja(Ha.DEVICE,a),Ja(Ha.INTEGRATION_TYPE_NAME,d)),ja.objectToQueries(_)},nr=function(){function e(t){_n()(this,e),this.config=t,this._configurationService=za}return gn()(e,[{key:'getConfigurations',value:function(e){var t=this._getPlayerData(e);return this._getPlayerConfig(t)}},{key:'_getPlayerData',value:function(e){var t=this._updateConfigs(Fa,e),i=this._enrichConfigs(t);return i.plugins=this._getPluginConfig(),i}},{key:'_updateConfigs',value:function(e,t){var i=this._getSkip({enable:this.config.skipButton,text:this._configurationService.skipText,timer:this._configurationService.skipOffset}),n=this._configurationService.dimensions.width,o=this._configurationService.dimensions.height,a=this._getLogLevel(this._configurationService.logger.enable),r='exp_'.concat(Ga.generate()),s=this._configurationService.showFullScreenIcon,l=this._configurationService.loop;return e.content.slotTimeout=this._configurationService.slotTimeout,e.content.breakingAds=this._configurationService.timeBetweenErrorLimits,e.content.breakingAdsMode=this._getBreakingAdsMode(),e.content.adsDelay=this._configurationService.shouldMonetize?this._configurationService.adsDelay:9e9,e.content.hlsConfig=this._getHLSConfig(),e.content.contents=t,e.adConfig.imalang=this._configurationService.language,e.adConfig.publisherId=Ya,e.adConfig.channelId=this._configurationService.channelId,e.adConfig.ref1=ir({dimensions:this.config.dimensions,queryParamsConfig:this.config.reporting.queryParams,customParams:za.externalCustomParams,device:Fn.isMobile()?'mobile':'desktop'}),e.adConfig.logLevel=a,e.adConfig.skip=i.enable,e.adConfig.skipTimer=i.timer,e.adConfig.skipText=i.text,e.adConfig.noMuteOnBlur=this._configurationService.noMuteOnBlur,e.adConfig.errorlimit=this._configurationService.errorLimit,e.adConfig.vastRetry=this._configurationService.vastRetry,e.adConfig.loop=l,e.adConfig.position=r,e.adConfig.height=o,e.adConfig.width=n,e.logLevel=a,e.position=r,e.width=n,e.height=o,e.showTimelineReplay=this._getTimelineReplay(this._configurationService.showTimelineReplay),e.showFullScreen=s,e.hideLogoOnMouseout=this._getLogoShowOnHover(this._configurationService.logoShowOnHover),e.startVolume=this._getStartVolume(),e.autoPlay=this._configurationService.isAutoPlay()||this._configurationService.isPlayInViewPauseOutOfView(),e.autoLoop=l,e.autoContinue=this._configurationService.autoContinue,e.mobile.showFullScreen=s,this._configurationService.logo&&(e.logo=this._getLogos()),e}},{key:'_enrichConfigs',value:function(e){var t=this._configurationService,i=t.adsMode,n=t.adsInterval,o=t.timeToFirstAd,a=t.isPlayerCap;return this._isMaxRun(this.config.maxRun)&&(e.adConfig.maxrun=this._configurationService.maxRun),za.isWhitelable()&&(e.adConfig.baseJsUrlwl='https://player.playbuzz.co/script/6.1/',e.adConfig.adServerDomain='pbsrv.playbuzz.co',e.adConfig.trackDomain='servt.playbuzz.co'),n&&(e.adConfig.startmidroll=this._configurationService.adsInterval),o&&(e.adConfig.midrolldelay=o),i===On.PREROLL_AUTOSKIP&&tr(e),this._setBlockedAutoplayBehavior(e),a&&(e.adConfig.maximp=this.config.maxAds,e.content.breakingAdsMode='os'),e}},{key:'_getPluginConfig',value:function(){return[]}},{key:'_setBlockedAutoplayBehavior',value:function(e){var t=this._configurationService.blockedAutoplayAction;if(t)switch(e.detectAutoPlay=!0,t){case'image-video':e.detectAutoPlayAction='images';break;case'click-to-play':e.detectAutoPlayAction='ctp';break;default:e.detectAutoPlayAction='ctp';}}},{key:'_getSkip',value:function(e){return{timer:0===e.timer?1:e.timer,enable:e.enable,text:e.text}}},{key:'_getLogLevel',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return e?10:0}},{key:'_getTimelineReplay',value:function(e){return void 0===e||e}},{key:'_getLogoShowOnHover',value:function(e){return void 0!==e&&e}},{key:'_getLogos',value:function(){var e=this._configurationService.showPlaybuzzLogo,t=this._configurationService.logoPosition,i=this._configurationService.logoClickThrough,n=[this._configurationService.logoWidth,this._configurationService.logoHeight],o=this._configurationService.logoRedirect,a=!1,r={url:this._configurationService.logoUrl,text:a,size:n,position:t,clickThrough:i,redirect:o};if(!e)return r;var s={url:'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAUCAYAAAAa2LrXAAAAAXNSR0IArs4c6QAABX9JREFUWAntl21oFWQUx7fprJZgZvlSzgoSM3vzQ4UkRUlF9DIJUyHChAqL3r4klUUojVR6EYls1ofog5giblRkioaERGZK1GYLI5OytJZJ1rbMrd/v3ue5PPferbupWwge+N9znv8553k5z8u9t7ysl9LZ2bmclPNC2tTy8vLWXnZRMpwxzidoWQjczBgLSyb9TwEDj2LcSnKOJq83Q1UQPCgkRN2b/H6LdaIn5RgqcLKAx1A8U/OuIm9POdxZ4HRwGOzn/VH3SMgfQ+BFoAPsJneXifDpte+Ab5dPhZjT0nahjX8Y3Djgm9uU9oHPecerbv+5OYex40H5hzglb91ZqujTNcS8ImcgOnIdMdDtkLPA0CS6Fb6BCb2RcEUmMedCPg0sXk7g99J4AVSBRcFxCH5awSIn4Fsa/PvQzwQ7o4i/G2M2sFBKG1x9Mq+r4WoznrKyzegFwVY9BO4I7ZfR1eCu0O5OteH4DozvLiDw6zMVZjJzIB4HafGM8VTMxD/fRleCz5gXQSyeO3ckxJ6DtoDN4KvADUZPDXZUM6KBfi+xozkCIxZP7lTgvB620QfigfmrRL9u9JKBTGIixrQQ7MI3gp3A63gLcLKTiZvOjq/CLpTbIIYH0tyXgEWcC24AFuwm8CZYAhQLuFqDft20q7SRVrAWjLKRiCe5DvwE7PNaoNSQ35A1e/y5hcg/C6Kvpx1/mn3GOuvp9wDcl0mcdXCj3UjXt4i4dq9wJDHLFkJu0lDoRPsVYFwN6KqAxvwBLgbL7BRt7jcoF6uMhl8DtwPbDRuJfR3cZmyvk2+ksgnOZyPbCp9wKxPiY/wLaF8DKsCNoAn0SOjLouQKQ1/Ox6dLsWjemLIwN82MEPc8RrwFPmtf6HACYzWQvZC54knQdmKZQLSLHiKfCjEtYB3cR+BeYpaANdhzkrgBwfYUxurMIE7+5uCTfyfYpdSGJKA6sXtlMr5flk8BC+P4i1nLQXSeEHcrxKRA7kF7GzLiyaoK9i9BF6r0uHuM84TOfQNrweWJ4zD2fjA84dyQr4nfBnclOAV4tc8Aynb8P2bNvM+iMfEeSiIqE7u35lwShoWkdxl/a2EHzHcU3IOBd121xKkz4gmMEk9GbHsNXeSlgfCbyaIUyiyIWDyL8yjwG923sCt5HbIDNICaJGBVYqfmWOZRWKQ4nnFuvP1F8c0tKfTp5k0OgZ6q1wqTiPFkPgs8JMoKircra2Y/0wJmmDhZtFdjMRiaDS3bRnJRkfGND35VHTGN6Q4lvoyJbzeGxfsWjAXKHniL35WcCflEMi+Ld2cS+Al2urGXETtBPzouPAnP8CMgHgnk3+j53cx5Nr5xIa6ZmLeDnVNe4UJZyMCXQKY+r3HRDoXEX5MOHiPXBTnBLQmfZzKRV4l7LiEt6H/JFJyTyPHqng3iY+6itpqI72fUSOBpXRpiG7H3gULxVFUF0vjlxKcx9rkCzExIb8L6pK25OO8EEmDCFSAt3m+0n2SicSLpSJ6Ot0B8kyz8/cAF594J7CEgJ4xjOz7K5r6fcxYbntQ24IJ9U2PxfsBON8EfycZFGYzh+o5EAl3J2Peg01tjf36ZpRhEe17gUBmxrzRGuyItlIXxNHmCLIw/TXaAtRSvHR3FnRkdGm34WpjUfbT9OXQhcBF+m/tWrAbK91mV+5yO5c4r6+gjLbbcARBz/Tm0E5gzBrSC7cBHP5eH/TnzeAB+GqgGB0E9UOIG29cFoLvbZKzitbaIpaTRo/8B2AAmloo+Hn7GGQBWg43gQxC/BY9H9/3eR7zCa9hBT1t/yBQG8YQrnzJuS9Y8MT8tYDOo68fp+zcuysponKjaN3AepyD9YuiztXBd/Vnhe7gH/M64TX02WD91/C8rFdmA26b2VAAAAABJRU5ErkJggg==',text:a,size:n,position:'left'===this.config.logoPosition?'right':'left',clickThrough:i,redirect:o};return[r,s]}},{key:'_getStartVolume',value:function(){return this._configurationService.mute?0:1}},{key:'_getBreakingAdsMode',value:function(){var e=this._configurationService.breakingAdsMode;return e&&this._configurationService.isBreakingAds()?e:'op'}},{key:'_getHLSConfig',value:function(){var e=Fn.isMobile()?qa.MOBILE_AUTO_CAPPING:qa.DESKTOP_AUTO_CAPPING;return{autoLevelCapping:e,maxBufferLength:10,maxMaxBufferLength:20}}},{key:'_isMaxRun',value:function(e){return void 0!==e}},{key:'_getPlayerConfig',value:function(e){var t={data:e,appConfig:this.appConfig,targetEl:this.config.el,channelId:e.adConfig.channelId,divId:e.position,divParentId:this.config.divParentId,playerDetails:this.config};return t}}]),e}(),or='external-video',ar=fn.utils.objects,rr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.context||[]},sr=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=2<arguments.length?arguments[2]:void 0,n=ar.clone(e),o=t.toString();return o&&o.length&&(n.cparam1=o),i&&(n.cparam2=i),n},lr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.itemTags||[]},dr=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=ar.clone(e);return i.keywords=t.slice(0,10),i},pr=function(e){var t=e.type,i=e.video,n=e.fallbackSource;return t===or?n:i.mp4&&i.mp4.src||''},ur=function(e){var t=e.type,i=e.video,n=e.source,o=e.fallbackSource,a=pr({type:t,video:i,fallbackSource:o});return t===or?n||a:i.m3u8&&i.m3u8.src||a},_r=function(e){var t=e.type,i=e.poster,n=e.video;return t===or?i:n.jpg&&n.jpg.src||''},cr=function(e,t){return t.video&&t.video.videoDuration&&(e.videoDuration=t.video.videoDuration),e},gr=function(e,t){return t.mimeType&&(e.mimetype=t.mimeType),e},yr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i,n;return t.usePubContentVideoId&&null!==(i=e.videoSpecMeta)&&void 0!==i&&i.id?null===(n=e.videoSpecMeta)||void 0===n?void 0:n.id:e.id},mr=function(e,t){var i=ur(e),n=pr(e),o={id:yr(e,t),itemTags:e.itemTags,url:i,fallbackUrl:n,type:'video',title:e.title};return o.poster=t.shouldPassPoster?_r(e):'',o=sr(o,rr(e)),o=dr(o,lr(e)),o=cr(o,e),o=gr(o,e),o},fr={isExternalContents:function(e){return!(e[0]||{}).video},createContents:function(e,t){return e.map(function(e){return mr(e,t)})}},hr={CONTENT:{START:'ContentVideoStart',COMPLETE:'ContentVideoComplete',PLAYING:'ContentPlaying',PAUSED:'ContentPaused',PLAY_CLICKED:'ContentPlayClicked',PAUSE_CLICKED:'ContentPauseClicked',NEXT_CLICKED:'ContentNextClicked',PREV_CLICKED:'ContentPrevClicked',FIRST_QUARTILE:'ContentVideoFirstQuartile',MID_POINT:'ContentVideoMidpoint',THIRD_QUARTILE:'ContentVideoThirdQuartile',ERROR:'ContentError'},ADS:{AD_EVENT:'AdEvent',REQUEST:'request',IMPRESSION:'AdImpression',START:'AdVideoStart',COMPLETE:'AdVideoComplete',PLAYING:'AdPlaying',PAUSED:'AdPaused',CLOSED:'AdClosed',SKIPPED:'AdSkipped',VOLUME_CHANGE:'AdVolumeChange',FIST_QUARTILE:'AdVideoFirstQuartile',MID_POINT:'AdVideoMidpoint',THIRD_QUARTILE:'AdVideoThirdQuartile',ERROR:'AdError'},INVENTORY_REQUEST:'InventoryRequest',INVOKED_EVENTS:{VIEWABLE_PLAYER_LOAD:'AV_M20',PLAYER_LOAD:'playerLoaded',CTA:'AV_M19',HEART_BEAT:'AV_M18',PUBLISHER_DEMAND_SESSION:'AV_M17',PLAYER_OPPORTUNITY:'AV_M16',VIEWABLE_AD_IMPRESSION:'AV_M15'},PLAYER:{PAUSE:'player.pause',PLAY:'player.play',MUTE:'player.mute',UNMUTE:'player.unmute'}},vr=fn.utils.elements,br=function(){function e(t){_n()(this,e),this.config=t,this.playerUrl=t.playerDetails.nativePlayerVersion,this.config.adConfig=this.config.data.adConfig}return gn()(e,[{key:'init',value:function(){try{var e=document.querySelector('[id*="'.concat(this.config.divId,'"'));if(!e){e=document.createElement('div'),e.setAttribute('id',this.config.divId),e.style.setProperty('position','relative');var t=document.createElement('div');t.setAttribute('id',this.config.divParentId),t.classList.add('pbs__player'),t.appendChild(e),t.style.height='inherit',e.classList.add('pb-stream'),this.config.targetEl.appendChild(t),this._rollbackHeightSetByAV(e)}var i=this.config.data,n=this.config.adConfig;this.config.isExternalContents||(i.content.contents=this._getContentsWithAds(i.content.contents,n,this.config.playerDetails.adsMode)),this.handleOnPlayerLoad(i)}catch(e){Gn.error('aniview - error while creating new player provider instance',e)}}},{key:'_rollbackHeightSetByAV',value:function(e){var t=new MutationObserver(function(i){i.forEach(function(i){'attributes'===i.type&&(t.disconnect(),e.style.setProperty('height','inherit'))})});t.observe(e,{attributes:!0})}},{key:'sendTrackPixel',value:function(){vr.fireImgElementEvent(Za(this.config.adConfig,hr.INVOKED_EVENTS.PLAYER_LOAD))}},{key:'handleOnPlayerLoad',value:function(e){Gn.info('aniview - script loaded');var t=new window._avcp(e);this.nativePlayer=t,this.changeGui(t,{numOfVideos:e.content.contents.length}),t.nextContent()}},{key:'changeGui',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=Object.assign({},this._getBigNextPrevButtonsConfigs(t.numOfVideos));e.changeGUI(i)}},{key:'_getBigNextPrevButtonsConfigs',value:function(e){var t=!(1>=e);return{showBigPrevNextOnPause:t,showBigPrevNext:t}}},{key:'getNativePlayer',value:function(){return this.nativePlayer}},{key:'_getContentsWithAds',value:function(e,t,n){var o=[],a=[];t.publisherId&&t.channelId&&(a=[{type:'ad',adConfig:{publisherId:t.publisherId,channelId:t.channelId}}]);for(var r=0;r<e.length;r++){var i=e[r],s=JSON.parse(JSON.stringify(i));n===On.PREROLL&&(a[0].time=0),s.slots=JSON.parse(JSON.stringify(a))||[],o.push(s)}return o}}]),e}(),xr={MEDIA:{CONTENT:{LOAD:'ContentPlaying',START:'ContentVideoStart',PLAYING:'playing',PAUSE:'pause',LOADING:'loading',TIMEUPDATE:'timeupdate',ABORT:'media:abort',EMPTIED:'media:emptied',ERROR:'media:error',STALLED:'media:stalled',SUSPENDED:'media:suspended'},ADS:{REQUEST:'request',START:'AdVideoStart',PLAYING:'AdPlaying',PAUSE:'AdPaused',SKIPPED:'AdSkipped',CLOSED:'AdClosed',IMPRESSION:'AdImpression',ENDED:'AdVideoComplete',FIRST_QUARTILE:'AdVideoFirstQuartile',MID_POINT:'AdVideoMidpoint',THIRD_QUARTILE:'AdVideoThirdQuartile',VOLUME_CHANGE:'AdVolumeChange',TERMINATED:'AdTerminated'},DISPLAY_ADS:{PLAYING:'DisplayAdPlaying',ENDED:'DisplayAdEnded'},MEDIA_CHANGED:'media:changed'},ELEMENT:{MOUSE_IN:'mouse:in',MOUSE_OUT:'mouse:out',MOUSE_POSITION_CHANGED:'mouse-position:changed',POSITION_CHANGED:'element-position:changed',STICKY:'sticky',STATIC:'static',STICKY_CLOSE:'closeSticky',SIZE_BREAKPOINT_CHANGE:'size-breakpoint:changed',STICKY_CHANGED:'sticky:change'},STATE:{CHANGED:'state:changed'},CONTENT:{CHANGED:'content:changed',ACTION_CHANGED:'content:action-change'},CTA:{SHOW:'cta:show',HIDE:'cta:hide',ENABLED:'cta:enabled'},PROGRESS_BAR:{SEGMENT_CLICK:'progress-bar:segment-click'}},kr={MCD:'mcd',RSS:'rss',MRSS:'mrss'},Er=fn.utils.Pubsub,Sr=new Er({logger:Gn}),Tr=Sr,Cr=fn.utils.arrays,Pr=fn.utils.is,Ir=fn.utils.guid,Ar=fn.utils.objects,wr=fn.utils.environment,Or=fn.utils.urls,Dr=wr.getEnvPrefix,Lr=fn.constants.SERVER_ROUTES,Mr=fn.services.EnvVars,Rr=xr.MEDIA.CONTENT,Nr=function(){function e(){_n()(this,e),this._contents=[],this._content={},this._player=null,this._currentAction=null,Gn.info('contents service - initiated')}return gn()(e,[{key:'set',value:function(){var e=pn()(mn.a.mark(function e(){var t=arguments,i,n,o,a,r,s,l,d,p,u,_,c,g,y,m,f,h,v,b;return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=0<t.length&&void 0!==t[0]?t[0]:{},n=i.rawContents,o=void 0===n?[]:n,a=i.textualFeed,r=void 0===a?[]:a,s=i.fetchOnClient,l=void 0!==s&&s,d=i.contentConfig,p=i.externalContents,u=void 0===p?[]:p,_=i.random,c=void 0!==_&&_,g=i.randomFrom,y=i.useMp4Only,m=void 0!==y&&y,f=i.maxVideoWidth,h=i.externalCTA,v=i.ignoreExternalProps,b=o,!l||b.length){e.next=9;break}return e.next=5,this.fetch(d);case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=[];case 8:b=e.t0;case 9:return this._textualFeed=r,e.next=12,this._arrangeContents({exco:b,external:u,externalCTA:h,random:c,randomFrom:g,maxVideoWidth:f,useMp4Only:m,ignoreExternalProps:v});case 12:return this._contents=e.sent,this._setContent({content:this._contents[0]}),e.abrupt('return',this._contents);case 15:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'get',value:function(){return this._contents}},{key:'textualFeed',get:function(){return this._textualFeed||[]}},{key:'mp4URLs',get:function(){return this._contents.filter(function(e){var t,i;return!!(null!==(t=e.video)&&void 0!==t&&null!==(i=t.mp4)&&void 0!==i&&i.src)}).map(function(e){return e.video.mp4.src})}},{key:'mp4URLsWithoutScale',get:function(){return this._contents.filter(function(e){var t,i;return!!(null!==(t=e.video)&&void 0!==t&&null!==(i=t.mp4)&&void 0!==i&&i.noScaleSrc)}).map(function(e){return e.video.mp4.noScaleSrc})}},{key:'m3u8URLs',get:function(){return this._contents.filter(function(e){var t,i;return!!(null!==(t=e.video)&&void 0!==t&&null!==(i=t.m3u8)&&void 0!==i&&i.src)}).map(function(e){return e.video.m3u8.src})}},{key:'fetch',value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(i,n){var o=Lr.PLAYLIST,a=e._createContentQuery(t),r='//'.concat(Dr()).concat(o,'/api/v2/playlist?').concat(a);return r?fetch(Mr.applyEnvVars(decodeURIComponent(r))).then(function(e){return e.json()}).then(function(e){i(e)})['catch'](function(e){return n(e)}):i([])})})},{key:'isSourceAvailable',value:function(e){return new Promise(function(t){return e?fetch(e,{method:'HEAD'}).then(function(e){var i=e.status;return t(200===i)})['catch'](function(){return t(!1)}):t(!1)})}},{key:'listen',value:function(e){var t=e.player;this._player=t,this._player.onContentPlaying(function(){Tr.publish(Rr.LOAD)}),this._initVideoTagListeners()}},{key:'current',get:function(){return this._content}},{key:'currentContext',get:function(){return this._content.context||[]}},{key:'nextContent',get:function(){var e=this.currentIndex+1===this._contents.length?0:this.currentIndex+1;return this._contents[e]}},{key:'currentIndex',get:function(){var e=this;return this._contents.findIndex(function(t){return t.id===e._content.id})}},{key:'type',get:function(){return this._content.type}},{key:'action',get:function(){return this._currentAction}},{key:'addMP4WidthScaling',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length?arguments[1]:void 0;return e.map(function(e){var i=Ar.clone(e);if(i&&i.video){i.video.mp4=i.video.mp4||{};var n=i.video.mp4.src;i.video.mp4.src=n.includes('upload/')&&t?n.replace('upload/','upload/c_scale,w_'.concat(t,'/')):n,i.video.mp4.noScaleSrc=n}return i})}},{key:'removeM3U8Extensions',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return e.map(function(e){var t=Ar.clone(e);return t&&t.video&&delete t.video.m3u8,t})}},{key:'isCurrentActionCTA',value:function(){return this._isActionOfTypeCTA(this._currentAction)}},{key:'updateContent',value:function(e){this._onContentPlaying(e),Tr.publish(Rr.START)}},{key:'onchange',value:function(e){Tr.subscribe(xr.CONTENT.CHANGED,e)}},{key:'onActionChange',value:function(e){this.subscribe(xr.CONTENT.ACTION_CHANGED,e)}},{key:'anyContentContainsCTAActions',value:function(){var e=this;return this._contents.some(function(t){return e.containsCTAActions(t)})}},{key:'containsCTAActions',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=t.videoSpecMeta||{},n=i.actions;return Pr.array(n)&&n.some(function(t){return e._isActionOfTypeCTA(t)})}},{key:'getActionTimes',value:function(e){var t=[];return Pr.empty(e.videoSpecMeta)||Pr.empty(e.videoSpecMeta.actions)||(t=e.videoSpecMeta.actions.map(function(e){return{startTime:e.startTime,endTime:e.endTime}})),t}},{key:'subscribe',value:function(e,t){Tr.subscribe(e,t)}},{key:'_getCurrentAction',value:function(e){var t=this.current.videoSpecMeta;t=void 0===t?{}:t;var i=t.actions;if(!i)return null;var n=rn(e),o=i.filter(function(e){return Pr.inRange(n,e.startTime,e.endTime)})[0];return o&&(o.index=i.indexOf(o)),o}},{key:'_initVideoTagListeners',value:function(){var e=this;this._player.videoTag.onplay=function(){Tr.publish(Rr.PLAYING)},this._player.videoTag.onpause=function(){Tr.publish(Rr.PAUSE)},this._player.videoTag.oncanplay=function(t){t.target.paused?Tr.publish(Rr.PAUSE):Tr.publish(Rr.PLAYING)},this._player.videoTag.onloadstart=function(){Tr.publish(Rr.LOADING)},this._player.videoTag.ontimeupdate=function(){var t=e._player.videoTag.currentTime;e._onTimeUpdate(t),Tr.publish(Rr.TIMEUPDATE,{currentTime:t,duration:e._player.videoTag.duration})}}},{key:'_onContentPlaying',value:function(e){Pr.equal(e,this._content.source)&&1<this._contents.length||(this._updateContent({source:e}),Tr.publish(xr.CONTENT.CHANGED,this.current))}},{key:'_onTimeUpdate',value:function(e){var t=this._getCurrentAction(e);this._currentAction!==t&&(this._currentAction=t,Tr.publish(xr.CONTENT.ACTION_CHANGED,this._currentAction))}},{key:'_updateContent',value:function(e){var t=e.source?this._getContentBySource(e.source):this._getContentByIndex(e.index);this._setContent({content:t,source:e.source})}},{key:'_getContentByIndex',value:function(e){return this._contents[e]}},{key:'_getContentBySource',value:function(e){return Cr.find(this._contents,e)}},{key:'_setContent',value:function(e){var t=e.content,i=e.source,n=this._extractContentImplementationType(t),o=t.title,a=t.author,r=t.videoSpecMeta,s=void 0===r?{}:r,l=t.context,d=void 0===l?[]:l,p=t.video,u=void 0===p?{}:p,_=t.poster,c=u.videoDuration,g=u.duration;this._content={source:i,author:a,poster:_,type:n,videoSpecMeta:s,title:o,context:d,id:t.id||t._id,createDate:t.createDate||s.createDate,duration:c||g||s.duration}}},{key:'_extractContentImplementationType',value:function(e){var t=e.source,i=Ar.values(kr).find(function(e){return e===t});return i||kr.MCD}},{key:'_isActionOfTypeCTA',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e&&'cta'===e.type}},{key:'_getExternalVideosMap',value:function(){var e=pn()(mn.a.mark(function e(t){var i=this,n,o;return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,t,i){return t&&t.includes('.'.concat(e))?t:i&&i.includes('.'.concat(e))?i:''},e.next=3,Promise.all(t.map(function(e){var t=e.source;return i.isSourceAvailable(t)}));case 3:return o=e.sent,e.abrupt('return',t.map(function(e,t){var i=e.source,a=e.fallbackSource,r=e.title,s=e.id,l=e.poster,d=e.keywords,p=e.author,u=o[t]?i:a;return{title:r||'',id:s||Ir.generate(),url:i,author:p,fallbackSource:a,poster:l,itemTags:d||[],video:{mp4:{src:n('mp4',u,a)},m3u8:{src:n('m3u8',u,a)}}}}));case 5:case'end':return e.stop();}},e)}));return function(){return e.apply(this,arguments)}}()},{key:'_getFinalizedContent',value:function(e,t,i){return i?e:e.concat(t)}},{key:'_arrangeContents',value:function(){var e=pn()(mn.a.mark(function e(t){var i,n,o,a,r,s,l,d,p,u,_,c,g,y,m,f;return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.exco,n=t.external,o=t.externalCTA,a=t.random,r=t.randomFrom,s=t.maxVideoWidth,l=t.useMp4Only,d=void 0!==l&&l,p=t.ignoreExternalProps,u=void 0===p?{}:p,c=n.sources,g=void 0===c?[]:c,y=n.isExternalVideosOnly,m=this.addMP4WidthScaling(i,s),!Pr.empty(g)){e.next=7;break}_=m,e.next=11;break;case 7:return e.next=9,this._getExternalVideosMap(g);case 9:f=e.sent,_=this._getFinalizedContent(this.addMP4WidthScaling(f,s),m,!u.externalVideosOnly&&y);case 11:return d&&(_=this.removeM3U8Extensions(_)),Pr.empty(o)||(_=this._setCTAOnAllVideos(_,o)),e.abrupt('return',this._shouldRandomize(a,r,_)?this._randomize(_,r):_);case 14:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'_setCTAOnAllVideos',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length?arguments[1]:void 0;return e.map(function(e){var i=p({},e);return i.videoSpecMeta=i.videoSpecMeta||{},i.videoSpecMeta.actions=(i.videoSpecMeta.actions||[]).filter(function(e){return'cta'!==e.type}).concat({type:'cta',startTime:0,endTime:9e9,data:t}),i})}},{key:'_shouldRandomize',value:function(e,t,i){return e&&t<i.length}},{key:'_randomize',value:function(e,t){var i=this._getGroupedContentsByFeedId(e),n=[],o=i;return 0!==t&&(n=i.slice(0,t),o=i.slice(t)),o=this._randomizeFeeds(o),o=Cr.random(o),n.concat(o).flat()}},{key:'_getGroupedContentsByFeedId',value:function(e){var t={};return e.forEach(function(e){'feed'===e.source?(!t[e.feedId]&&(t[e.feedId]=[]),t[e.feedId].push(e)):t[e.id]=[e]}),Object.values(t)}},{key:'_randomizeFeeds',value:function(e){return e.map(function(e){if(1===e.length)return e;var t=e.find(function(e){return'intro'===e.type}),i=Cr.random(e.filter(function(e){return'intro'!==e.type}));return t&&i.unshift(t),i})}},{key:'_createContentQuery',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this._getQueryMap(e);return this._getQueryFromMap(t)}},{key:'_getQueryFromMap',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.mrss,i=e.rss,n=e.videoconsole,o={};return t&&t.source?Object.assign(o,t):i&&i.playerId?Object.assign(o,{playerId:i.playerId}):n&&n.playlistId&&Object.assign(o,{id:n.playlistId}),Or.objectToQueries(o)}},{key:'_getQueryMap',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.playerId,i=e.content,n=void 0===i?{}:i,o=n.mrss?n.mrss:{},a=n.rss?n.rss:{},r=n.userPlaylist?n.userPlaylist:{},s=null,l=null,d=null;return o.enabled&&(s={maxDuration:o.maxDuration,minDuration:o.minDuration,source:o.source,limit:o.limit,sort:o.sort?o.sort.map(function(e){return e.id}):null,daysSincePublished:o.filter?o.filter.daysSincePublished:null}),a.enabled&&(l={playerId:t}),r.enabled&&(d={playlistId:r.id}),Object.assign({},{mrss:s,rss:l,videoconsole:d})}}]),e}(),Ur=new Nr,Br=Ur,Vr=fn.utils.elements,zr=function(e){var t=function(e,t,i){Vr.setAttributes(e,{name:t,id:t});var n=Vr.create('label',{for:t},i);Vr.insertBeforeSibling(e,n)},i=e.getElementsByTagName('input');Array.from(i).forEach(function(e,n){return t(e,''.concat('av-input-label','_').concat(n),'av-override')})},Yr=function(e){zr(e)},Fr=fn.utils.environment,Wr=function(e){var t=e.inView,i=e.outOfView;Fr.window().addEventListener('visibilitychange',function(){'visible'===Fr.document().visibilityState?t():i()})},Hr=fn.utils.ViewabilityObserver,qr=function(){function e(t){var i=t.element,n=t.inView,o=t.outOfView;_n()(this,e),this._element=i,this._inViewCb=n,this._outOfViewCb=o,this._tabInView=!0}return gn()(e,[{key:'init',value:function(){this._viewabilityObserver=new Hr({threshold:.5}),this._viewabilityObserver.observe(this._element,this._onViewabilityObInView.bind(this),this._onViewabilityObOutOfView.bind(this)),Wr({inView:this._onTabViewabilityInView.bind(this),outOfView:this._onTabViewabilityOutOfView.bind(this)})}},{key:'_onViewabilityObInView',value:function(){this._elementInView=!0,this._callInViewCb()}},{key:'_onViewabilityObOutOfView',value:function(){this._elementInView=!1,this._outOfViewCb()}},{key:'_onTabViewabilityInView',value:function(){this._tabInView=!0,this._callInViewCb()}},{key:'_onTabViewabilityOutOfView',value:function(){this._tabInView=!1,this._outOfViewCb()}},{key:'_callInViewCb',value:function(){this._tabInView&&this._elementInView&&this._inViewCb()}}]),e}(),Kr=fn.constants.PLAYBACK,Gr=fn.constants.DATA_EVENTS.AD_SOURCE_OWNERS,jr=fn.utils.environment,Qr=fn.utils.elements,Xr=fn.utils.urls,Zr=fn.utils.Pubsub,Jr='player-resize',$r='ad-request',es='in-view',ts='out-of-view',is=function(e){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n;_n()(this,t);var o=e.rawConfig,a=e.containerId,r=e.parentElement,s=e.customDimensions;return n=i.call(this),n._config=o,n._config.el=r,n._config.dimensions=s,n._config.divParentId=a,n._aniviewConfig=null,n._aniviewContents=null,n._aniviewPlayer=null,n._oldImplPlayer=null,n._container=null,n._inView=!1,n._pubsub=new Zr,n}En()(t,e);var i=u(t);return gn()(t,[{key:'init',value:function(){var e=pn()(mn.a.mark(function e(){var t,i;return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._downloadPlayerScript();case 2:t=Br.get(),i=fr.isExternalContents(t),this._aniviewContents=i?t:this._createContents(t),Gn.info('aniview player manager - player contents set',this._aniviewContents),this._aniviewConfig=this._createConfiguration(),this._aniviewConfig.isExternalContents=i,Gn.info('aniview player manager - player configs set',this._aniviewConfig),this._initPlayer(),this._initViewabilityObserver(),this._addListener(hr.ADS.AD_EVENT,this._onAdEvent.bind(this)),Yr(this.container);case 13:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'_downloadPlayerScript',value:function(){var e=pn()(mn.a.mark(function e(){var t,i;return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.querySelector('script[src="'.concat(this._config.nativePlayerVersion,'"]')),this._config.prefetchPlayer||t){e.next=6;break}return i=jr.useCDNinsteadOfS3(this._config.nativePlayerVersion),jr.addPreconnectLink(Xr.origin(i)),e.next=6,jr.downloadScript(i);case 6:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'viewablePlayerLoadEventUrl',get:function(){return Za(this._aniviewConfig.adConfig,hr.INVOKED_EVENTS.VIEWABLE_PLAYER_LOAD)}},{key:'playerOpportunityEventUrl',get:function(){return Za(this._aniviewConfig.adConfig,hr.INVOKED_EVENTS.PLAYER_OPPORTUNITY)}},{key:'publisherDemandSessionEventUrl',get:function(){return Za(this._aniviewConfig.adConfig,hr.INVOKED_EVENTS.PUBLISHER_DEMAND_SESSION)}},{key:'ctaEventUrl',get:function(){return Za(this._aniviewConfig.adConfig,hr.INVOKED_EVENTS.CTA)}},{key:'heartbeatEventUrl',get:function(){return Za(this._aniviewConfig.adConfig,hr.INVOKED_EVENTS.HEART_BEAT)}},{key:'viewableImpressionEventUrl',get:function(){return Za(this._aniviewConfig.adConfig,hr.INVOKED_EVENTS.VIEWABLE_AD_IMPRESSION)}},{key:'container',get:function(){if(!this._container){var e=jr.document();this._container=e.querySelector('[id*="'.concat(this._aniviewConfig.divId,'"'))}return this._container}},{key:'videoTag',get:function(){return this.container.querySelector('video')}},{key:'muted',get:function(){return this._aniviewPlayer.getMuted()}},{key:'unmuted',get:function(){return!this.muted}},{key:'playing',get:function(){var e=this._aniviewPlayer.getPlayState(),t=e.content,i=e.ads;return'playing'===t||'playing'===i}},{key:'paused',get:function(){return!this.playing}},{key:'appendUi',value:function(e){this._container&&this._container.parentNode.appendChild(e)}},{key:'play',value:function(){this._aniviewPlayer.play(),this._pubsub.publish(hr.PLAYER.PLAY)}},{key:'isPlayButtonPaused',value:function(){var e=this.container.querySelector('.avp-p-cn-bp'),t=e.getAttribute('data-avp-state');return'play'===t}},{key:'playUsingButton',value:function(){this.isPlayButtonPaused()&&this.togglePlayButton()}},{key:'pauseUsingButton',value:function(){this.isPlayButtonPaused()||this.togglePlayButton()}},{key:'togglePlayButton',value:function(){var e=this.container.querySelector('.avp-p-cn-bp');e.click()}},{key:'pause',value:function(){this._aniviewPlayer.pause(),this._pubsub.publish(hr.PLAYER.PAUSE)}},{key:'resume',value:function(){this._aniviewPlayer.resume()}},{key:'skipAd',value:function(){this._aniviewPlayer.skipAd()}},{key:'next',value:function(){this._aniviewPlayer.nextContent()}},{key:'prev',value:function(){this._aniviewPlayer.prevContent()}},{key:'close',value:function(){this._aniviewPlayer.close()}},{key:'mute',value:function(){this._aniviewPlayer.mute(),this._pubsub.publish(hr.PLAYER.MUTE)}},{key:'unmute',value:function(){this._aniviewPlayer.unmute(),this._pubsub.publish(hr.PLAYER.UNMUTE)}},{key:'getMuted',value:function(){return this._aniviewPlayer.getMuted()}},{key:'volume',value:function(){return this._aniviewPlayer.getVolume()}},{key:'setVolume',value:function(e){this._aniviewPlayer.setVolume(e)}},{key:'duration',value:function(){return this._aniviewPlayer.getAdDuration()}},{key:'setTime',value:function(e){this._aniviewPlayer.setContentCurrentTime(e)}},{key:'setContentByIndex',value:function(e){this._aniviewPlayer.setContentByIndex(e),this._onSetContentByIndex(e)}},{key:'resize',value:function(){this._aniviewPlayer.resize(),this._publishResize()}},{key:'onResize',value:function(e){this._pubsub.subscribe(Jr,e)}},{key:'onInView',value:function(e){this._pubsub.subscribe(es,e)}},{key:'onOutOfView',value:function(e){this._pubsub.subscribe(ts,e)}},{key:'isInView',get:function(){return this._inView}},{key:'_initViewabilityObserver',value:function(){var e=this;this._viewabilityService=new qr({element:this.container,inView:function(){e._inView=!0,e._pubsub.publish(es)},outOfView:function(){e._inView=!1,e._pubsub.publish(ts)}}),this._viewabilityService.init()}},{key:'_publishResize',value:function(){var e=Qr.dimensions(this.container),t=e.width,i=e.height;this._pubsub.publish(Jr,{width:t,height:i})}},{key:'_isPublisherOwnerType',value:function(e){var t=null===e||void 0===e||null===(i=e.data)||void 0===i||null===(n=i.p1)||void 0===n||null===(o=n.tagInfo)||void 0===o||null===(a=o.papi)||void 0===a?void 0:a.ot,i,n,o,a;return t===2}},{key:'sendPublisherDemandSessionEvent',value:function(){Qr.fireImgElementEvent(this.publisherDemandSessionEventUrl)}},{key:'sendPlayerLoadEvent',value:function(){return this._oldImplPlayer.sendTrackPixel()}},{key:'sendViewablePlayerLoadEvent',value:function(){Qr.fireImgElementEvent(this.viewablePlayerLoadEventUrl)}},{key:'sendPlayerOpportunityEvent',value:function(){Qr.fireImgElementEvent(this.playerOpportunityEventUrl)}},{key:'sendCTAClickedEvent',value:function(){Qr.fireImgElementEvent(this.ctaEventUrl)}},{key:'sendHeartBeatEvent',value:function(){Qr.fireImgElementEvent(this.heartbeatEventUrl)}},{key:'sendViewableImpressionEvent',value:function(){Qr.fireImgElementEvent(this.viewableImpressionEventUrl)}},{key:'onSetContentByIndex',value:function(e){this._onSetContentByIndex=e}},{key:'onContentStart',value:function(e){this._addListener(hr.CONTENT.START,e)}},{key:'onContentEnded',value:function(e){this._addListener(hr.CONTENT.COMPLETE,e)}},{key:'onContentPlaying',value:function(e){this._addListener(hr.CONTENT.PLAYING,e)}},{key:'onContentPaused',value:function(e){this._addListener(hr.CONTENT.PAUSED,e)}},{key:'onNextClicked',value:function(e){this._addListener(hr.CONTENT.NEXT_CLICKED,e)}},{key:'onPrevClicked',value:function(e){this._addListener(hr.CONTENT.PREV_CLICKED,e)}},{key:'onPlayerStart',value:function(e){var t=!1,i=function(){t||(t=!0,e())};this._addListener(hr.CONTENT.START,i),this._addListener(hr.ADS.START,i)}},{key:'onContentProgress',value:function(e){function t(t){var i=(n={},vn()(n,hr.CONTENT.FIRST_QUARTILE,25),vn()(n,hr.CONTENT.MID_POINT,50),vn()(n,hr.CONTENT.THIRD_QUARTILE,75),n),n;e(i[t.type])}this._addListener(hr.CONTENT.FIRST_QUARTILE,t),this._addListener(hr.CONTENT.MID_POINT,t),this._addListener(hr.CONTENT.THIRD_QUARTILE,t)}},{key:'onContentFirstQuarter',value:function(e){this._addListener(hr.CONTENT.FIRST_QUARTILE,e)}},{key:'onContentMidPoint',value:function(e){this._addListener(hr.CONTENT.MID_POINT,e)}},{key:'onContentThirdQuarter',value:function(e){this._addListener(hr.CONTENT.THIRD_QUARTILE,e)}},{key:'onMute',value:function(e){this._pubsub.subscribe(hr.PLAYER.MUTE,e)}},{key:'onUnmute',value:function(e){this._pubsub.subscribe(hr.PLAYER.UNMUTE,e)}},{key:'onPause',value:function(e){this._pubsub.subscribe(hr.PLAYER.PAUSE,e)}},{key:'onPlay',value:function(e){this._pubsub.subscribe(hr.PLAYER.PLAY,e)}},{key:'onAdTerminated',value:function(){}},{key:'onAdImpression',value:function(e){var t=this;this._addListener(hr.ADS.IMPRESSION,function(i){return t._arrangeDataForAdImpressionEvent(i,e)})}},{key:'onAdStart',value:function(e){this._addListener(hr.ADS.START,e)}},{key:'onAdCompleted',value:function(e){this._addListener(hr.ADS.COMPLETE,e)}},{key:'onAdRequest',value:function(e){this._pubsub.subscribe($r,e)}},{key:'_onAdEvent',value:function(e){var t;(e===hr.ADS.REQUEST||(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.p1)===hr.ADS.REQUEST)&&this._pubsub.publish($r)}},{key:'onAdPlaying',value:function(e){this._addListener(hr.ADS.PLAYING,e)}},{key:'onAdPaused',value:function(e){this._addListener(hr.ADS.PAUSED,e)}},{key:'onAdClosed',value:function(e){this._addListener(hr.ADS.CLOSED,e)}},{key:'onAdSkipped',value:function(e){this._addListener(hr.ADS.SKIPPED,e)}},{key:'onAdVolumeChange',value:function(e){this._addListener(hr.ADS.VOLUME_CHANGE,e)}},{key:'onAdFirstQuarter',value:function(e){this._addListener(hr.ADS.FIST_QUARTILE,e)}},{key:'onAdMidPoint',value:function(e){this._addListener(hr.ADS.MID_POINT,e)}},{key:'onAdThirdQuarter',value:function(e){this._addListener(hr.ADS.THIRD_QUARTILE,e)}},{key:'_arrangeDataForAdImpressionEvent',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,i=this.volume(),n=this._isPublisherOwnerType(e)?Gr.PUBLISHER:Gr.NETWORK,o=this._extractTypeFromAdEvent(e),a=this._extractAdSourceIdFromAdEvent(e),r=this._extractCPMFromAdEvent(e),s=this._extractVideoUrlFromAdEvent(e),l=this.duration();t({payload:e,adSourceOwner:n,adSourceType:o,adVolume:i,adSourceId:a,cpm:r,videoUrl:s,adDuration:l})}},{key:'_isErrorCodeOfType',value:function(e){return this.videoTag.error&&this.videoTag.error.code===e.code}},{key:'_extractTypeFromAdEvent',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.data&&e.data.p1?e.data.p1.mt:void 0}},{key:'_extractAdSourceIdFromAdEvent',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.data&&e.data.p1?e.data.p1.asid:void 0}},{key:'_extractCPMFromAdEvent',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=0,i=e.data&&e.data.p1&&e.data.p1.tagInfo;return i&&(t=i.bidCpm||i.floorCpm||0),t}},{key:'_extractVideoUrlFromAdEvent',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.data&&e.data.p1?e.data.p1.videoUrl:void 0}},{key:'_createConfiguration',value:function(){return new nr(this._config).getConfigurations(this._aniviewContents)}},{key:'_createContents',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=za.playback===Kr.MODE.CLICK_TO_PLAY,i=za.usePubContentVideoId;return fr.createContents(e,{shouldPassPoster:t,usePubContentVideoId:i})}},{key:'_initPlayer',value:function(){this._oldImplPlayer=this._createPlayer(),this._oldImplPlayer.init(),this._aniviewPlayer=this._oldImplPlayer.getNativePlayer(),Gn.info('aniview player manager - created new player.')}},{key:'_createPlayer',value:function(){return new br(this._aniviewConfig)}},{key:'_addListener',value:function(t,e){if(this._aniviewPlayer)try{this._aniviewPlayer.on(t,e)}catch(i){Gn.error('Could not add event-listener for event \''.concat(t,'\''),i)}else Gn.error('Could not add event-listener for event \''.concat(t,'\' since AV player is not initizlized.'))}}]),t}(In),ns=i(26),os=i(45),as=fn.constants.PLAYBACK,rs=fn.utils.is,ss=fn.utils.device,ls=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_n()(this,e),this._rawConfig=t,this._isMobile=ss.isMobile()}return gn()(e,[{key:'sellerId',get:function(){var e;return(null===(e=this._rawConfig.publisher)||void 0===e?void 0:e.sellerId)||''}},{key:'sellersJSONDomain',get:function(){var e;return(null===(e=this._rawConfig.publisher)||void 0===e?void 0:e.sellersJSONDomain)||''}},{key:'adsInterval',get:function(){return this._rawConfig.adsInterval}},{key:'timeToFirstAd',get:function(){return this._rawConfig.timeToFirstAd}},{key:'adsMode',get:function(){return this._rawConfig.adsMode||On.BREAKING_ADS}},{key:'schedule',get:function(){var e=(t={},vn()(t,On.BREAKING_ADS,this._getBreakingAdsSchedule()),vn()(t,On.PREROLL,this._getPreRollAdsSchedule()),vn()(t,On.PLAYLIST_PREROLL,this._getPreRollAdsSchedule()),t),t;return e[this.adsMode]?e[this.adsMode]:null}},{key:'noAdsSchedule',get:function(){return{content:null,time:{start:1e3},auto:null}}},{key:'_getBreakingAdsSchedule',value:function(){var e={auto:{start:this.adsInterval,mas:1,wait:20}};return 0<this.adsInterval?e:null}},{key:'_getPreRollAdsSchedule',value:function(){return{content:{wait:this.preRollTimeout,mas:1}}}},{key:'preRollTimeout',get:function(){var e=this._rawConfig.slotTimeout,t=void 0===e?5:e;return t}},{key:'loopContents',get:function(){return!rs.boolean(this._rawConfig.loop)||this._rawConfig.loop}},{key:'playbackMode',get:function(){var e=this._isMobile?this._rawConfig.playbackModeMobile:this._rawConfig.playbackMode;return e||as.MODE.AUTO_PLAY}},{key:'mute',get:function(){return za.mute}},{key:'isAutoplay',get:function(){return this.playbackMode===as.MODE.AUTO_PLAY}},{key:'resetAdScheduleOnContentChange',get:function(){return this.adsMode!==On.PLAYLIST_PREROLL}},{key:'adServerURL',get:function(){return this._rawConfig.providerURL||null}},{key:'sdkURL',get:function(){return this._rawConfig.providerSDK||null}},{key:'prebidBundleURL',get:function(){return this._getPrebidConfig().src}},{key:'_getPrebidConfig',value:function(){var e;return(null===(e=this._rawConfig.adsConfig)||void 0===e?void 0:e.pb)||{}}},{key:'useIIQ',get:function(){var e,t;return['US','CA'].includes(this._rawConfig.country)&&!!(null!==(e=this._rawConfig.adsConfig)&&void 0!==e&&null!==(t=e.iiq)&&void 0!==t&&t.enabled)}},{key:'shouldMonetize',get:function(){return!!rs.nullOrUndefined(this._rawConfig.monetization)||this._rawConfig.monetization}},{key:'prefetchedPlayerScript',get:function(){return this._rawConfig.prefetchPlayer}}]),e}(),ds=function(){function e(t){_n()(this,e),this._contentsService=t}return gn()(e,[{key:'mp4URLs',get:function(){return this._contentsService.mp4URLs.map(function(e){var t=new URL(e);return''.concat(t.origin,'/').concat(encodeURIComponent(t.href.replace(''.concat(t.origin,'/'),'')))})}},{key:'currentIndex',get:function(){return this._contentsService.currentIndex}}]),e}(),ps={subId:'sid',integrationType:'sid2',abTestName:'sid3',utm_source:'utm_source',utm_medium:'utm_medium',utm_campaign:'utm_campaign',utm_term:'utm_term',utm_content:'utm_content'},us=i(25),_s=function(e){var t=e.bundleURL,i=e.enrichments,n=void 0===i?[]:i;return function(e){if(!e)return e;var i=us.a.merge([{},e,{src:t}]);return n.reduce(function(t,i){return us.a.merge([{},t,i])},i)}},cs=function(e){var t=e.prebidBundleURL,i=e.iiq,n=void 0===i?null:i,o=[];return n&&o.push(n.getPBEnrichment()),_s({bundleURL:t,enrichments:o})},gs=function(e){var t=e.eids,i=void 0===t?[]:t,n={};return 0<i.length&&(n.eids=btoa(JSON.stringify(i))),n},ys=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t,i;return 1<(null===(t=e.schedule)||void 0===t||null===(i=t.content)||void 0===i?void 0:i.mas)},ms=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return v(v({},e),{},{content:v(v({},e.content),{},{mas:1})})},fs=function(e){var t=e.config,i=void 0===t?{}:t,n=e.serverParams,o=void 0===n?{}:n,a=e.viewabilityFunc,r=e.iiq,s=void 0===r?null:r,l={autoplay:i.isAutoplay,allowSound:i.mute?'dynamic':'must',viewability:a,prebid:cs({prebidBundleURL:i.prebidBundleURL,iiq:s})};return s&&(l.gpvExtraParams=gs({eids:s.getEIDs()})),ys(o)&&(l.schedule=ms(o.schedule)),i.shouldMonetize||(l.schedule=i.noAdsSchedule),l},hs=i(39),vs=i.n(hs),bs=1181347726,xs=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(t){var i=e.ip,n=void 0===i?'':i,o='intentIq_'.concat(bs),a=function(){return new Promise(function(e){window[o]=new x({partner:bs,refreshInMillis:432e5,timeoutInMillis:3e3,isAsyncServerRequest:!0,enhanceRequests:!0,callback:function(t){e(t)},sourceMetaData:n})})};try{a().then(function(e){return t({data:e,instance:window[o]})})}catch(i){t(null)}})},ks=function(e){return{config:{userSync:{userIds:[{name:'pubProvidedId',params:{eidsFunction:e}}]}}}},Es=function(e){var t,i;return e&&!!(null!==(t=e.data)&&void 0!==t&&t.eids)&&0<(null===(i=e.data)||void 0===i?void 0:i.eids.length)},Ss=function(){var e=pn()(mn.a.mark(function e(t){var i,n,o,a;return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.timeoutInMS,n=t.ip,o=new Promise(function(e){return setTimeout(function(){return e(null)},i)}),a=function(){var e=pn()(mn.a.mark(function e(){var t;return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xs({ip:n});case 2:return t=e.sent,e.abrupt('return',Es(t)?{getEIDs:function(){var e;return(null===(e=t.data)||void 0===e?void 0:e.eids)||[]},getPBEnrichment:function(){var e;return null!==(e=t.instance)&&void 0!==e&&e.getIntentIqEids?ks(t.instance.getIntentIqEids):{}}}:null);case 4:case'end':return e.stop();}},e)}));return function(){return e.apply(this,arguments)}}(),e.abrupt('return',Promise.race([a(),o]));case 4:case'end':return e.stop();}},e)}));return function(){return e.apply(this,arguments)}}(),Ts=fn.utils.environment,Cs=fn.utils.elements,Ps=fn.utils.urls,Is=fn.utils.is,As=fn.utils.objects,ws=function(){var e=pn()(mn.a.mark(function e(t){return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Ts.addPreconnectLink(Ps.origin(t)),e.abrupt('return',Ts.downloadScript(t));case 2:case'end':return e.stop();}},e)}));return function(){return e.apply(this,arguments)}}(),Os=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=vn()({},ps.subId,''),i=e.urlParams,n=void 0===i?[]:i;return Object.keys(e).forEach(function(i){ps[i]&&Is.string(e[i])&&(t[ps[i]]=e[i])}),n.forEach(function(e){t[e.name]=e.value}),t},Ds=function(e){var t=e.config,i=void 0===t?{}:t,n=e.map,o=void 0===n?{}:n,a={};return Object.keys(i).forEach(function(e){var t=o.find(function(t){return t.name===e});t&&(a[t.mappingName]=decodeURI(i[e]))}),a},Ls=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.tcf,i=void 0===t?null:t,n=e.usPrivacy,o=void 0===n?null:n,a={};return i&&(a.gdpr=i.applies?'1':'0',a.gdpr_consent=i.consent),o&&(a.us_privacy=o),a},Ms=function(e){var t=e.sellerId,i=e.sellersJSONDomain,n=void 0===i?'':i,o=e.origin,a=n&&o.includes(n)?'':o;return'1.0,1!playbuzz.com,'.concat(t,',1,,,').concat(a)},Rs=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.playerId,i=e.adServerURL,n=e.cb,o=e.sellerId,a=e.sellersJSONDomain,r=e.customDimensions,s=void 0===r?{}:r,l=e.dimensions,d=void 0===l?{}:l,p=e.consentData,u=void 0===p?{}:p,_=e.useASR,c=e.customParams,g=void 0===c?{}:c,y=Ps.getURLWithoutQueries(Ts.location()),m=Ms({sellerId:o,sellersJSONDomain:a,origin:Ps.hostname(y)}),f=As.merge([{p:t,cb:n,d:encodeURIComponent(y),schain:m,w:d.width,h:d.height,asr:!(void 0!==_)||_?1:0,impDetail:1},Os(s),Ls(u),Ds(g)]);return decodeURIComponent(Ps.appendQueryParams(i,f))},Ns=function(e){var t=e.parentElement,i=e.id,n=e.dimensions,o=Cs.insert(t,'div',{id:i});return Cs.setStyles(o,{width:''.concat(n.width,'px'),height:''.concat(n.height,'px')}),Cs.addClass(o,'pb-stream'),o},Us=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t;return null===(t=e.cvars)||void 0===t?void 0:t.IP},Bs=function(e){return!!e.prebid},Vs=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return t&&e.useIIQ&&Bs(t)},zs=function(){var e=pn()(mn.a.mark(function e(t,i,n){var o;return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=null,!Vs(t,i)){e.next=7;break}return n.send(ns.DATA_EVENTS_NAMES.MCD_IIQ_EXECUTE),e.next=5,Ss({timeoutInMS:400,ip:Us(i)});case 5:o=e.sent,o&&n.send(ns.DATA_EVENTS_NAMES.MCD_IIQ_APPLIES);case 7:return e.abrupt('return',o);case 8:case'end':return e.stop();}},e)}));return function(){return e.apply(this,arguments)}}(),Ys=function(){var e=pn()(mn.a.mark(function e(t){var i,n,o,a,r,s;return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.config,n=t.viewabilityFunc,o=t.serverParams,a=void 0===o?null:o,r=t.eventDispatcher,e.next=3,zs(i,a,r);case 3:return s=e.sent,e.abrupt('return',fs({config:i,serverParams:a,viewabilityFunc:n,iiq:s}));case 5:case'end':return e.stop();}},e)}));return function(){return e.apply(this,arguments)}}(),Fs=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=Rs(e);return ws(t)},Ws=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return!e.prefetchedPlayerScript&&!Ts.window().CEDATO_TAG},Hs=function(e){return k(),ws(e)},qs=function(){var e=pn()(mn.a.mark(function e(){var t=arguments,i,n,o,a,r,s,l,d,p,u,_,c,g,y,m,f,h,v,b,x,k,E;return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=0<t.length&&void 0!==t[0]?t[0]:{},n=i.config,o=i.eventDispatcher,a=i.playerId,r=i.divId,s=i.adServerURL,l=i.sdkURL,d=i.cb,p=i.sellerId,u=i.sellersJSONDomain,_=i.parentElement,c=i.contentsConfig,g=void 0===c?{}:c,y=i.customDimensions,m=i.customParams,f=i.initialPlayerDimensions,h=void 0===f?{}:f,v=i.consentData,b=void 0===v?null:v,x=i.useASR,k=void 0===x||x,E=i.viewabilityFunc,e.abrupt('return',new Promise(function(e){var t=Ts.window(),i;t.CEDATO_INIT=t.CEDATO_INIT||{},t.CEDATO_INIT[r]=function(){var t=pn()(mn.a.mark(function t(){var a=arguments,r;return mn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=1<a.length&&void 0!==a[1]?a[1]:null,i=this,i.serverParams=r,i.setContent(g),t.t0=i,t.next=7,Ys({config:n,viewabilityFunc:E,serverParams:r,eventDispatcher:o});case 7:t.t1=t.sent,t.t0.overrideInitParams.call(t.t0,t.t1),e(i);case 10:case'end':return t.stop();}},t,this)}));return function(){return t.apply(this,arguments)}}(),Ns({parentElement:_,id:r,dimensions:h});var c={playerId:a,adServerURL:s,cb:d,sellerId:p,sellersJSONDomain:u,customDimensions:y,customParams:m,dimensions:h,consentData:b,useASR:k};l&&Ws(n)?Hs(l).then(function(){return Fs(c)}):Fs(c)}));case 2:case'end':return e.stop();}},e)}));return function(){return e.apply(this,arguments)}}(),Ks={RESIZE:'resize',PLAYER:{READY:'player.ready',STARTED:'player.started',FINISHED:'player.finished',PAUSED:'player.paused',RESUMED:'player.resumed',DURATION_CHANGE:'player.durationChange',CLOSED:'closed',CLICK:'click',PLAY:'player.play',MUTE:'player.mute',UNMUTE:'player.unmute',PAUSE:'player.pause'},CONTENT:{START:'content.started',COMPLETE:'content.completed',RESUMED:'content.resumed',PAUSED:'content.paused',CHANGED_BY_INDEX:'content.changes',FIRST_QUARTILE:'content.firstQuartile',MIDPOINT:'content.midpoint',THIRD_QUARTILE:'content.thirdQuartile'},ADS:{AD_START_REQUEST:'adstartreq',IMPRESSION:'ad.start',START:'ad.start',PLAYING:'adplay',PAUSED:'adpause',COMPLETE:'ad.complete',SKIPPED:'ad.skipped',ERROR:'ad.error',FIRST_QUARTILE:'ad.firstQuartile',MIDPOINT:'ad.midpoint',THIRD_QUARTILE:'ad.thirdQuartile'},CUSTOM:{CTA_CLICKED:'CustomCtaClick',HEARTBEAT:'CustomHeartbeat',VIEWABLE_PLAYER_LOAD:'CustomPlayerViewable',DELAYED_PLAYER_LOAD:'CustomPlayerLoad'},INTERNAL:{IN_VIEW:'player.in-view',OUT_OF_VIEW:'player.out-of-view'},ROLL:{STARTED:'player.rollStarted',COMPLETE:'player.rollCompleted'}},Gs=i(66),js=i.n(Gs),Qs=xr.MEDIA.CONTENT,Xs=fn.utils.guid,Zs=fn.utils.elements,Js=fn.utils.Pubsub,$s=fn.utils.elementsRatio,el=fn.utils.is,tl=fn.utils.environment,il=fn.utils.objects,nl=function(e){function t(e){var n=e.channelId,o=e.rawConfig,a=e.eventDispatcher,r=e.contentsService,s=e.parentElement,l=e.containerId,d=e.customDimensions,p=e.customParams,u=e.initialPlacementDimensions,_;return _n()(this,t),_=i.call(this),js.a.use(),_._cedatoPlayerId=n,_._config=new ls(o),_._eventDispatcher=a,_._contentsService=new ds(r),_._parentElement=s,_._containerId=l,_._customDimensions=d,_._customParams=p,_._initialPlacementDimensions=u,_._container=null,_._cedatoPlayer=null,_._contents=[],_._pubsub=new Js,_._consentData=null,_._state={inView:!1},_}En()(t,e);var i=X(t);return gn()(t,[{key:'init',value:function(){var e=pn()(mn.a.mark(function e(){return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._runBlockingCode();case 2:return e.next=4,this._createPlayer();case 4:this._cedatoPlayer=e.sent,this._listen();case 6:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'demands',get:function(){return this._cedatoPlayer.serverParams.dlist}},{key:'appendUi',value:function(e){this._container&&this._container.appendChild(e)}},{key:'container',get:function(){return this._container}},{key:'videoTag',get:function(){return this._container.querySelector('#'.concat('__cedato_content_video'))}},{key:'contents',get:function(){return el.empty(this._contents)&&(this._contents=this._contentsService.mp4URLs),this._contents}},{key:'muted',get:function(){return 0===this.volume()||this._state.muted}},{key:'unmuted',get:function(){return!this.muted}},{key:'playing',get:function(){return!this.paused}},{key:'paused',get:function(){var e=this._cedatoPlayer.getProgress(),t=e.paused;return!!t}},{key:'isInView',get:function(){return this._state.inView}},{key:'play',value:function(){this._cedatoPlayer.play(),this._pubsub.publish(Ks.PLAYER.PLAY)}},{key:'pause',value:function(){this._cedatoPlayer.pause(),this._pubsub.publish(Ks.PLAYER.PAUSE)}},{key:'close',value:function(){this._cedatoPlayer.close(!1)}},{key:'skipAd',value:function(){this._cedatoPlayer.skip()}},{key:'next',value:function(){this.setContentByIndex((this._contentsService.currentIndex+1)%this._contents.length)}},{key:'prev',value:function(){this.setContentByIndex(tn(this._contentsService.currentIndex-1)%this._contents.length)}},{key:'volume',value:function(){var e=this._cedatoPlayer.getProgress(),t=e.volume;return t}},{key:'unmute',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.isUserInteraction;this._cedatoPlayer.sound(1,void 0===t||t),this._setState({muted:!1}),this._pubsub.publish(Ks.PLAYER.UNMUTE)}},{key:'mute',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.isUserInteraction;this._cedatoPlayer.sound(0,void 0===t||t),this._setState({muted:!0}),this._pubsub.publish(Ks.PLAYER.MUTE)}},{key:'setVolume',value:function(e){this._cedatoPlayer.sound(e)}},{key:'setTime',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this._cedatoPlayer.seekContent(e)}},{key:'resize',value:function(){var e=Zs.dimensions(this.container),t=e.width,i=$s.calculateHeightUponRatio(t,16/9);this._cedatoPlayer.resize(t,i),this._pubsub.publish(Ks.RESIZE,{width:t,height:i})}},{key:'onResize',value:function(e){this._pubsub.subscribe(Ks.RESIZE,e)}},{key:'setContentByIndex',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this._cedatoPlayer.setCurrentContent({index:e,userActionType:'api'}),this._pubsub.publish(Ks.CONTENT.CHANGED_BY_INDEX,e)}},{key:'onSetContentByIndex',value:function(e){return this._pubsub.subscribe(Ks.CONTENT.CHANGED_BY_INDEX,e)}},{key:'onPlayerStart',value:function(e){var t=this,i=function i(){t._off(Ks.CONTENT.START,i),t._off(Ks.ADS.PLAYING,i),e()};this._on(Ks.CONTENT.START,i),this._on(Ks.ADS.START,i)}},{key:'onContentStart',value:function(e){this._pubsub.subscribe(Ks.CONTENT.START,e)}},{key:'onContentProgress',value:function(e){var t=[];this.onContentStart(function(){t=[25,50,75]}),Br.subscribe(Qs.TIMEUPDATE,function(i){var n=i.currentTime,o=i.duration;if(n&&100*(n/o)>t[0]){var a=t.shift();e(a)}})}},{key:'onContentPlaying',value:function(e){this._on(Ks.CONTENT.START,e),this._on(Ks.CONTENT.RESUMED,e)}},{key:'onContentPaused',value:function(e){this._on(Ks.CONTENT.PAUSED,e)}},{key:'onContentEnded',value:function(e){this._pubsub.subscribe(Ks.CONTENT.COMPLETE,e)}},{key:'onAdImpression',value:function(e){this._pubsub.subscribe(Ks.ADS.IMPRESSION,e)}},{key:'onAdCompleted',value:function(e){this._pubsub.subscribe(Ks.ADS.COMPLETE,e)}},{key:'onAdStart',value:function(e){this._on(Ks.ADS.START,e)}},{key:'onAdRequest',value:function(e){this._on(Ks.ADS.AD_START_REQUEST,e)}},{key:'onAdPlaying',value:function(e){this._on(Ks.ADS.PLAYING,e)}},{key:'onAdPaused',value:function(e){this._on(Ks.ADS.PAUSED,e)}},{key:'onAdSkipped',value:function(e){this._on(Ks.ADS.SKIPPED,e)}},{key:'onAdFirstQuarter',value:function(e){return this._on(Ks.ADS.FIRST_QUARTILE,e)}},{key:'onAdMidPoint',value:function(e){return this._on(Ks.ADS.MIDPOINT,e)}},{key:'onAdThirdQuarter',value:function(e){return this._on(Ks.ADS.THIRD_QUARTILE,e)}},{key:'onRollWindowClose',value:function(e){return this._on(Ks.ROLL.COMPLETE,e)}},{key:'onRollWindowOpen',value:function(e){return this._on(Ks.ROLL.STARTED,e)}},{key:'onInView',value:function(e){this._pubsub.subscribe(Ks.INTERNAL.IN_VIEW,e)}},{key:'onOutOfView',value:function(e){this._pubsub.subscribe(Ks.INTERNAL.OUT_OF_VIEW,e)}},{key:'onMute',value:function(e){this._pubsub.subscribe(Ks.PLAYER.MUTE,e)}},{key:'onUnmute',value:function(e){this._pubsub.subscribe(Ks.PLAYER.UNMUTE,e)}},{key:'onPause',value:function(e){this._pubsub.subscribe(Ks.PLAYER.PAUSE,e)}},{key:'onPlay',value:function(e){this._pubsub.subscribe(Ks.PLAYER.PLAY,e)}},{key:'_runBlockingCode',value:function(){var e=pn()(mn.a.mark(function e(){return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(os.getConsentData)(tl.window(),200);case 2:this._consentData=e.sent;case 3:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'_createPlayer',value:function(){var e=pn()(mn.a.mark(function e(){return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._cb=Xs.generate(),this._divId='video'.concat(this._cedatoPlayerId).concat(this._cb),this._container=this._createContainer(),e.abrupt('return',qs(this._getInstanceCreationConfig()));case 4:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'_getInstanceCreationConfig',value:function(){var e=this;return{config:this._config,eventDispatcher:this._eventDispatcher,playerId:this._cedatoPlayerId,divId:this._divId,adServerURL:this._config.adServerURL,sdkURL:this._config.sdkURL,cb:this._cb,sellerId:this._config.sellerId,sellersJSONDomain:this._config.sellersJSONDomain,parentElement:this._container,contentsConfig:this._getContentsConfig(),customDimensions:this._customDimensions,customParams:this._customParams,initialPlayerDimensions:this._initialPlacementDimensions,consentData:this._consentData,useASR:this._config.resetAdScheduleOnContentChange,viewabilityFunc:function(){return e.isInView?100:0}}}},{key:'_setState',value:function(e){var t=W({},this._state);return this._state=il.merge([{},this._state,e]),{prevState:t,newState:this._state}}},{key:'_createContainer',value:function(){var e=Zs.insert(this._parentElement,'div',{id:this._containerId});return Zs.addClass(e,'pbs__player'),e}},{key:'_getContentsConfig',value:function(){var e=this._config.loopContents;return{video:{url:this.contents,loop:e}}}},{key:'_listen',value:function(){var e=this;this._on(Ks.ADS.IMPRESSION,this._onCedatoAdImpression.bind(this)),this._on(Ks.ADS.COMPLETE,this._onCedatoAdComplete.bind(this)),this._on(Ks.CONTENT.START,this._onCedatoContentStart.bind(this)),this._on(Ks.CONTENT.COMPLETE,function(t){return e._pubsub.publish(Ks.CONTENT.COMPLETE,t)}),this._initViewabilityObserver()}},{key:'sendHeartBeatEvent',value:function(e){this._cedatoPlayer.sendSupplyEvent({name:Ks.CUSTOM.HEARTBEAT,duration:e})}},{key:'sendCTAClickedEvent',value:function(){this._cedatoPlayer.sendSupplyEvent({name:Ks.CUSTOM.CTA_CLICKED})}},{key:'sendViewablePlayerLoadEvent',value:function(){this._cedatoPlayer.sendSupplyEvent({name:Ks.CUSTOM.VIEWABLE_PLAYER_LOAD})}},{key:'sendPlayerLoadEvent',value:function(){this._cedatoPlayer.sendSupplyEvent({name:Ks.CUSTOM.DELAYED_PLAYER_LOAD})}},{key:'_onCedatoContentStart',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=decodeURIComponent(this.videoTag.src);this._pubsub.publish(Ks.CONTENT.START,W(W({},e),{data:{source:t}}))}},{key:'_on',value:function(e,t){this._cedatoPlayer.on(e,t)}},{key:'_off',value:function(e,t){this._cedatoPlayer.off(e,t)}},{key:'_onCedatoAdImpression',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._pubsub.publish(Ks.ADS.IMPRESSION,this._arrangeDataForAdImpressionPayload(e))}},{key:'_onCedatoAdComplete',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._pubsub.publish(Ks.ADS.COMPLETE,e)}},{key:'_initViewabilityObserver',value:function(){var e=this;this._viewabilityService=new qr({element:this.container,inView:function(){e._setState({inView:!0}),e._pubsub.publish(Ks.INTERNAL.IN_VIEW)},outOfView:function(){e._setState({inView:!1}),e._pubsub.publish(Ks.INTERNAL.OUT_OF_VIEW)}}),this._viewabilityService.init()}},{key:'_arrangeDataForAdImpressionPayload',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.data;return{cpm:t.price,adSourceId:''.concat(t.vastId),adSourceOwner:t.utag?ns.AD_SOURCE_OWNERS.PUBLISHER:ns.AD_SOURCE_OWNERS.NETWORK}}}]),t}(In),ol=(s={},vn()(s,xn.ANIVIEW,is),vn()(s,xn.CEDATO,nl),s),al=function(){var e=pn()(mn.a.mark(function e(){var t=arguments,i,n,o;return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=0<t.length&&void 0!==t[0]?t[0]:xn.CEDATO,n=1<t.length&&void 0!==t[1]?t[1]:{},o=new ol[i](n),e.next=5,o.init();case 5:return e.abrupt('return',o);case 6:case'end':return e.stop();}},e)}));return function(){return e.apply(this,arguments)}}(),rl={INITIAL:{position:'static',player:'content'},STATE:{ADS:'ads',CONTENT:'content',PLAYER:'player',PLAYING:'playing',PAUSE:'pause',LOADING:'loading',ENDED:'ended',CONTENT_TYPE:'content-type',DISPLAY_ADS:'display-ads'},HOVER:{NAME:'hover',TRUE:!0,FALSE:!1},DEVICE:{NAME:'device'},COMPONENTS:{PAGINATION:'pagination',TITLE:'video-title'},POSITION:{NAME:'position',STATIC:'static',STICKY:'sticky'},STICKY:{NAME:'sticky',MOBILE_UPPER_LARGE:'mobile-upper-large',MOBILE_UPPER_SMALL:'mobile-upper-small'}},sl=fn.utils.is,ll=xr.MEDIA.ADS,dl=function(){function e(){_n()(this,e),this._playerprovider=null,this._eventDispatchers=[]}return gn()(e,[{key:'init',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return sl.empty(e.playerprovider)?void Gn.warn('ads service - mandatory params not set.',e):void(this._playerprovider=e.playerprovider,this._eventDispatchers=e.eventDispatchers,this._listen(),Gn.info('Ads service - initialized and listening.',this._config))}},{key:'subscribe',value:function(e,t){Tr.subscribe(e,t)}},{key:'_listen',value:function(){this._playerprovider.onAdStart(this._onStart.bind(this)),this._playerprovider.onAdImpression(this._onImpression.bind(this)),this._playerprovider.onAdPlaying(this._onPlaying.bind(this)),this._playerprovider.onAdPaused(this._onPaused.bind(this)),this._playerprovider.onAdClosed(this._onClosed.bind(this)),this._playerprovider.onAdSkipped(this._onSkipped.bind(this)),this._playerprovider.onAdCompleted(this._onCompleted.bind(this)),this._playerprovider.onAdFirstQuarter(this._onFirstQuarter.bind(this)),this._playerprovider.onAdMidPoint(this._onMidPoint.bind(this)),this._playerprovider.onAdThirdQuarter(this._onThirdQuarter.bind(this)),this._playerprovider.onAdVolumeChange(this._onVolumeChange.bind(this)),this._playerprovider.onAdTerminated(this._onTerminated.bind(this))}},{key:'_dispatchEvent',value:function(e){Gn.info('Ads Service: dispatched event',e),this._eventDispatchers.forEach(function(t){return t.dispatch(e.payload)}),Tr.publish(e.name)}},{key:'_onTerminated',value:function(e){var t={name:ll.TERMINATED,payload:e};this._dispatchEvent(t)}},{key:'_onImpression',value:function(e){var t={name:ll.IMPRESSION,payload:e};e.type=t.name,this._dispatchEvent(t)}},{key:'_onStart',value:function(e){var t={name:ll.START,payload:e};this._dispatchEvent(t)}},{key:'_onPlaying',value:function(e){var t={name:ll.PLAYING,payload:e};this._dispatchEvent(t)}},{key:'_onPaused',value:function(e){var t={name:ll.PAUSE,payload:e};this._dispatchEvent(t)}},{key:'_onClosed',value:function(e){var t={name:ll.CLOSED,payload:e};this._dispatchEvent(t)}},{key:'_onSkipped',value:function(e){var t={name:ll.SKIPPED,payload:e};this._dispatchEvent(t)}},{key:'_onCompleted',value:function(e){var t={name:ll.ENDED,payload:e};this._dispatchEvent(t)}},{key:'_onFirstQuarter',value:function(e){var t={name:ll.FIRST_QUARTILE,payload:e};this._dispatchEvent(t)}},{key:'_onMidPoint',value:function(e){var t={name:ll.MID_POINT,payload:e};this._dispatchEvent(t)}},{key:'_onThirdQuarter',value:function(e){var t={name:ll.THIRD_QUARTILE,payload:e};this._dispatchEvent(t)}},{key:'_onVolumeChange',value:function(e){var t={name:ll.VOLUME_CHANGE,payload:e};this._dispatchEvent(t)}}]),e}(),pl=new dl,ul=pl,_l=fn.utils.elements,cl=function(){function e(){_n()(this,e),this._element=null}return gn()(e,[{key:'setRoot',value:function(e){this._element=e,this.setDataAttribute('root',!0),this.setDataAttribute('position','static'),_l.addClass(this._element,'pbs'),Gn.info('root service - element set',this._element),this._listen()}},{key:'element',get:function(){return this._element}},{key:'playerContainerElement',get:function(){return this.element.getElementsByClassName('pbs__player')[0]}},{key:'configFromRoot',get:function(){var e=_l.getAttributeAsJson(this.element,'data-exs-config',function(){Gn.error('data-exs-config: string not parsable',e)});return{externalConfig:e}}},{key:'getAttribute',value:function(e){return _l.getAttribute(this._element,e)}},{key:'setAttribute',value:function(e,t){_l.setAttributes(this._element,vn()({},e,t))}},{key:'setDataAttribute',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=1<arguments.length?arguments[1]:void 0;this.setAttribute('data-pbs-'.concat(e),t)}},{key:'subscribe',value:function(e,t){Tr.subscribe(e,t)}},{key:'_listen',value:function(){this._element.onmouseenter=function(){Tr.publish(xr.ELEMENT.MOUSE_IN),Tr.publish(xr.ELEMENT.MOUSE_POSITION_CHANGED)},this._element.onmouseleave=function(){Tr.publish(xr.ELEMENT.MOUSE_OUT),Tr.publish(xr.ELEMENT.MOUSE_POSITION_CHANGED)},this._element.addEventListener(xr.ELEMENT.STICKY_CLOSE,function(){Tr.publish(xr.ELEMENT.STICKY_CLOSE)})}}]),e}(),gl=new cl,yl=gl,ml=256,fl={MINIMUM_WIDTH_SIZE:ml,MINIMUM_STICKY_WIDTH_SIZE_URL_PARAM:'constStickySize',MINIMUM_WIDTH_SIZE_URL_PARAM:'constSize',BREAKPOINTS:[{className:'tiny',maxWidth:ml-1},{className:'small-tiny',maxWidth:295},{className:'small',maxWidth:400},{className:'medium',maxWidth:600},{className:'medium-large',maxWidth:800},{className:'large',maxWidth:1400},{className:'huge',maxWidth:Infinity}]},hl=fn.utils.elements,vl=fn.utils.environment,bl=function(){var e;return{set:function(t){e=t||e},get:function(){return vl.document().querySelector('#'.concat(e))}}}(),xl=function(){return hl.dimensions(bl.get())},kl=function(){return('true'===vl.param(fl.MINIMUM_STICKY_WIDTH_SIZE_URL_PARAM)||'true'===vl.param(fl.MINIMUM_WIDTH_SIZE_URL_PARAM))&&Fn.isMobile()},El=function(e){return e},Sl=function(e,t){return tn(e-t)},Tl=function(e,t,i){var n=e;return Sl(e.maxWidth,t)>=Sl(i.maxWidth,t)&&(n=i),n},Cl=function(e,t,i,n){var o=e&&t>=e&&t+e<i.length;return o?i[t+e].className:n.className},Pl=function(e){for(var t=e.width,n=e.levelChange,o=e.closest,a=fl.BREAKPOINTS,r=a[0].className,s=1;s<a.length;s++){var i=a[s],l=a[s-1];if(l.maxWidth<t&&t<=i.maxWidth){if(o){var d=Tl(i,t,l);r=Cl(n,s,a,d)}else r=Cl(n,s,a,i);break}}return r},Il=function(e){return Pl({width:e})},Al=function(){var e=xl(),t=e.width;return Il(t)},wl={forceWidth:function(e){var t=e.enabled,i=e.currentWidth,n=void 0===i?0:i,o=!1;return(kl()||El(void 0!==t&&t))&&(o=n<fl.MINIMUM_WIDTH_SIZE),o},MINIMUM_WIDTH_SIZE:fl.MINIMUM_WIDTH_SIZE,getBreakpoint:Il,getDecreasedBreakpoint:function(e){return Pl({width:e,levelChange:-1})},DISPLAY_AD_MINIMUM_WIDTH_SIZE:fl.DISPLAY_AD_MINIMUM_WIDTH_SIZE,isBreakpointAboveSize:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,i=t||Al(),n=fl.BREAKPOINTS.filter(function(e){return e.className===i}).map(function(e){return e.maxWidth}).pop();return!n||n>=e},setPlayerElement:function(e){return bl.set(e)},getPlayerDimensions:xl,getCurrentBreakpoint:Al,getBreakpointMaxWidth:function(e){var t=fl.BREAKPOINTS.find(function(t){return t.className===e}),i=t.maxWidth;return i},getClosestBreakPoint:function(e){return Pl({width:e,closest:!0})}},Ol=fn.utils.is,Dl=fn.constants.STICKY,Ll=function(){function e(){_n()(this,e),this._player=null,this._state=rl.INITIAL,this._adsPlaying=!1,this._currentBreakPoint=null,Gn.info('state service - initiated with state',this._state)}return gn()(e,[{key:'set',value:function(e){e&&(this._player=e,this._listen())}},{key:'current',get:function(){return this._state}},{key:'is',get:function(){return{sticky:Ol.equal(this.current[rl.POSITION.NAME],rl.POSITION.STICKY),static:Ol.equal(this.current[rl.POSITION.NAME],rl.POSITION.STATIC),mousein:Ol.equal(this.current[rl.HOVER.NAME],rl.HOVER.TRUE),content:Ol.equal(this.current[rl.STATE.PLAYER],rl.STATE.CONTENT),ads:Ol.equal(this.current[rl.STATE.PLAYER],rl.STATE.ADS),displayAds:Ol.equal(this.current[rl.STATE.DISPLAY_ADS],rl.STATE.PLAYING),contentPlaying:Ol.equal(this.current[rl.STATE.CONTENT],rl.STATE.PLAYING)}}},{key:'subscribe',value:function(e,t){Tr.subscribe(e,t)}},{key:'_listen',value:function(){this._contentStateListeners(),this._adsStateListeners(),this._displayAdsStateListeners(),this._rootStateListeners(),this._player.onResize(this._onPlayerResize.bind(this)),this._staticState()}},{key:'_adsStateListeners',value:function(){var e=this;ul.subscribe(xr.MEDIA.ADS.PLAYING,function(){e._updateState(rl.STATE.ADS,rl.STATE.PLAYING),e._updateState(rl.STATE.PLAYER,rl.STATE.ADS),e._publish(xr.MEDIA.MEDIA_CHANGED)}),ul.subscribe(xr.MEDIA.ADS.START,function(){e._adsPlaying=!0,e._updateState(rl.STATE.ADS,rl.STATE.PLAYING),e._updateState(rl.STATE.PLAYER,rl.STATE.ADS),e._publish(xr.MEDIA.MEDIA_CHANGED)}),ul.subscribe(xr.MEDIA.ADS.PAUSE,function(){e._updateState(rl.STATE.ADS,rl.STATE.PAUSE)}),ul.subscribe([xr.MEDIA.ADS.CLOSED,xr.MEDIA.ADS.SKIPPED,xr.MEDIA.ADS.ENDED,xr.MEDIA.ADS.TERMINATED],function(){e._adsPlaying=!1,e._updateState(rl.STATE.ADS,rl.STATE.ENDED)}),Tr.subscribe(xr.MEDIA.DISPLAY_ADS.PLAYING,function(){e._updateState(rl.STATE.DISPLAY_ADS,rl.STATE.PLAYING)}),Tr.subscribe(xr.MEDIA.DISPLAY_ADS.ENDED,function(){e._updateState(rl.STATE.DISPLAY_ADS,rl.STATE.ENDED)})}},{key:'_displayAdsStateListeners',value:function(){var e=this;ul.subscribe(xr.MEDIA.DISPLAY_ADS.PLAYING,function(){e._updateState(rl.STATE.ADS,rl.STATE.PLAYING),e._updateState(rl.STATE.PLAYER,rl.STATE.ADS),e._publish(xr.MEDIA.MEDIA_CHANGED)}),ul.subscribe(xr.MEDIA.DISPLAY_ADS.ENDED,function(){e._updateState(rl.STATE.ADS,rl.STATE.ENDED)})}},{key:'_contentStateListeners',value:function(){var e=this;Br.subscribe(xr.CONTENT.CHANGED,function(t){var i=t.type;e._updateState(rl.STATE.CONTENT_TYPE,i)}),Br.subscribe(xr.MEDIA.CONTENT.PLAYING,function(){e._adsPlaying||(e._updateState(rl.STATE.CONTENT,rl.STATE.PLAYING),e._updateState(rl.STATE.PLAYER,rl.STATE.CONTENT),e._publish(xr.MEDIA.MEDIA_CHANGED))}),Br.subscribe(xr.MEDIA.CONTENT.PAUSE,function(){e._updateState(rl.STATE.CONTENT,rl.STATE.PAUSE)}),Br.subscribe(xr.MEDIA.CONTENT.LOADING,function(){e._updateState(rl.STATE.CONTENT,rl.STATE.LOADING),e._updateState(rl.STATE.PLAYER,rl.STATE.CONTENT),e._publish(xr.MEDIA.MEDIA_CHANGED)})}},{key:'_rootStateListeners',value:function(){var e=this;yl.subscribe(xr.ELEMENT.MOUSE_IN,function(){e._updateState(rl.HOVER.NAME,rl.HOVER.TRUE)}),yl.subscribe(xr.ELEMENT.MOUSE_OUT,function(){e._updateState(rl.HOVER.NAME,rl.HOVER.FALSE)}),Tr.subscribe(xr.ELEMENT.STICKY_CHANGED,function(t){t.isSticky?(e._updateState(rl.POSITION.NAME,rl.POSITION.STICKY),Tr.publish(xr.ELEMENT.STICKY)):(e._updateState(rl.POSITION.NAME,rl.POSITION.STATIC),Tr.publish(xr.ELEMENT.STATIC)),Tr.publish(xr.ELEMENT.POSITION_CHANGED)})}},{key:'_onPlayerResize',value:function(e){var t=e.width,i=wl.getBreakpoint(t);i!==this._currentBreakPoint&&(this._currentBreakPoint=i,this._publish(xr.ELEMENT.SIZE_BREAKPOINT_CHANGE,i),this._updateState('size',i))}},{key:'_staticState',value:function(){this._updateState(rl.DEVICE.NAME,Fn.getDevice()),za.stickyPosition===Dl.POSITION.UPPER_LARGE&&this._updateState(rl.STICKY.NAME,rl.STICKY.MOBILE_UPPER_LARGE),za.stickyPosition===Dl.POSITION.UPPER_SMALL&&this._updateState(rl.STICKY.NAME,rl.STICKY.MOBILE_UPPER_SMALL),za.paging.enabled&&this._updateState(rl.COMPONENTS.PAGINATION,!0),za.videoTitle.enabled&&this._updateState(rl.COMPONENTS.TITLE,!0)}},{key:'_updateState',value:function(e,t){this._state=Object.assign(this._state,vn()({},e,t)),yl.setDataAttribute(e,t),this._publish(xr.STATE.CHANGED,e)}},{key:'_publish',value:function(e,t){Tr.publish(e,t)}}]),e}(),Ml=new Ll,Rl=i(22),Nl=i.n(Rl),Ul=i(16),Bl=i.n(Ul),Vl={},zl=[],Yl=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,s,Fl,Wl,l,Hl,ql,Kl,Gl,jl;Fl=zl.slice,Wl={__e:function(e,n,a,s){for(var i,t,o;n=n.__;)if((i=n.__c)&&!i.__)try{if((t=i.constructor)&&null!=t.getDerivedStateFromError&&(i.setState(t.getDerivedStateFromError(e)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,s||{}),o=i.__d),o)return i.__E=i}catch(t){e=t}throw e}},l=0,Hl=function(e){return null!=e&&void 0===e.constructor},d.prototype.setState=function(e,t){var i;i=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=te({},this.state),'function'==typeof e&&(e=e(te({},i),this.props)),e&&te(i,e),null!=e&&this.__v&&(t&&this.__h.push(t),b(this))},d.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),b(this))},d.prototype.render=ne,ql=[],Kl='function'==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,m.__r=0,jl=0;var f={EVENTS:{NEXT:'next',PREVIOUS:'prev',PLAY:'play',PAUSE:'pause',SKIP_AD:'skip-ad',SEEK:'seek',MUTE:'mute',UNMUTE:'unmute',PAGINATE:'paginate',CTA:'cta',CLOSE_STICKY:'close-sticky',POPUP_OPEN:'popup-open',POPUP_CLOSE:'popup-close',FULLSCREEN:'fullscreen'},VIDEO_TEASERS:{VIDEO_DURATION:20,SPLASH_PREROLL:2}},Ql=[Ia.STICKY.POSITION.UPPER_LARGE,Ia.STICKY.POSITION.UPPER_SMALL,Ia.STICKY.POSITION.UPPER_NATIVE,Ia.STICKY.POSITION.BOTTOM_LARGE,Ia.STICKY.POSITION.BOTTOM_SMALL,Ia.STICKY.POSITION.BOTTOM_NATIVE],Xl=function(e,t){var i=e.color;return i?i!==Ia.COLOR_PALETTE.PRIMARY&&i!==Ia.COLOR_PALETTE.SECONDARY?i:t[i]:Ia.COLOR_PALETTE.DEFAULT},Zl=function(e,t){return{size:e.size,enabled:e.enabled,color:Xl(e,t)}},Jl=function(e){var t={enabled:e.logo,width:e.logoWidth,position:e.logoPosition,link:e.logoClickThrough,src:e.logoUrl,margins:{top:null===(i=e.logoMargins)||void 0===i?void 0:i.top}},i;if('right'===e.logoPosition){var n;t.margins.right=null===(n=e.logoMargins)||void 0===n?void 0:n.right}else if('left'===e.logoPosition){var o;t.margins.left=null===(o=e.logoMargins)||void 0===o?void 0:o.left}return t},$l=function(e,t){var i=e.appearance.colorPalette,n=e.ui,o=n.overrideConditions,a=n.controls,r=a.prev,s=a.next,l=a.playPause,d;return t.popup?(r.enabled=!0,s.enabled=!0,l.enabled=!0,{prev:Zl($($({},r),{},{enabled:!0}),i),next:Zl($($({},s),{},{enabled:!0}),i),play:Zl($($({},l),{},{enabled:!0}),i),pause:Zl($($({},l),{},{enabled:!0}),i)}):t.hiddenControls?{prev:{enabled:!1},next:{enabled:!1},play:{enabled:!1},pause:{enabled:!1}}:t.popup||o||!(null!==(d=t.videoTeasers)&&void 0!==d&&d.enabled||t.rss)?{prev:Zl(r,i),next:Zl(s,i),play:Zl(l,i),pause:Zl(l,i)}:{prev:{enabled:!1},next:{enabled:!1},play:Zl(l,i),pause:Zl(l,i)}},ed=function(e,t){var i=e.appearance.colorPalette,n=e.ui,o=n.overrideConditions,a=n.progress,r;return t.popup?Zl($($({},a),{},{enabled:!0}),i):t.popup||o||!(null!==(r=t.videoTeasers)&&void 0!==r&&r.enabled||t.rss)?Zl(a,i):{enabled:!1}},td=function(e,t){var i=e.appearance.colorPalette,n=e.ui.sound;return t.popup?Zl($($({},n),{},{enabled:!0}),i):Zl(n,i)},id=function(e,t){var i=e.appearance.colorPalette,n=e.ui,o=n.overrideConditions,a=n.timers,r;return t.popup?Zl($($({},a),{},{enabled:!0}),i):t.popup||o||!(null!==(r=t.videoTeasers)&&void 0!==r&&r.enabled||t.rss)?Zl(a,i):{enabled:!1}},nd=function(e){var t=e.appearance.colorPalette,i=e.ui.skipButton;return Zl(i,t)},od=function(e){return{enabled:e.poster.enabled}},ad=function(e,t){return t.popup?{enabled:!1}:e.paging||{}},rd=function(e,t){var i;return t.popup||t.displayAdPlaying?{enabled:!1}:$($({},null===(i=e.cta)||void 0===i?void 0:i.button),{},{stickyPosition:t.stickyPosition})},sd=function(e){return e.metadata||{}},ld=function(e){return e.videoTitle||{}},dd=function(e){return{enabled:e.transition.enabled,logo:{enabled:e.transition.logo,src:e.transition.logoImage}}},pd=function(e){return e.borderRadius},ud=function(e){return e.videoTeasers},_d=function(e,t){var i;return{enabled:!(null!==(i=e.videoGallery)&&void 0!==i&&i.enabled)&&Ql.includes(t.stickyPosition)}},cd=function(e,t){var i=e.videoGallery.layout,n=e.videoGallery,o=n.enabled,a=n.position,r,s;return t.popup&&null!==e&&void 0!==e&&null!==(r=e.premiumPopup)&&void 0!==r&&null!==(s=r.videoGallery)&&void 0!==s&&s.enabled&&(o=Fn.isDesktop(),a='right'),o&&i&&(o=!1,'below'===a&&'row'===i?o=!0:'right'==a&&'column'===i&&(o=!0)),{enabled:o,position:a,stickyPosition:e.stickyPosition}},gd=function(e){var t=e.videoGallery,i=t.position,n=t.layout,o=e.videoGallery.enabled;return o=!!n&&o&&'column'===n&&'below'===i,{enabled:o,position:i}},yd=function(e){return $($({},e.upNextVideo),{},{timeOffset:+e.upNextVideo.timeOffset||5,enabled:e.upNextVideo.enabled&&e.videoTeasers.enabled})},md=function(e,t){return t.popup?{enabled:!1}:e.infoPanel||{enabled:!1}},fd=function(e){return $({enabled:e.sticky.enable},e.sticky)},hd=function(e){return e._configs.playbackMode},vd=function(e){return hd(e)===Ia.PLAYBACK.MODE.AUTO_PLAY},bd=function(e){return hd(e)===Ia.PLAYBACK.MODE.CLICK_TO_PLAY},xd=function(e){return e.premiumPopup||{enabled:!1}},kd=function(e){return(null===e||void 0===e?void 0:e.textualFeed)||{enabled:!1}},Ed={adapt:function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return{logo:Jl(e),controls:$l(e,t),progress:ed(e,t),sound:td(e,t),timers:id(e,t),skipButton:nd(e,t),poster:od(e,t),pagination:ad(e,t),cta:rd(e,t),metadata:sd(e,t),title:ld(e,t),transition:dd(e,t),borderRadius:pd(e,t),videoTeasers:ud(e,t),nextVideo:_d(e,t),gallery:cd(e,t),upNextVideos:gd(e,t),upNextVideo:yd(e,t),infoPanel:md(e,t),sticky:fd(e,t),premiumPopup:xd(e,t),textualFeed:kd(e,t),playbackMode:hd(e),isAutoPlay:vd(e),isClickToPlay:bd(e)}}},Sd=fn.utils.elements,Td=fn.utils.environment,Cd=function(){var e=Sd.insert(Td.document().body,'video',{id:'pbs-apbd',src:'data:audio/mpeg;base64,/+MYxAAAAANIAUAABASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq',"webkit-playsinline":!0});return e.muted=!0,e.playsInline=!0,e},Pd=function(e){return new Promise(function(t,i){var n=e.play();n!==void 0&&n.then(function(){t()})['catch'](function(e){i(e)})})},Id=function(){return!!('connection'in navigator)&&navigator.connection.saveData},Ad={detect:function(e){if(Id())e(!0);else{var t=Cd();Pd(t).then(function(){return Gn.info('Autoplay enabled')})['catch'](function(i){Gn.info('Autoplay block detection retry - '.concat(i)),setTimeout(function(){Pd(t).then(function(){return'Autoplay blocked'})['catch'](e)},1e3)})['finally'](function(){return Sd.remove(t)})}}},wd=i(67),Od=i.n(wd);Od.a.use();var Dd=function(e){return 10<=e?e:'0'.concat(e||0)},Ld=function(e){return''.concat(Dd(e.minutes),':').concat(Dd(e.seconds))},Md=function(e){var t=e.config,i=fn.utils.time.convertTS(e.currentTime),n=fn.utils.time.convertTS(e.duration),o=''.concat(Ld(i),' / ').concat(Ld(n)),a={color:t.color,fontSize:''.concat(t.size,'px')},r='exp-ui__timers';return e.show&&(r+=' exp-ui__state__shown'),e.inline&&(r+=' exp-ui__inline-timers'),t.enabled&&h('div',{className:r,style:a},o)},Rd=i(68),Nd=i.n(Rd),Ud=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),Nd.a.use(),n.state={bufer:0,duration:0,currentTime:0},n.x=0,n.width=0,n.seek=n.seek.bind(Bl()(n)),n.setRef=n.setRef.bind(Bl()(n)),n.onMouseMove=n.onMouseMove.bind(Bl()(n)),n.onMouseLeave=n.onMouseLeave.bind(Bl()(n)),n._listenToVideoTagEvents(),n}En()(t,e);var i=le(t);return gn()(t,[{key:'componentDidMount',value:function(){this.getWidth()}},{key:'componentDidUpdate',value:function(e){e.config.enabled!==this.props.config.enabled&&this.getWidth()}},{key:'onFullscreenToggle',value:function(e){var t=this.props.onFullscreenToggle;t&&t(e)}},{key:'onMouseMove',value:function(t){var e=t.pageX-this.x;this.setState({previewPos:e})}},{key:'onMouseLeave',value:function(){this.setState({previewPos:0})}},{key:'getCurrentPosition',value:function(){var e=this.state,t=e.duration,i=e.currentTime;return 100*(i/t)}},{key:'getWidth',value:function(){if(this.bar){var e=this.bar.getBoundingClientRect(),t=e.x,i=e.width;this.x=t||this.x,this.width=i||this.width}}},{key:'setRef',value:function(e){this.bar=e}},{key:'seek',value:function(t){var e=t.pageX-this.x,i=100*(e/this.width),n=this.state.duration*i/100;n&&this.props.onSeek&&this.props.onSeek(n)}},{key:'contentPlaying',value:function(e){var t=e.duration,i=e.currentTime;this.setState({currentTime:i,duration:t})}},{key:'contentBuffering',value:function(e){var t=e.currentTime,n=e.duration,o=e.buffered,a;if(0<n){for(var r=0;r<o.length;r++)if(o.start(o.length-1-r)<t){a=100*(o.end(o.length-1-r)/n);break}a&&this.setState({bufer:a})}}},{key:'_listenToVideoTagEvents',value:function(){var e=this,t=this.props.videoEl;t.addEventListener('timeupdate',function(){e.props.config.enabled&&e.contentPlaying(t)}),t.addEventListener('progress',function(){e.props.config.enabled&&e.contentBuffering(t)})}},{key:'render',value:function(){var e=this.state,t=e.bufer,i=e.currentTime,n=e.duration,o=e.previewPos,a=this.props,r=a.show,s=a.inline,l=a.config,d=a.timeConfig,p='exp-ui__progress',u='exp-ui__progress-wrapper';return r&&l.enabled&&(p+=' exp-ui__state__shown',u+=' exp-ui__state__shown'),s&&(p+=' exp-ui__inline-timers'),h('div',{class:u},h(Md,{currentTime:i,duration:n,show:r,inline:s,config:d}),l.enabled&&h('div',{class:p,ref:this.setRef,onClick:this.seek,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave},h('div',{class:'exp-ui__progress-bar',style:{width:''.concat(this.getCurrentPosition(),'%'),backgroundColor:l.color}}),h('div',{class:'exp-ui__progress-bar-preview',style:{width:''.concat(o,'px'),backgroundColor:l.color}}),h('div',{class:'exp-ui__progress-bullet',style:{left:''.concat(this.getCurrentPosition(),'%'),backgroundColor:l.color}}),h('div',{class:'exp-ui__progress-bufer',style:{width:''.concat(t,'%'),backgroundColor:l.color}}),h('div',{class:'exp-ui__progress-background',style:{backgroundColor:l.color}})))}}]),t}(d),Bd=i(51),Vd=i.n(Bd);Vd.a.use();var zd=function(e,t){return h('svg',{onClick:function(){return t()},xmlns:'http://www.w3.org/2000/svg',height:e.size||24,viewBox:'0 0 24 24',width:e.size||24,fill:e.color||'#fff'},h('path',{d:'M0 0h24v24H0z',fill:'none'}),h('path',{d:'M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z'}))},Yd=function(e,t){return h('svg',{onClick:function(){return t()},xmlns:'http://www.w3.org/2000/svg',height:e.size||24,viewBox:'0 0 24 24',width:e.size||24,fill:e.color||'#fff'},h('path',{d:'M0 0h24v24H0z',fill:'none'}),h('path',{d:'M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z'}))},Fd=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),Vd.a.use(),n.setVolume=n.setVolume.bind(Bl()(n)),n}En()(t,e);var i=pe(t);return gn()(t,[{key:'componentDidMount',value:function(){if(this.ref){var e=this.ref.getBoundingClientRect(),t=e.height;this.height=t}}},{key:'setVolume',value:function(t){var e=this.props,i=e.muted,n=e.onUnmute,o=e.playerProvider,a=1-t.offsetY/this.height;o.setVolume(a),i&&n(),this.setState({volume:a})}},{key:'render',value:function(){var e=this,t=this.props,i=t.playerProvider,n=t.muted,o=t.show,a=this.state.volume,r='exp-ui__volume-control';return o&&(r+=' exp-ui__state__shown'),h('div',{class:r,ref:function(t){return e.ref=t},onClick:this.setVolume},h('div',{class:'exp-ui__volume-level__background'}),h('div',{class:'exp-ui__volume-level',style:{height:''.concat(n?0:100*(a||i.volume()),'%')}}))}}]),t}(d),Wd=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),Vd.a.use(),n._hoverTimer=new Aa.Timer,n}En()(t,e);var i=pe(t);return gn()(t,[{key:'componentDidMount',value:function(){this.ref&&this._listenToEvents()}},{key:'_listenToEvents',value:function(){var e=this;Fn.isMobileOrTablet()?this.ref.addEventListener('touchstart',function(){e.setState({hovered:!0}),e._hoverTimer.timeout(function(){e.setState({hovered:!1})},3e3)}):(this.ref.addEventListener('mouseenter',function(){e.setState({hovered:!0})}),this.ref.addEventListener('mouseleave',function(){e.setState({hovered:!1})}))}},{key:'render',value:function(){var e=this,t=this.props,i=t.config,n=t.muted,o=t.show,a=t.playerProvider,r=t.onClick,s=t.popup,l=this.state.hovered,d='exp-ui__sound-button';return o&&(d+=' exp-ui__state__shown'),i.enabled&&h('div',{class:d,ref:function(t){return e.ref=t}},n?zd(i,r):Yd(i,r),s&&h(Fd,{show:l,playerProvider:a,muted:n,onUnmute:r}))}}]),t}(d),Hd=Wd,qd=i(69),Kd=i.n(qd);Kd.a.use();var Gd=function(e){var t=e.config,i='exp-ui__skip-button '.concat(e.show?'exp-ui-state__shown':''),n={color:t.color,fontSize:''.concat(t.size,'px')};return t.enabled&&h('div',{class:i,onClick:function(){return e.onClick&&e.onClick()},style:n},'Skip')},jd=function(e){var t=e.config,i='exp-ui__next-button';return e.show&&(i+=' exp-ui__state__shown'),e.config.enabled&&h('div',{class:i,onClick:e.onClick},h('svg',{xmlns:'http://www.w3.org/2000/svg',viewBox:'0 0 24 24',height:t.size||48,width:t.size||48,fill:t.color||'#fff'},h('path',{d:'M0 0h24v24H0z',fill:'none'}),h('path',{d:'M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z'})))},Qd=function(e){var t=e.config,i='exp-ui__pause-button';return e.show&&(i+=' exp-ui__state__shown'),(e.config.enabled||!0)&&h('div',{class:i,onClick:e.onClick},h('svg',{xmlns:'http://www.w3.org/2000/svg',viewBox:'0 0 24 24',height:t.size||48,width:t.size||48,fill:t.color||'#fff'},h('path',{d:'M0 0h24v24H0z',fill:'none'}),h('path',{d:'M6 19h4V5H6v14zm8-14v14h4V5h-4z'})))},Xd=function(e){return e.config.enabled&&h('div',{class:'exp-ui__play-button exp-ui__state__shown',onClick:e.onClick},h('svg',{xmlns:'http://www.w3.org/2000/svg',viewBox:'0 0 24 24',height:e.config.size||48,width:e.config.size||48,fill:e.config.color||'#fff'},h('path',{d:'M0 0h24v24H0z',fill:'none'}),h('path',{d:'M8 5v14l11-7z'})))},Zd=function(e){var t=e.config,i='exp-ui__prev-button';return e.show&&(i+=' exp-ui__state__shown'),e.config.enabled&&h('div',{class:i,onClick:e.onClick},h('svg',{xmlns:'http://www.w3.org/2000/svg',viewBox:'0 0 24 24',height:t.size||48,width:t.size||48,fill:t.color||'#fff'},h('path',{d:'M0 0h24v24H0z',fill:'none'}),h('path',{d:'M6 6h2v12H6zm3.5 6l8.5 6V6z'})))},Jd=i(70),$d=i.n(Jd),ep=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),$d.a.use(),n.onPrevClick=n.onPrevClick.bind(Bl()(n)),n.onNextClick=n.onNextClick.bind(Bl()(n)),n.onPlayClick=n.onPlayClick.bind(Bl()(n)),n.onPauseClick=n.onPauseClick.bind(Bl()(n)),n}En()(t,e);var i=_e(t);return gn()(t,[{key:'onClick',value:function(e){this.props.onClick&&this.props.onClick({action:e})}},{key:'onPrevClick',value:function(){this.onClick(f.EVENTS.PREVIOUS)}},{key:'onNextClick',value:function(){this.onClick(f.EVENTS.NEXT)}},{key:'onPlayClick',value:function(){this.onClick(f.EVENTS.PLAY)}},{key:'onPauseClick',value:function(){this.onClick(f.EVENTS.PAUSE)}},{key:'isPrevEnabled',value:function(){var e=this.props,t=e.adPlaying,i=e.sticky,n=e.config;return n.prev.enabled&&!t&&!i}},{key:'isNextEnabled',value:function(){var e=this.props,t=e.adPlaying,i=e.sticky,n=e.config;return n.next.enabled&&!t&&!i}},{key:'render',value:function(){var e=this.props,t=e.show,i=e.config,n=e.paused;return h('div',{class:'exp-ui__controls'},this.isPrevEnabled()&&h(Zd,{onClick:this.onPrevClick,show:t,config:i.prev}),n?h(Xd,{onClick:this.onPlayClick,config:i.play}):h(Qd,{onClick:this.onPauseClick,show:t,config:i.pause}),this.isNextEnabled()&&h(jd,{onClick:this.onNextClick,show:t,config:i.next}))}}]),t}(d),tp=i(71),ip=i.n(tp);ip.a.use();var np=function(e){var t,i;return e.enabled&&(null===e||void 0===e||null===(t=e.content)||void 0===t?void 0:t.poster)&&h('div',{class:'exp-ui__poster',style:{backgroundImage:'url("'.concat(null===e||void 0===e||null===(i=e.content)||void 0===i?void 0:i.poster,'")')}})},op=i(72),ap=i.n(op);ap.a.use();var rp=function(){return h('div',{class:'exp-ui__loader'},h('div',{class:'exp-ui__loader-circle'}))},sp=0,lp=[],dp=Wl.__b,pp=Wl.__r,up=Wl.diffed,_p=Wl.__c,cp=Wl.unmount,gp,yp,mp;Wl.__b=function(e){yp=null,dp&&dp(e)},Wl.__r=function(e){pp&&pp(e),gp=0;var t=(yp=e.__c).__H;t&&(t.__h.forEach(ke),t.__h.forEach(Ee),t.__h=[])},Wl.diffed=function(e){up&&up(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==lp.push(t)&&mp===Wl.requestAnimationFrame||((mp=Wl.requestAnimationFrame)||function(e){var i=function(){clearTimeout(n),fp&&cancelAnimationFrame(o),setTimeout(e)},n=setTimeout(i,100),o;fp&&(o=requestAnimationFrame(i))})(xe)),yp=null},Wl.__c=function(e,i){i.some(function(e){try{e.__h.forEach(ke),e.__h=e.__h.filter(function(e){return!e.__||Ee(e)})}catch(t){i.some(function(e){e.__h&&(e.__h=[])}),i=[],Wl.__e(t,e.__v)}}),_p&&_p(e,i)},Wl.unmount=function(e){cp&&cp(e);var t=e.__c,i;t&&t.__H&&(t.__H.__.forEach(function(e){try{ke(e)}catch(e){i=e}}),i&&Wl.__e(i,t.__v))};var fp='function'==typeof requestAnimationFrame;(Ie.prototype=new d).isPureReactComponent=!0,Ie.prototype.shouldComponentUpdate=function(e,i){return Pe(this.props,e)||Pe(this.state,i)};var hp=Wl.__b;Wl.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),hp&&hp(e)};var vp='undefined'!=typeof Symbol&&Symbol.for&&Symbol.for('react.forward_ref')||3911,R=function(e,i){return null==e?null:g(g(e).map(i))},bp=Wl.__e;Wl.__e=function(i,n,t,e){if(i.then)for(var a=n,o;a=a.__;)if((o=a.__c)&&o.__c)return null==n.__e&&(n.__e=t.__e,n.__k=t.__k),o.__c(i,n);bp(i,n,t,e)};var xp=Wl.unmount;Wl.unmount=function(e){var i=e.__c;i&&i.__R&&i.__R(),i&&!0===e.__h&&(e.type=null),xp&&xp(e)},(E.prototype=new d).__c=function(a,n){var t=n.__c,e=this;null==e.t&&(e.t=[]),e.t.push(t);var r=Ae(e.__v),s=!1,o=function(){s||(s=!0,t.__R=null,r?r(i):i())};t.__R=o;var i=function(){if(! --e.__u){if(e.state.__e){var i=e.state.__e;e.__v.__k[0]=function i(n,o,e){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return i(n,o,e)}),n.__c&&n.__c.__P===o&&(n.__e&&e.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=e)),n}(i,i.__c.__P,i.__c.__O)}var n;for(e.setState({__e:e.__b=null});n=e.t.pop();)n.forceUpdate()}},l=!0===n.__h;e.__u++||l||e.setState({__e:e.__b=e.__v.__k[0]}),a.then(o,o)},E.prototype.componentWillUnmount=function(){this.t=[]},E.prototype.render=function(i,n){if(this.__b){if(this.__v.__k){var t=document.createElement('div'),e=this.__v.__k[0].__c;this.__v.__k[0]=function i(n,o,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(e){'function'==typeof e.__c&&e.__c()}),n.__c.__H=null),null!=(n=Ce({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=o),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return i(n,o,e)})),n}(this.__b,t,e.__O=e.__P)}this.__b=null}var o=n.__e&&h(ne,null,i.fallback);return o&&(o.__h=null),[h(ne,null,n.__e?null:i.children),o]};var kp=function(i,n,t){if(++t[1]===t[0]&&i.o.delete(n),i.props.revealOrder&&('t'!==i.props.revealOrder[0]||!i.o.size))for(t=i.u;t;){for(;3<t.length;)t.pop()();if(t[1]<t[0])break;i.u=t=t[2]}};(U.prototype=new d).__e=function(i){var n=this,t=Ae(n.__v),e=n.o.get(i);return e[0]++,function(a){var r=function(){n.props.revealOrder?(e.push(a),kp(n,i,e)):a()};t?t(r):r()}},U.prototype.render=function(i){this.u=null,this.o=new Map;var n=g(i.children);i.revealOrder&&'b'===i.revealOrder[0]&&n.reverse();for(var t=n.length;t--;)this.o.set(n[t],this.u=[1,0,this.u]);return i.children},U.prototype.componentDidUpdate=U.prototype.componentDidMount=function(){var i=this;this.o.forEach(function(n,t){kp(i,t,n)})};var Ep='undefined'!=typeof Symbol&&Symbol.for&&Symbol.for('react.element')||60103,Sp=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,V='undefined'!=typeof document,Tp=function(e){return('undefined'!=typeof Symbol&&'symbol'==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};d.prototype.isReactComponent={},['componentWillMount','componentWillReceiveProps','componentWillUpdate'].forEach(function(e){Object.defineProperty(d.prototype,e,{configurable:!0,get:function(){return this['UNSAFE_'+e]},set:function(i){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:i})}})});var Cp=Wl.event;Wl.event=function(e){return Cp&&(e=Cp(e)),e.persist=De,e.isPropagationStopped=Z,e.isDefaultPrevented=Y,e.nativeEvent=e};var Pp={configurable:!0,get:function(){return this.class}},J=Wl.vnode,K;Wl.vnode=function(a){var n=a.type,s=a.props,e=s;if('string'==typeof n){var r=-1===n.indexOf('-');for(var l in e={},s){var o=s[l];V&&'children'===l&&'noscript'===n||'value'===l&&'defaultValue'in s&&null==o||('defaultValue'===l&&'value'in s&&null==s.value?l='value':'download'===l&&!0===o?o='':/ondoubleclick/i.test(l)?l='ondblclick':/^onchange(textarea|input)/i.test(l+n)&&!Tp(s.type)?l='oninput':/^onfocus$/i.test(l)?l='onfocusin':/^onblur$/i.test(l)?l='onfocusout':/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(l)?l=l.toLowerCase():r&&Sp.test(l)?l=l.replace(/[A-Z0-9]/,'-$&').toLowerCase():null===o&&(o=void 0),e[l]=o)}'select'==n&&e.multiple&&Array.isArray(e.value)&&(e.value=g(s.children).forEach(function(t){t.props.selected=-1!=e.value.indexOf(t.props.value)})),'select'==n&&null!=e.defaultValue&&(e.value=g(s.children).forEach(function(t){t.props.selected=e.multiple?-1!=e.defaultValue.indexOf(t.props.value):e.defaultValue==t.props.value})),a.props=e,s.class!=s.className&&(Pp.enumerable='className'in s,null!=s.className&&(e.class=s.className),Object.defineProperty(e,'className',Pp))}a.$$typeof=Ep,J&&J(a)};var G=Wl.__r;Wl.__r=function(e){G&&G(e),K=e.__c};var Q=i(73),Ip=i.n(Q);Ip.a.use();var Ap=function(e){var t='exp-ui__logo exp-ui__logo-position__'.concat(e.position||'right'),i={top:''.concat(null===(o=e.margins)||void 0===o?void 0:o.top,'px'),left:''.concat(null===(a=e.margins)||void 0===a?void 0:a.left,'px'),right:''.concat(null===(r=e.margins)||void 0===r?void 0:r.right,'px')},n=he(null),o,a,r;return me(function(){Me(e.src,function(t,i,o){var a=e.width||t;o.width=a,o.height=a/t*i,o['class']='exp-ui__logo__image',o.alt='exp-player-logo',n.current.appendChild(o)})},[]),e.sticky&&(t+=' exp-ui__logo-sticky'),e.link&&(t+=' exp-ui__logo-clickable'),e.enabled&&e.src&&h('div',{class:t,style:i,ref:e.link?null:n},e.link?h('a',{href:e.link,target:'_blank',rel:'noreferrer',ref:e.link?n:null}):null)},wp=i(19),Op=i(74),Dp=i.n(Op),Lp=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),Dp.a.use(),n.ref=null,n}En()(t,e);var i=Re(t);return gn()(t,[{key:'componentDidMount',value:function(){this.ref&&this.props.isMobile&&this._adjustPlayer()}},{key:'_adjustPlayer',value:function(){var e=this.ref.getBoundingClientRect(),t=e.height,i=za.playerSize||{},n=i.margin,o=void 0===n?{}:n,a=o.top?'var(--pbs-margin-top)':'0px';this._dynamicStyles=wp.a.insertStyleSheet(document.head,'\n        .pbs {\n          margin-top: calc('.concat(a,' + ').concat(t,'px);  \n        } \n      '))}},{key:'render',value:function(){var e=this,t=this.props,i=t.enabled,n=t.size,o=t.onClick,a=t.activeIndex;return i&&h('div',{class:'exp-ui__pagination',ref:function(t){return e.ref=t}},Hn()(Array(n)).map(function(e,t){var i='exp-ui__pagination-dot index-'.concat(t,' ').concat(a===t?'active':'');return h('div',{key:'pagination-dot-'.concat(t),class:i,onClick:function(){return o&&o(t)}})}))}}]),t}(d),Mp={play:function(e){var t=e.width,i=e.height,n=e.color;return h('svg',{viewBox:'0 0 '.concat(t,' ').concat(i),fill:'none',xmlns:'http://www.w3.org/2000/svg',height:i,width:t},h('path',{d:'M9 0C7.21997 0 5.47991 0.527841 3.99987 1.51677C2.51983 2.50571 1.36628 3.91131 0.685088 5.55585C0.00389955 7.20038 -0.17433 9.00998 0.172936 10.7558C0.520203 12.5016 1.37737 14.1053 2.63604 15.364C3.89471 16.6226 5.49836 17.4798 7.24419 17.8271C8.99002 18.1743 10.7996 17.9961 12.4442 17.3149C14.0887 16.6337 15.4943 15.4802 16.4832 14.0001C17.4722 12.5201 18 10.78 18 9C18 6.61305 17.0518 4.32387 15.364 2.63604C13.6761 0.948211 11.387 0 9 0ZM13.8086 9.56571L6.73715 13.4229C6.63942 13.4793 6.52856 13.509 6.41572 13.509C6.30287 13.509 6.19202 13.4793 6.09429 13.4229C5.99762 13.3641 5.91818 13.2808 5.864 13.1815C5.80982 13.0821 5.78282 12.9703 5.78572 12.8571V5.14286C5.78574 5.03129 5.81479 4.92166 5.87002 4.82472C5.92525 4.72779 6.00475 4.6469 6.10072 4.59C6.19844 4.53358 6.3093 4.50387 6.42215 4.50387C6.53499 4.50387 6.64585 4.53358 6.74357 4.59L13.815 8.44714C13.9171 8.50222 14.0023 8.58389 14.0617 8.68348C14.1211 8.78307 14.1525 8.89688 14.1525 9.01286C14.1525 9.12883 14.1211 9.24264 14.0617 9.34223C14.0023 9.44182 13.9171 9.52349 13.815 9.57857L13.8086 9.56571Z',fill:n}))},new_window:function(e){var t=e.width,i=e.height,n=e.color;return h('svg',{viewBox:'0 0 '.concat(t,' ').concat(i),fill:'none',xmlns:'http://www.w3.org/2000/svg',height:i,width:t},h('path',{d:'M7 0V2H2V16H16V11H18V17C18 17.2652 17.8946 17.5196 17.7071 17.7071C17.5196 17.8946 17.2652 18 17 18H1C0.734784 18 0.48043 17.8946 0.292893 17.7071C0.105357 17.5196 0 17.2652 0 17V1C0 0.734784 0.105357 0.48043 0.292893 0.292893C0.48043 0.105357 0.734784 0 1 0H7ZM14.586 2H10V0H18V8H16V3.414L9 10.414L7.586 9L14.586 2Z',fill:n}))},arrow_right:function(e){var t=e.width,i=e.height,n=e.color;return h('svg',{viewBox:'0 0 25 25',fill:'none',xmlns:'http://www.w3.org/2000/svg',height:i,width:t},h('path',{d:'M12.2717 25L24.5 12.5L12.2717 0L10.1699 2.14844L18.8226 10.9654H0.5V14.0346H18.8226L10.1699 22.8795L12.2717 25Z',fill:n}))}},Rp=function(e){var t=e.type,i=e.width,n=void 0===i?18:i,o=e.height,a=void 0===o?18:o,r=e.color,s=void 0===r?'white':r,l=Mp[t]||Mp.new_window;return h('div',{class:'exp-ui__cta-icon'},l({width:n,height:a,color:s}))},Np=i(75),Up=i.n(Np),Bp=fn.constants.STICKY,Vp='Read More',zp=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),Up.a.use(),n.state={text:e.text},n._onClick=n._onClick.bind(Bl()(n)),n}En()(t,e);var i=Ue(t);return gn()(t,[{key:'componentDidMount',value:function(){var e=this;Br.onActionChange(this._onContentActionChange.bind(this)),Tr.publish(xr.CTA.ENABLED),setTimeout(function(){e._squareBy(),e._fadeIn()},500)}},{key:'componentWillUpdate',value:function(){this._fadeIn()}},{key:'_fadeIn',value:function(){var e=this;setTimeout(function(){e.ref&&e._isAbleToShow()&&e.ref.classList.add('exp-ui__cta_shown')},500)}},{key:'_fadeOut',value:function(){this.ref.classList.remove('exp-ui__cta_shown')}},{key:'_squareBy',value:function(){var e=this,t=this.props,i=t.squareBy,n=t.biPositionalSticky;i&&this.ref&&(n?(this.ref.style.width='0px',this.ref.style.overflow='hidden',setTimeout(function(){return e._setDimensions(i)},200)):this._setDimensions(i))}},{key:'_setDimensions',value:function(e){if(this.ref){var t=this.ref.getBoundingClientRect(),i=t.height,n=t.width;'height'===e?this.ref.style.width=''.concat(i,'px'):'width'==e&&(this.ref.style.height=''.concat(n,'px'))}}},{key:'_onContentActionChange',value:function(){this._updateText()}},{key:'_updateText',value:function(){this.setState({text:this._getText()})}},{key:'_getText',value:function(){var e=Br.action||{},t=e.data;t=void 0===t?{}:t;var i=t.text,n=void 0===i?'':i,o=this.props.text;return n&&!1===this._isDefault(n)&&(o=n),o||(o=Vp),o}},{key:'_isDefault',value:function(e){return e.toLowerCase()===Vp.toLowerCase()}},{key:'_hasActions',value:function(){return Br.containsCTAActions(this.props.content.current)&&Br.action}},{key:'_isMRSSContent',value:function(){return this.props.content.current.type===kr.MRSS}},{key:'_isAbleToShow',value:function(){var e=this.props.forceShow;return e||this._getUrl()||this._hasActions()}},{key:'_isFullScreenMode',value:function(){return!this._isMRSSContent()&&this._hasActions()}},{key:'_getUrl',value:function(){return this._hasActions()?Br.action.data.url:(this.props.content.current.videoSpecMeta||{}).articleUrl}},{key:'_onClick',value:function(){this.props.onClick&&this.props.onClick(this._getUrl())}},{key:'_showIcon',value:function(){var e=this.props,t=e.icon,i=e.stickyPosition,n=e.sticky;return!!(t&&'none'!==t)||!!(n&&[Bp.POSITION.UPPER_NATIVE,Bp.POSITION.UPPER_LARGE,Bp.POSITION.BOTTOM_NATIVE,Bp.POSITION.BOTTOM_LARGE].includes(i))}},{key:'_showText',value:function(){var e=this.props,t=e.stickyPosition,i=e.sticky;return!(i&&[Bp.POSITION.UPPER_NATIVE,Bp.POSITION.BOTTOM_NATIVE].includes(t))}},{key:'render',value:function(){var e=this,t=this.props,i=t.icon,n=t.color,o=t.animation,a=t.ignoreAnimation,r=t.enabled,s=this._getText()||this.state.text,l='exp-ui__cta',d='exp-ui__cta-button';return!1===(null===r||void 0===r?void 0:r.onSticky)&&(l+=' cta-button-hide-on-sticky'),!1===(null===r||void 0===r?void 0:r.onDevice)&&(l+=' cta-button-hide-on-device'),!1===o||a||(d+=' animated'),r&&s&&h('div',{class:l,ref:function(t){return e.ref=t}},this._isFullScreenMode()&&h('div',{class:'exp-ui__cta-fullscreen',"aria-label":'Video Player',onClick:this._onClick}),h('div',{className:d,style:{backgroundColor:n},onClick:this._onClick},this._showIcon()&&h(Rp,{type:i}),this._showText()&&h('div',{class:'exp-ui__cta-button__text'},s)))}}]),t}(d),Yp=zp,Fp={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:'normal',autoplay:!0,timelineOffset:0},Wp={duration:1e3,delay:0,endDelay:0,easing:'easeOutElastic(1, .5)',round:0},Hp=['translateX','translateY','translateZ','rotate','rotateX','rotateY','rotateZ','scale','scaleX','scaleY','scaleZ','skew','skewX','skewY','perspective','matrix','matrix3d'],qp={CSS:{},springs:{}},Kp={arr:function(e){return Array.isArray(e)},obj:function(e){return ze(Object.prototype.toString.call(e),'Object')},pth:function(e){return Kp.obj(e)&&e.hasOwnProperty('totalLength')},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||Kp.svg(e)},str:function(e){return'string'==typeof e},fnc:function(e){return'function'==typeof e},und:function(e){return'undefined'==typeof e},nil:function(e){return Kp.und(e)||null===e},hex:function(e){return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return /^rgb/.test(e)},hsl:function(e){return /^hsl/.test(e)},col:function(e){return Kp.hex(e)||Kp.rgb(e)||Kp.hsl(e)},key:function(e){return!Fp.hasOwnProperty(e)&&!Wp.hasOwnProperty(e)&&'targets'!==e&&'keyframes'!==e}},Gp=function(){function e(e,t){return 1-3*t+3*e}function t(e,t){return 3*t-6*e}function i(e){return 3*e}function n(n,o,a){return((e(o,a)*n+t(o,a))*n+i(o))*n}function o(n,o,a){return 3*e(o,a)*n*n+2*t(o,a)*n+i(o)}function a(e,t,o,a,r){var s=0,i,l;do l=t+(o-t)/2,i=n(l,a,r)-e,0<i?o=l:t=l;while(1e-7<tn(i)&&10>++s);return l}function r(e,t,a,r){for(var s=0,i;4>s;++s){if(i=o(t,a,r),0===i)return t;var l=n(t,a,r)-e;t-=l/i}return t}var s=11,l=1/(s-1);return function(e,t,d,p){function u(t){for(var i=0,n=1;n!==s-1&&_[n]<=t;++n)i+=l;--n;var p=(t-_[n])/(_[n+1]-_[n]),u=i+p*l,c=o(u,e,d);return .001<=c?r(t,u,e,d):0===c?u:a(t,i,i+l,e,d)}if(0<=e&&1>=e&&0<=d&&1>=d){var _=new Float32Array(s);if(e!==t||d!==p)for(var c=0;c<s;++c)_[c]=n(c*l,e,d);return function(i){return e===t&&d===p?i:0===i||1===i?i:n(u(i),t,p)}}}}(),jp=function(){var e={linear:function(){return function(e){return e}}},t={Sine:function(){return function(e){return 1-$i(e*Zi/2)}},Circ:function(){return function(e){return 1-en(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t=4,i;e<((i=Xi(2,--t))-1)/11;);return 1/Xi(4,3-t)-7.5625*Xi((3*i-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var i=Ve(e,1,10),n=Ve(t,.1,2);return function(e){return 0===e||1===e?e:-i*Xi(2,10*(e-1))*Ji((e-1-n/(2*Zi)*Math.asin(1/i))*(2*Zi)/n)}}};return['Quad','Cubic','Quart','Quint','Expo'].forEach(function(e,n){t[e]=function(){return function(e){return Xi(e,n+2)}}}),Object.keys(t).forEach(function(i){var n=t[i];e['easeIn'+i]=n,e['easeOut'+i]=function(e,i){return function(o){return 1-n(e,i)(1-o)}},e['easeInOut'+i]=function(e,i){return function(o){return .5>o?n(e,i)(2*o)/2:1-n(e,i)(-2*o+2)/2}},e['easeOutIn'+i]=function(e,i){return function(o){return .5>o?(1-n(e,i)(1-2*o))/2:(n(e,i)(2*o-1)+1)/2}}}),e}(),Qp={css:function(e,t,i){return e.style[t]=i},attribute:function(e,t,i){return e.setAttribute(t,i)},object:function(e,t,i){return e[t]=i},transform:function(e,t,i,n,o){if(n.list.set(t,i),t===n.last||o){var a='';n.list.forEach(function(e,t){a+=t+'('+e+') '}),e.style.transform=a}}},Xp=0,Zp=[],Jp=function(){function e(){o||Vt()&&zt.suspendWhenDocumentHidden||!(0<Zp.length)||(o=requestAnimationFrame(n))}function n(e){for(var t=Zp.length,a=0,i;a<t;)i=Zp[a],i.paused?(Zp.splice(a,1),t--):(i.tick(e),a++);o=0<a?requestAnimationFrame(n):void 0}function t(){zt.suspendWhenDocumentHidden&&(Vt()?o=cancelAnimationFrame(o):(Zp.forEach(function(e){return e._onDocumentVisibility()}),Jp()))}var o;return'undefined'!=typeof document&&document.addEventListener('visibilitychange',t),e}();zt.version='3.2.1',zt.speed=1,zt.suspendWhenDocumentHidden=!0,zt.running=Zp,zt.remove=function(e){for(var t=Pt(e),n=Zp.length,i;n--;)i=Zp[n],Ft(t,i)},zt.get=ct,zt.set=Mt,zt.convertPx=lt,zt.path=function(e,t){var i=Kp.str(e)?Ke(e)[0]:e;return function(e){return{property:e,el:i,svg:St(i),totalLength:kt(i)*((t||100)/100)}}},zt.setDashoffset=function(e){var t=kt(e);return e.setAttribute('stroke-dasharray',t),t},zt.stagger=function(e,t){void 0===t&&(t={});var i=t.direction||'normal',n=t.easing?qe(t.easing):null,o=t.grid,a=t.axis,r=t.from||0,s='first'===r,l='center'===r,d='last'===r,p=Kp.arr(e),u=p?parseFloat(e[0]):parseFloat(e),_=p?parseFloat(e[1]):0,c=ot(p?e[1]:e)||0,g=t.start||0+(p?u:0),y=[],m=0;return function(e,f,h){if(s&&(r=0),l&&(r=(h-1)/2),d&&(r=h-1),!y.length){for(var t=0;t<h;t++){if(!o)y.push(tn(r-t));else{var v=l?(o[0]-1)/2:r%o[0],b=l?(o[1]-1)/2:rn(r/o[0]),x=t%o[0],k=rn(t/o[0]),E=v-x,S=b-k,T=en(E*E+S*S);'x'===a&&(T=-E),'y'===a&&(T=-S),y.push(T)}m=on.apply(Math,y)}n&&(y=y.map(function(e){return n(e/m)*m})),'reverse'===i&&(y=y.map(function(e){return a?0>e?-1*e:-e:tn(m-e)}))}var C=p?(_-u)/m:u;return g+C*(sn(100*y[f])/100)+c}},zt.timeline=function(e){void 0===e&&(e={});var t=zt(e);return t.duration=0,t.add=function(n,o){function a(e){e.passThrough=!0}var r=Zp.indexOf(t),s=t.children;-1<r&&Zp.splice(r,1);for(var l=0;l<s.length;l++)a(s[l]);var i=$e(n,Je(Wp,e));i.targets=i.targets||e.targets;var d=t.duration;i.autoplay=!1,i.direction=t.direction,i.timelineOffset=Kp.und(o)?d:gt(o,d),a(t),t.seek(i.timelineOffset);var p=zt(i);a(p),s.push(p);var u=Ut(s,e);return t.delay=u.delay,t.endDelay=u.endDelay,t.duration=u.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},zt.easing=qe,zt.penner=jp,zt.random=function(e,t){return rn(Math.random()*(t-e+1))+e};var $p=zt,eu=i(36),tu=function(e){var t;if(!e)return t;var i=new Date(e),n=new Date().getTime()-i.getTime(),o=Object(eu.convertTS)(rn(n/1e3));return t=o.years?'Posted '.concat(o.years,' ').concat(1<o.years?'Years':'Year',' Ago'):o.months?'Posted '.concat(o.months,' ').concat(1<o.months?'Months':'Month',' Ago'):o.days?'Posted '.concat(o.days,' ').concat(1<o.days?'Days':'Day',' Ago'):o.hours?'Posted '.concat(o.hours,' ').concat(1<o.hours?'Hours':'Hour',' Ago'):o.minutes?'Posted '.concat(o.minutes,' ').concat(1<o.minutes?'Minutes':'Minute',' Ago'):'Posted '.concat(o.seconds,' ').concat(1<o.seconds?'Seconds':'Second',' Ago'),t},iu=i(76),nu=i.n(iu),ou=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),nu.a.use(),n.state={date:tu(e.date),shown:!1},n}En()(t,e);var i=Wt(t);return gn()(t,[{key:'componentWillReceiveProps',value:function(e){var t=this;return this.props.date===e.date?(this.props.show!==e.show&&(e.show?this._animateIn():this._animateOut()),!1):(this.setState({date:tu(e.date)}),e.date&&!e.show&&(setTimeout(function(){return t._animateIn()},500),setTimeout(function(){return t._animateOut()},2e3)),!1)}},{key:'_animateIn',value:function(){this._cancelAnimation(this._animOut),this.state.shown||(this._animate('in'),this.setState({shown:!0}))}},{key:'_animateOut',value:function(){var e=this;this._animOut=this._animate('out',{onComplete:function(){e.setState({shown:!1})}})}},{key:'_cancelAnimation',value:function(e){if(e){var t=$p.running,i=t.indexOf(e);-1!==i&&t.splice(i,1)}}},{key:'_animate',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return $p.timeline({loop:!1}).add({targets:this.ref,translateY:'in'===e?['100%','0%']:['0%','-100%'],easing:'in'===e?'cubicBezier(0, 0, .3, 1)':'cubicBezier(0, 0, 1, .3)',duration:400,delay:function(){return'in'===e?0:1e3},complete:function(){t.onComplete&&t.onComplete()}})}},{key:'render',value:function(){var e=this,t=this.props.enabled,i=this.state,n=i.date,o=i.shown,a='exp-ui__metadata-wrapper';return o||(a+=' exp-ui__state__hidden'),t&&n&&h('div',{class:a},h('div',{class:'exp-ui__metadata',ref:function(t){return e.ref=t}},n))}}]),t}(d),au=i(77),ru=i.n(au),su=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),ru.a.use(),n.state={shown:e.show},n._lines=[],n._maxWords=[],n}En()(t,e);var i=qt(t);return gn()(t,[{key:'componentDidMount',value:function(){this.props.text&&(this._prepareText(this.props.text),this.props.show&&!this.props.animationOut&&this._animateIn())}},{key:'componentWillReceiveProps',value:function(e){var t=this;return(this.props.orientation=e.orientation,this.props.text!==e.text)?(e.text?(this._prepareText(e.text),!e.show&&(setTimeout(function(){return t._animateIn()},500),setTimeout(function(){return t._animateOut()},2e3))):this._clearTitle(),!1):(this.props.show!==e.show&&(e.show?(this.props.text&&this._prepareText(this.props.text),this._animateIn()):(this._animateOut(),this.setState({shown:!1}))),this.props.isSticky!==e.isSticky&&this.props.text&&this._prepareText(this.props.text),!1)}},{key:'_prepareText',value:function(e){var t=this;setTimeout(function(){t._calcMaxWords(e),t._setTitle(e)})}},{key:'_calcMaxWords',value:function(e){var t=this,i=e.split(/\s/g),n=wp.a.insert(this._ref,'div',{class:'exp-ui__animated-text__line-wrapper'}),o=wp.a.insert(n,'div',{class:'exp-ui__animated-text__line',style:'visibility: hidden; display: inline-block;'}),a=this._ref.getBoundingClientRect();this._lines.forEach(function(e,n){n!==t._lines.length-1&&(o.innerHTML='',i.forEach(function(e,r){wp.a.insert(o,'span',{style:'visibility: hidden'},r?' '.concat(e):e);var i=o.getBoundingClientRect();a.width-(t.props.linePadding||0)>i.width&&(t._maxWords[n]=r+1)}),i.splice(0,t._maxWords[n]))}),this._ref.removeChild(n)}},{key:'_setTitle',value:function(e){var t=this;if(!e)return!1;var i=e.split(/\s/g);return this._lines.forEach(function(e,n){var o=t._getLineText(i,n);e.innerHTML=o.trim()}),!0}},{key:'_clearTitle',value:function(){this._lines.forEach(function(e){e.innerHTML=''})}},{key:'_getLineText',value:function(e,t){return t===this._lines.length-1?e.splice(0).join(' '):e.splice(0,this._maxWords[t]).join(' ')}},{key:'_animateIn',value:function(){this.state.shown||(this._cancelAnimation(this._animOut),this._animate('in'),this.setState({shown:!0}))}},{key:'_animateOut',value:function(){var e=this;!1!==this.props.animationOut&&(this._animOut=this._animate('out',{onComplete:function(){e.setState({shown:!1})}}))}},{key:'_cancelAnimation',value:function(e){if(e){var t=$p.running,i=t.indexOf(e);-1!==i&&t.splice(i,1)}}},{key:'_animate',value:function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.props.orientation,o={translateY:'in'===e?['100%','0%']:['0%','-100%'],translateX:'0%'};return'X'===n&&(o={translateY:'0%',translateX:'in'===e?['-100%','0%']:['100%','0%']}),$p.timeline({loop:!1}).add(Object.assign(o,{targets:this._lines,easing:'in'===e?'cubicBezier(0, 0, .3, 1)':'cubicBezier(0, 0, 1, .3)',duration:400,delay:function(n,o){return('out'===e?t.props.delay||0:0)+120*(o+1)},complete:function(){i.onComplete&&i.onComplete()}}))}},{key:'render',value:function(){var e=this,t=this.state.shown,i='exp-ui__animated-text';return t||(i+=' exp-ui__state__hidden'),h('div',{class:i,ref:function(t){return e._ref=t}},Hn()(Array(this.props.maxLines)).map(function(t,i){return h('div',{class:'exp-ui__animated-text__line-wrapper',key:'animated-text__line-'.concat(i)},h('div',{class:'exp-ui__animated-text__line',ref:function(t){return e._lines[i]=t}}))}))}}]),t}(d),lu=i(52),du=i.n(lu),pu=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),du.a.use(),n}En()(t,e);var i=Gt(t);return gn()(t,[{key:'componentDidMount',value:function(){this.props.isPopup&&this._adjustPopupStyles(),this.ref&&this.props.isMobile&&this._adjustPlayer()}},{key:'componentWillReceiveProps',value:function(e){var t=this;e.isPopup&&(this.props.title!==e.title||this.props.isPopup!==e.isPopup)&&setTimeout(function(){return t._adjustPopupStyles()},500),!e.isPopup&&this.ref&&(this.ref.style.removeProperty('top'),this.ref.style.removeProperty('left'))}},{key:'componentWillUnmount',value:function(){du.a.unuse()}},{key:'_adjustPlayer',value:function(){var e=this.ref.getBoundingClientRect(),t=e.height,i=za.playerSize||{},n=i.padding,o=void 0===n?{}:n,a=o.bottom?'var(--pbs-padding-top)':'0px';this._dynamicStyles=wp.a.insertStyleSheet(document.head,'\n        .pbs {\n          padding-bottom: calc('.concat(a,' + ').concat(t,'px);  \n        } \n      '))}},{key:'_adjustPopupStyles',value:function(){if(this.ref){var e=this.ref.getBoundingClientRect(),t=e.height;this.ref.style.top='-'.concat(t+5,'px'),this.ref.style.left=0}}},{key:'render',value:function(){var e=this,t=this.props,i=t.show,n=t.adPlaying,o=t.title,a=t.config,r=t.clickable,s=t.onClick,l=t.isSticky,d=t.isPopup,p='exp-ui__title',u=o;return r&&(p+=' exp-ui__state__clickable'),a.title&&(n?u=a.title.ad:!u&&(u=a.title.content)),a.enabled&&u&&h('div',{class:'exp-ui__title-wrapper',ref:function(t){return e.ref=t}},h('div',{class:p,onClick:function(){return r&&s&&s()}},d?h('p',null,u):h(su,{text:u,maxLines:2,isSticky:l,orientation:l?'X':'Y',animationOut:!l,show:!!(Fn.isMobile()||l)||i,delay:1e3,linePadding:l?30:50})))}}]),t}(d),uu=i(53),_u=i.n(uu),cu=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),_u.a.use(),n.state={shown:e.show},n._timer=new Aa.Timer,n._onTitleClick=n._onTitleClick.bind(Bl()(n)),n}En()(t,e);var i=Qt(t);return gn()(t,[{key:'componentWillReceiveProps',value:function(e){this.props.show!==e.show&&(e.show?this._animateIn():this._animateOut())}},{key:'componentWillUnmount',value:function(){_u.a.unuse()}},{key:'_animateIn',value:function(){this._timer.stop(),this.setState({shown:!0})}},{key:'_animateOut',value:function(){var e=this;this._timer.timeout(function(){e.setState({shown:!1})},3e3)}},{key:'_getUrl',value:function(){var e=this.props.content.current;return e&&e.videoSpecMeta&&e.videoSpecMeta.articleUrl?e.videoSpecMeta.articleUrl:this._hasActions()?Br.action.data.url:(this.props.content.current.videoSpecMeta||{}).articleUrl}},{key:'_getDate',value:function(e){var t,i;return(null===e||void 0===e?void 0:e.createDate)||(null===e||void 0===e?void 0:e.pubDate)||(null===e||void 0===e||null===(t=e.videoSpecMeta)||void 0===t?void 0:t.createDate)||(null===e||void 0===e||null===(i=e.videoSpecMeta)||void 0===i?void 0:i.pubDate)}},{key:'_hasActions',value:function(){var e=this.props.content.current;return!!(e&&e.videoSpecMeta&&e.videoSpecMeta.articleUrl)||Br.containsCTAActions(this.props.content.current)&&Br.action}},{key:'_onTitleClick',value:function(){var e=this.props.onTitleClick;e&&e(this._getUrl())}},{key:'render',value:function(){var e=this.props,t=e.show,i=e.config,n=e.content,o=e.adPlaying,a=e.isSticky,r=e.isPopup,s=this.state.shown,l=this._getDate(n.current),d='exp-ui__meta-title-wrapper',p;return s||a||r||(d+=' exp-ui__state__hidden'),h('div',{class:d},!o&&!a&&h(ou,Nl()({},i.metadata,{date:l,show:t})),h(pu,{adPlaying:o,config:i.title,title:null===n||void 0===n||null===(p=n.current)||void 0===p?void 0:p.title,show:t,isSticky:a,isPopup:r,clickable:!!this._getUrl(),onClick:this._onTitleClick,isMobile:this.props.isMobile}))}}]),t}(d),gu=i(78),yu=i.n(gu),mu=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),yu.a.use(),n.state={hidden:!e.enabled},n}En()(t,e);var i=Zt(t);return gn()(t,[{key:'componentDidMount',value:function(){(this._isNotAutoPlaying()||this.props.autoplayBlocked)&&this._handleAutoplayBlock()}},{key:'componentWillReceiveProps',value:function(e){this.props.show!==e.show&&(e.show?this._animateIn():this._animateOut()),(this.props.autoplayBlocked||e.autoplayBlocked)&&this._handleAutoplayBlock()}},{key:'_handleAutoplayBlock',value:function(){var e=this;setTimeout(function(){return e._animateOut()},3e3)}},{key:'_isNotAutoPlaying',value:function(){return[Ia.PLAYBACK.MODE.CLICK_TO_PLAY_PAUSE_OUT_OF_VIEW,Ia.PLAYBACK.MODE.CLICK_TO_PLAY,Ia.PLAYBACK.MODE.PLAY_IN_VIEW].includes(za.playback)}},{key:'_animateIn',value:function(){this._animate('in'),this.setState({hidden:!1})}},{key:'_animateOut',value:function(){var e=this;this._animate('out',{onComplete:function(){return e.setState({hidden:!0})}})}},{key:'_animate',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!this.wrapperRef||!this.ref)return null;return $p.timeline({loop:!1}).add({targets:[this.ref,this.wrapperRef],clipPath:{in:['polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%)','polygon(-5% -5%, -5% 105%, 105% 105%, 105% -5%)'],out:['polygon(-5% -5%, -5% 105%, 50% 100%, 50% 50%, 50% 50%, 50% 50%, 50% 50%, 50% 100%, 105% 105%, 105% -5%)','polygon(-5% -5%, -5% 105%, 0% 100%, 0% 0%, 100% 0%, 100% 100%, 0% 100%, 0% 100%, 105% 105%, 105% -5%)']}[e],easing:'linear',duration:300,complete:function(){t.onComplete&&t.onComplete()}})}},{key:'render',value:function(){var e=this,t=this.props,i=t.enabled,n=t.logo,o=t.title,a=t.poster,r=this.state.hidden,s=h('img',{class:'exp-ui__transition-logo',src:n.src,alt:'transition-logo'}),l='exp-ui__transition-wrapper';return r&&(l+=' exp-ui__state__hidden'),i&&h('div',{ref:function(t){return e.wrapperRef=t},class:l,style:{backgroundImage:'url("'.concat(a,'")')}},h('div',{class:'exp-ui__transition',ref:function(t){return e.ref=t}},n.enabled&&s,h('p',null,o)))}}]),t}(d),fu=i(79),hu=i.n(fu),vu=fn.utils.elements,bu=!1,xu=function(e){var t=e.enabled,i=e.radius;return bu?null:(bu=!0,hu.a.use(),t&&vu.insertStyleSheet(document.head,'\n      .pbs__player,\n      .pb-stream,\n      .exp-ui,\n      .exp-ui__wrapper,\n      .exp-ui__up-next-video {\n        border-radius: '.concat(i,'px;\n      }\n\n      .exp-ui__info-panel.exp-ui_left,\n      .exp-ui__info-panel.exp-ui_outer-left {\n        border-bottom-left-radius: ').concat(i,'px;\n        border-top-left-radius: ').concat(i,'px;\n      }\n\n      .exp-ui__info-panel.exp-ui_top {\n        border-top-right-radius: ').concat(i,'px;\n        border-top-left-radius: ').concat(i,'px;\n      }\n\n      .exp-ui__transition-wrapper,\n      .exp-ui__transition {\n        border-radius: ').concat(i,'px;\n      }\n\n      .pb-stream .avp-p-wrapper div[id^="content_"] {\n        border-radius: ').concat(i,'px;\n      }\n\n      @media only screen and (max-width: 768px) {\n        .pbs__player .pbs-ui-hub {\n          border-bottom-right-radius: ').concat(i,'px;\n          border-bottom-left-radius: ').concat(i,'px;\n        }\n      }\n\n      @media only screen and (max-width: 768px) {\n        [data-pbs-position="sticky"] .exp-ui__transition-wrapper {\n          border-radius: ').concat(i,'px;\n        }\n      }\n    ')))},ku={apply:xu},Eu=fn.utils.Timer,Su=f.VIDEO_TEASERS,Tu=Su.VIDEO_DURATION,Cu=Su.SPLASH_PREROLL,Pu=function(){function e(t,i){_n()(this,e),this._config=t,this._playerProvider=i,this._skipTimer=new Eu,this._volumeTimer=new Eu,this._transitionTimer=new Eu,this._beforeCb=[],this._afterCb=[],this._tickCb=[],this._state={playing:!1,paused:!1}}return gn()(e,[{key:'state',get:function(){return this._state}},{key:'setState',value:function(e){this._state=ei(ei({},this._state),e)}},{key:'before',value:function(e){this._beforeCb.push(e)}},{key:'after',value:function(e){this._afterCb.push(e)}},{key:'tick',value:function(e){this._tickCb.push(e)}},{key:'adStarted',value:function(){this._adStartTS=new Date().getTime(),this.pause()}},{key:'adFinished',value:function(){this._adDuration=new Date().getTime()-this._adStartTS,this.resume()}},{key:'start',value:function(){var e=this;this.stop();var t=1e3*(this._config.duration||Tu),i=this._adDuration>t?this._adDuration+1e3:t;this._skipTimer.timeout(function(){e._afterCb.forEach(function(e){return e()})},i,function(t){e._tickCb.forEach(function(e){return e(t)})}),this._transitionTimer.timeout(function(){e._beforeCb.forEach(function(e){return e()}),e.fadeVolume('out')},i-1e3*Cu),this._adDuration=0,this.setState({playing:!0,paused:!1})}},{key:'pause',value:function(){this._skipTimer.pause(),this._transitionTimer.pause(),this.setState({playing:!1,paused:!0})}},{key:'resume',value:function(){this._skipTimer.resume(),this._transitionTimer.resume(),this.setState({playing:!0,paused:!1})}},{key:'stop',value:function(){this._skipTimer.stop(),this._transitionTimer.stop(),this.setState({playing:!1,paused:!1})}},{key:'fadeVolume',value:function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n){if(!1===t._playerProvider.muted&&t._playerProvider.setVolume){var o=t._playerProvider.volume(),a='in'===e?.1:-.1;t._volumeTimer.fadeOut(function(){var e=an(100*t._playerProvider.volume())/100+a;t._playerProvider.setVolume(0<=e?e:0)},50,{stopFn:function(){return .01>=t._playerProvider.volume()},finishFn:function(){return setTimeout(function(){t._playerProvider.setVolume(o),t._playerProvider.unmute(),n()},i.forceUnmute?1:Cu)}})}else n()})}}]),e}(),Iu=i(80),Au=i.n(Iu),wu=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),Au.a.use(),n._eventsInited=!1,n}En()(t,e);var i=ti(t);return gn()(t,[{key:'componentDidUpdate',value:function(e,t){var i=e.parent||t.parent;i&&!this._eventsInited&&(this._handleDesktopScrollEvents(),this._handleMobileScrollEvents(),this._eventsInited=!0)}},{key:'_handleMobileScrollEvents',value:function(){var t=this,e=this.props.parent,i=0,n=0;e.addEventListener('touchstart',function(t){i=t.touches[0].clientY,n=t.touches[0].clientX}),e.addEventListener('touchmove',function(t){return t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1,!1}),e.addEventListener('touchend',function(o){var e=t.props,a=e.isWideSticky,r=e.position,s=o.changedTouches[0].clientY,l=o.changedTouches[0].clientX,d=a||'right'===r?s-i:l-n;10<tn(d)&&t._scroll(d)})}},{key:'_handleDesktopScrollEvents',value:function(){var t=this,e=this.props.parent;window.addEventListener('mousewheel',function(i){return!t.isMouseOver||(i.preventDefault&&i.preventDefault(),i.returnValue=!1,!1)},{passive:!1}),e.addEventListener('mouseenter',function(){t.isMouseOver=!0}),e.addEventListener('mouseleave',function(){t.isMouseOver=!1}),e.addEventListener('mousewheel',function(i){t._scroll(i.wheelDelta)})}},{key:'_scroll',value:function(e){var t=this.props.scrolling;t||(0<e?this._prev():this._next())}},{key:'_next',value:function(){var e=this.props.onNext;e&&e()}},{key:'_prev',value:function(){var e=this.props.onPrev;e&&e()}},{key:'render',value:function(){var e=this;return h(ne,null,h('div',{class:'exp-ui__gallery__prev-button',onClick:function(){return e._prev()}}),h('div',{class:'exp-ui__gallery__next-button',onClick:function(){return e._next()}}))}}]),t}(d),Ou=i(81),Du=i.n(Ou),Lu=i(82),Mu=i.n(Lu),Ru=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),Mu.a.use(),n}En()(t,e);var i=ni(t);return gn()(t,[{key:'componentDidMount',value:function(){this._canvasRef&&this._createCanvas()}},{key:'_getPosterSrc',value:function(){var e=this.props.content.poster||this._getVideoPoster();return(e||'').replace('so_4','so_4,c_scale,w_200')}},{key:'_getVideoPoster',value:function(){var e=this.props.content.video,t=void 0===e?{}:e,i=t.jpg,n=void 0===i?{}:i;return n.src}},{key:'_getVideoSrc',value:function(){var e=this.props.content.video,t=void 0===e?{}:e,i=t.mp4,n=void 0===i?{}:i,o=t.m3u8,a=void 0===o?{}:o;return n.src||a.src}},{key:'_onLoad',value:function(){var e=this.props.onLoad;e&&e()}},{key:'_createCanvas',value:function(){var e=this,t=this._canvasRef.getBoundingClientRect(),i=t.width,n=t.height;this.setState({width:i,height:n});var o=this._canvasRef.getContext('2d'),a=wp.a.create('video',{src:this._getVideoSrc()});a.muted=!0,a.addEventListener('loadeddata',function(){a.play(),setTimeout(function(){return e._waitForVideo(a,o)},2e3)})}},{key:'_waitForVideo',value:function(e,t){var i=this.state,n=i.width,o=i.height;t.drawImage(e,0,0,n,o),e.pause(),this._onLoad()}},{key:'render',value:function(){var e=this,t=this.state,i=t.width,n=t.height,o=this._getPosterSrc();return o?h('img',{src:o,class:'exp-ui__poster-smart',alt:'exco-video-poster',onLoad:function(){return e._onLoad()}}):h('canvas',{ref:function(t){return e._canvasRef=t},class:'exp-ui__poster-smart',width:i,height:n})}}]),t}(d),Nu=Ru,Uu=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),Du.a.use(),n}En()(t,e);var i=ai(t);return gn()(t,[{key:'_onLoad',value:function(){var e={targets:this._ref,easing:'cubicBezier(0, 0, .3, 1)',opacity:[0,1],duration:700};$p.timeline({loop:!1}).add(e)}},{key:'render',value:function(){var e=this,t=this.props,i=t.content,n=t.contentIndex,o=t.active,a=t.next,r=t.onClick,s=t.index,l='exp-ui__gallery__item';return o&&(l+=' active'),a&&(l+=' next'),h('div',{class:l,"data-content-index":n,"data-index":s,ref:function(t){return e._ref=t},onClick:function(){return r&&r({item:e._ref,index:s,contentIndex:n})}},i.title&&h('div',{class:'exp-ui__gallery__item-title'},' ',i.title,' '),h(Nu,{content:i,onLoad:function(){return e._onLoad()}}))}}]),t}(d),Bu=i(83),Vu=i.n(Bu),zu=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),Vu.a.use(),n.ref=null,n.state={controlsDelta:0},n._createItems(),n}En()(t,e);var i=di(t);return gn()(t,[{key:'componentDidMount',value:function(){var e,t;if(this._adjustPlayer(),null!==(e=this.props)&&void 0!==e&&null!==(t=e.content)&&void 0!==t&&t.index){var i,n;this._swapNodes(null===(i=this.props)||void 0===i||null===(n=i.content)||void 0===n?void 0:n.index)}}},{key:'componentWillReceiveProps',value:function(e){var t=null===(n=this.props)||void 0===n?void 0:n.content,i=null===e||void 0===e?void 0:e.content,n,o,a;if((null===t||void 0===t||null===(o=t.current)||void 0===o?void 0:o.id)!==(null===i||void 0===i||null===(a=i.current)||void 0===a?void 0:a.id)){var r=this.state.controlsDelta,s=i.length-1,l=i.index-t.index-r;l>s&&(l%=s),0>r&&(l-=1),tn(l)===s&&(l=0<l?-1:1),0<l?this._next(l,!0):0>l&&this._prev(l,!0)}}},{key:'componentWillUnmount',value:function(){this._dynamicStyles&&this._dynamicStyles.parentNode.removeChild(this._dynamicStyles)}},{key:'_adjustPlayer',value:function(){if('below'===this.props.position){var e=this.props,t=e.infoPanelConfig,i=e.titleConfig,n=this.ref.getBoundingClientRect(),o=n.height,a=za.playerSize||{},r=a.margin,s=void 0===r?{}:r,l=s.bottom?'var(--pbs-margin-bottom)':'0px',d=o;!t.enabled&&i.enabled&&(d+=75),this._dynamicStyles=wp.a.insertStyleSheet(document.head,'\n        .pbs {\n          margin-bottom: calc('.concat(l,' + ').concat(o,'px);\n          --exco-video-gallery-height: ').concat(o,'px;\n        }\n        .exp-ui__gallery {\n          bottom: calc(0px - ').concat(o,'px);\n        }\n\n        @media only screen and (max-width: 768px) {\n          .pbs[data-pbs-device="mobile"] .exp-ui__gallery {\n            bottom: calc(0px - ').concat(d,'px - ').concat(l,');\n          }\n        }\n      '))}else'right'===this.props.position&&(this._dynamicStyles=wp.a.insertStyleSheet(document.head,'\n        .pbs:not([data-pbs-position="sticky"]) .pbs__player { width: 80%; }\n        .pbs { text-align: initial; }\n      '))}},{key:'_onItemClick',value:function(e){var t=this.props.onClick;t&&t(e.contentIndex)}},{key:'_swapNodes',value:function(e){for(var t=0;t<tn(e);t++)0<e?this._swapNext():0>e&&this._swapPrev()}},{key:'_getShift',value:function(e,t){var i=this.props.position,n=t?'offsetWidth':'offsetLeft';return('right'===i||this.isWideSticky())&&(n=t?'offsetHeight':'offsetTop'),e[n]}},{key:'_swapNext',value:function(){var e=this.state.items;e.push(e.shift()),this.setState({items:e})}},{key:'_swapPrev',value:function(){var e=this.state.items;e.unshift(e.pop()),this.setState({items:e})}},{key:'_next',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,i=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n=this.state.scrolling;if(n)return!1;if(i)this.setState({controlsDelta:0});else{var o=this.state.controlsDelta;this.setState({controlsDelta:o+1})}return this._activate({index:t,ignoreClass:!0,onCompleteIn:function(){e._swapNodes(t)}}),!0}},{key:'_prev',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],i=this.state.scrolling;if(i)return!1;if(t)this.setState({controlsDelta:0});else{var n=this.state.controlsDelta;this.setState({controlsDelta:n-1})}return this._swapNodes(e||-1),this._activate({ignoreClass:!0,ignoreOut:!0,inverse:!0,index:0}),!0}},{key:'_createItems',value:function(){var e=this,t=this.props.content,n=t.length,i=8<=n?n:2*n,o=Hn()(Array(i)).map(function(o,a){var r=a>=n?a-n:a;return e._createItem(t.all[r],r,a)});this.setState({items:o})}},{key:'_createItem',value:function(e,t,i){return{key:i,index:i,content:e,contentIndex:t}}},{key:'_getNodeByIndex',value:function(e){return this.wrapperRef.childNodes[e]}},{key:'_activate',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.index,i=e.ignoreOut,n=e.inverse,o=e.onCompleteIn,a=e.onCompleteOut,r=this._getNodeByIndex(t),s=this._getShift(r,n);this._scroll({shift:s,inverse:n,ignoreOut:i,onCompleteIn:o,onCompleteOut:a})}},{key:'_scroll',value:function(e){var t=this,i=e.shift,n=e.ignoreOut,o=e.inverse,a=e.onCompleteIn,r=e.onCompleteOut;if(!(10>i)){this.setState({scrolling:!0});var s={targets:'.exp-ui__gallery__items-wrapper',easing:'cubicBezier(0, 0, .3, 1)',duration:700,complete:function(){a&&a()}},l={targets:'.exp-ui__gallery__items-wrapper',easing:'steps(1)',duration:700,complete:function(){t.setState({scrolling:!1}),r&&r()}},d=['0px',''.concat(-1*i,'px')],p=[''.concat(-1*i,'px'),'0px'],u=this.props.position;this.isWideSticky()||'right'===u?(s.translateY=o?p:d,!n&&(l.translateY=o?d:p)):'below'===u&&(s.translateX=o?p:d,!n&&(l.translateX=o?d:p)),$p.timeline({loop:!1}).add(s).add(l)}}},{key:'isWideSticky',value:function(){var e=this.props,t=e.sticky,i=e.stickyPosition;return t&&[Ia.STICKY.POSITION.UPPER_NATIVE,Ia.STICKY.POSITION.UPPER_LARGE,Ia.STICKY.POSITION.UPPER_SMALL,Ia.STICKY.POSITION.BOTTOM_NATIVE,Ia.STICKY.POSITION.BOTTOM_LARGE,Ia.STICKY.POSITION.BOTTOM_SMALL].includes(i)}},{key:'render',value:function(){var e=this,t=this.props,i=t.position,n=t.adPlaying,o=t.content,a=this.state,r=a.scrolling,s=a.items,l='exp-ui__gallery exp-ui__gallery_'.concat(this.isWideSticky()?'right':i),d='exp-ui__gallery__items-wrapper';return n&&(l+=' exp-ui__gallery_disabled'),r&&(d+=' exp-ui__scrolling'),h('div',{class:l,ref:function(t){return e.ref=t}},h('div',{class:d,ref:function(t){return e.wrapperRef=t}},s.map(function(t,i){return h(Uu,Nl()({},t,{key:t.key,onClick:function(t){return e._onItemClick(li(li({},t),{},{index:i}))},next:o.next.id===t.content.id,active:o.current.id===t.content.id}))})),h(wu,{parent:this.ref,onNext:function(){return e._next()},onPrev:function(){return e._prev()},scrolling:r,position:i,isWideSticky:this.isWideSticky()}))}}]),t}(d),Yu=i(84),Fu=i.n(Yu),Wu=f.VIDEO_TEASERS.SPLASH_PREROLL,Hu=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),Fu.a.use(),n.state={duration:0,currentTime:0},n}En()(t,e);var i=_i(t);return gn()(t,[{key:'componentDidMount',value:function(){this._listenToVideoTagEvents()}},{key:'componentWillReceiveProps',value:function(e){this.props.content.index!==e.content.index&&this.setState({currentTime:0})}},{key:'getCurrentPosition',value:function(){var e=this.state,t=e.duration,i=e.currentTime;return 100*(i/t)}},{key:'contentPlaying',value:function(e){var t=e.duration,i=e.currentTime;if(i){var n=this.props,o=n.videoTeasers,a=n.transition,r={currentTime:i,duration:t};o.enabled&&(r.duration=o.duration,a.enabled&&(r.duration-=Wu)),r.currentTime=nn(i,r.duration),this.setState(r)}}},{key:'_barClick',value:function(e){var t=this.props.onClick;t&&t(e)}},{key:'_listenToVideoTagEvents',value:function(){var e=this,t=this.props,i=t.videoEl,n=t.enabled;i.addEventListener('timeupdate',function(){n&&e.contentPlaying(i)})}},{key:'_createBar',value:function(e){var t=this,i=e.index,n=e.contentIndex,o='exp-ui__progressive-pagination-bar-progress',a;return n>i?a=100:n<i?a=0:n===i&&(a=this.getCurrentPosition(),o+=' exp-ui__pagination-bar_animated'),h('div',{class:'exp-ui__progressive-pagination-bar',key:'progressive-bar-'.concat(i),onClick:function(){return t._barClick(i)}},h('div',{class:o,style:{width:''.concat(a||0,'%')}}),h('div',{class:'exp-ui__progressive-pagination-bar-background'}))}},{key:'render',value:function(){var e=this,t=this.props,i=t.content,n=t.hovered,o=Hn()(Array(i.length)),a='exp-ui__progressive-pagination';return n&&(a+=' exp-ui__state__hovered'),h('div',{class:a},o.map(function(t,n){return e._createBar({index:n,contentIndex:i.index})}))}}]),t}(d),qu=i(30),Ku=i(31),Gu=i(43),ju=i(85),Qu=i.n(ju),Xu=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),Qu.a.use(),n}En()(t,e);var i=mi(t);return gn()(t,[{key:'componentWillMount',value:function(){var e=this.props.videoEl;this._getPlayerWidth(e)}},{key:'componentDidMount',value:function(){var e=this,t=this.props.videoEl;this._listenToVideoTagEvents(t),setTimeout(function(){return e._getPlayerWidth(t)}),this.ref&&setTimeout(function(){return e._adjustPlayer()},500)}},{key:'onControlClick',value:function(e){this.props.onControlsClick&&this.props.onControlsClick({action:e})}},{key:'onPrevClick',value:function(){this.onControlClick(f.EVENTS.PREVIOUS)}},{key:'onPlayClick',value:function(){this.onControlClick(f.EVENTS.PLAY)}},{key:'onPauseClick',value:function(){this.onControlClick(f.EVENTS.PAUSE)}},{key:'onNextClick',value:function(){this.onControlClick(f.EVENTS.NEXT)}},{key:'onSoundClick',value:function(){this.props.onSoundClick&&this.props.onSoundClick()}},{key:'contentPlaying',value:function(e){var t=e.currentTime,i=e.duration;this.setState({currentTime:t,duration:i})}},{key:'_getBreakPoint',value:function(e){var t='',i={sm:[0,350],md:[351,450],lg:[451,520],xl:[521,1e3]};return Object.keys(i).forEach(function(n){i[n][0]<=e&&e<=i[n][1]&&(t=n)}),t}},{key:'_adjustPlayer',value:function(){var e=this.props.config.infoPanel;if('top'===e.position&&this.ref){var t=this.ref.getBoundingClientRect(),i=t.height;this.props.isMobile?wp.a.insertStyleSheet(document.head,'\n        .pbs {\n          padding-top: unset;\n          margin-top: calc('.concat(i,';\n        }\n      ')):wp.a.insertStyleSheet(document.head,'\n        .pbs {\n          padding-top: calc('.concat(i+10,'px);\n        }\n        .pbs[data-pbs-pagination="true"][data-pbs-device="mobile"]:not([data-pbs-position="sticky"])\n        .exp-ui__pagination {\n          top: 0;\n        }\n        ').concat(this._resetBorderRadius('top'),'\n      '))}else if('left'===e.position)wp.a.insertStyleSheet(document.head,'\n        .exp-ui__progressive-pagination {\n          transition: left .4s ease-in-out;\n        }\n        .exp-ui__progressive-pagination.exp-ui__state__hovered {\n          left: 40%;\n        }\n      ');else if('outer-left'===e.position&&this.ref){var n=this.ref.getBoundingClientRect(),o=n.width,a=((null===(r=za.playerSize)||void 0===r||null===(s=r.margin)||void 0===s?void 0:s.left)||0)+o,r,s;wp.a.insertStyleSheet(document.head,'\n        .pbs__player {\n          margin-left: '.concat(a,'px;\n        }\n        .exp-ui__info-panel.exp-ui_outer-left {\n          width: ').concat(this._getWidth(),'\n        }\n        ').concat(this._resetBorderRadius('left'),'\n      '))}}},{key:'_resetBorderRadius',value:function(e){var t=[];return'top'===e?t=['top-left','top-right']:'left'==e&&(t=['top-left','bottom-left']),'\n    .pbs:not([data-pbs-position="sticky"]) .pbs__player,\n    .pbs:not([data-pbs-position="sticky"]) .pb-stream,\n    .pbs:not([data-pbs-position="sticky"]) .exp-ui,\n    .pbs:not([data-pbs-position="sticky"]) .exp-ui__wrapper {\n      border-'.concat(t[0],'-radius: 0;\n      border-').concat(t[1],'-radius: 0;\n    }\n    .pbs:not([data-pbs-position="sticky"]) .exp-ui__transition-wrapper {\n      border-').concat(t[0],'-radius: 0;\n      border-').concat(t[1],'-radius: 0;\n    }\n    .pbs:not([data-pbs-position="sticky"]) .pb-stream .avp-p-wrapper div[id^="content_"] {\n      border-').concat(t[0],'-radius: 0;\n      border-').concat(t[1],'-radius: 0;\n    }')}},{key:'_getPlayerWidth',value:function(e){var t=e.getBoundingClientRect(),i=t.width;if(!i){var n=this._getRootElement(e).getBoundingClientRect();i=n.width}this.setState({breakPoint:this._getBreakPoint(i),playerWidth:i})}},{key:'_getRootElement',value:function(e){for(var t=e;t&&'true'!==t.dataset.pbsRoot;)t=t.parentNode;return t}},{key:'_getBackgroundColor',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,i=Object(Gu.hexToRgb)(e);return'rgba('.concat(i.r,', ').concat(i.g,', ').concat(i.b,', ').concat(t,')')}},{key:'_getWidth',value:function(){var e=this.props.config.infoPanel.position,t=this.state.playerWidth;return'left'===e?''.concat(.35*t,'px'):'outer-left'===e?''.concat(.45*t,'px'):'100%'}},{key:'_getDate',value:function(e){var t,i;return(null===e||void 0===e?void 0:e.createDate)||(null===e||void 0===e?void 0:e.pubDate)||(null===e||void 0===e||null===(t=e.videoSpecMeta)||void 0===t?void 0:t.createDate)||(null===e||void 0===e||null===(i=e.videoSpecMeta)||void 0===i?void 0:i.pubDate)}},{key:'_getMetaData',value:function(e){var t=(null===e||void 0===e?void 0:e.author)||(null===e||void 0===e||null===(n=e.videoSpecMeta)||void 0===n?void 0:n.author),i=this._getDate(e),n;return t||tu(i)}},{key:'_getTitleMaxLines',value:function(){var e=this.props.config.infoPanel.position;return'left'===e?Object(Ku.isMobile)()?6:8:'outer-left'===e?Object(Ku.isMobile)()?2:3:2}},{key:'_listenToVideoTagEvents',value:function(e){var t=this;e.addEventListener('timeupdate',function(){t.contentPlaying(e)})}},{key:'_isAbleToShow',value:function(){var e=this.props,t=e.config.infoPanel,i=e.sticky,n=e.stickyPosition,o=e.adPlaying;return!(i&&'inside-element'!==n)&&!(o&&'left'===t.position)}},{key:'repaint',value:function(){if(this.ref){var e=this.ref.style.display;this.ref.style.display='table',this.ref.offsetHeight,this.ref.style.display=e}}},{key:'render',value:function(){var e=this,t=this.props,i=t.config,n=i.infoPanel,o=i.logo,a=i.controls,r=i.sound,s=i.timers,l=i.title,d=t.content,p=t.hovered,u=t.paused,_=t.muted,c=t.adPlaying,g=t.playerProvider,y=this.state,m=y.currentTime,f=y.duration,v=y.breakPoint,b='exp-ui__info-panel exp-ui_'.concat(n.position,' exp-ui__info-panel-').concat(v),x=this._getWidth(),k={color:l.textColor,width:x,minWidth:x},E={},S;return n.blur&&'left'===n.position?(b+=' exp-ui_blur',E.backgroundColor=this._getBackgroundColor(n.color,.5)):E.backgroundColor=this._getBackgroundColor(n.color),p&&(b+=' exp-ui__state__hovered',Object(qu.isSafari)()&&setTimeout(function(){return e.repaint()},0)),this._isAbleToShow()&&h('div',{class:b,style:E,ref:function(t){return e.ref=t}},n.logo&&h(Ap,Nl()({},o,{position:'left'})),h('div',{class:'exp-ui__info-panel__title',style:k,ref:function(t){return e.titleRef=t}},h('p',null,null===d||void 0===d||null===(S=d.current)||void 0===S?void 0:S.title)),h('div',{class:'exp-ui__info-panel__meta',style:k},this._getMetaData(null===d||void 0===d?void 0:d.current)),n.position.includes('left')&&h('div',{class:'exp-ui__info-panel__controls'},h('div',{class:'exp-ui__info-panel__controls_left'},!c&&h(Zd,{onClick:function(){return e.onPrevClick()},show:!0,config:yi(yi({},a.prev),{},{size:24})}),u?h(Xd,{onClick:function(){return e.onPlayClick()},config:yi(yi({},a.play),{},{size:24,enabled:!0})}):h(Qd,{onClick:function(){return e.onPauseClick()},show:!0,config:yi(yi({},a.pause),{},{size:24})}),!c&&h(jd,{onClick:function(){return e.onNextClick()},show:!0,config:yi(yi({},a.next),{},{size:24})})),h('div',{class:'exp-ui__info-panel__controls_center'},Object(Ku.isDesktop)()&&h(Md,{currentTime:m,duration:f,show:!c,inline:!1,config:s})),h('div',{class:'exp-ui__info-panel__controls_right'},h(Hd,{onClick:function(){return e.onSoundClick()},muted:_,show:!0,config:yi({},r),playerProvider:g}))))}}]),t}(d),Zu=i(86),Ju=i.n(Zu),$u=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),Ju.a.use(),n.state={items:[],hidden:!1},n}En()(t,e);var i=hi(t);return gn()(t,[{key:'componentWillMount',value:function(){var e=this.props.videoEl;this._getPlayerWidth(e)}},{key:'componentDidMount',value:function(){this._adjustPlayer()}},{key:'componentWillReceiveProps',value:function(e){var t=this;this.props.content.index!==e.content.index&&(this.setState({hidden:!0}),setTimeout(function(){return t.setState({hidden:!1,items:t._getItems(e)})},100))}},{key:'_adjustPlayer',value:function(){if('below'===this.props.position){var e=this.props,t=e.infoPanelConfig,i=e.titleConfig,n=za.playerSize||{},o=n.margin,a=void 0===o?{}:o,r=a.bottom?'var(--pbs-margin-bottom)':'0px',s=this._getHeight(),l=s.paddingBottom,d=s.thisHeight,p=0;!t.enabled&&i.enabled&&(p+=75),wp.a.insertStyleSheet(document.head,'\n        .pbs {\n          padding-bottom: '.concat(l,'px;\n          overflow: hidden;\n        }\n\n        .exp-ui__up-next {\n          bottom: calc(0px - ').concat(d,'px);\n        }\n\n        @media only screen and (max-width: 768px) {\n          .pbs[data-pbs-device="mobile"] .exp-ui__up-next {\n            bottom: calc(0px - ').concat(d+p,'px - ').concat(r,');\n          }\n        }\n      '))}else'right'===this.props.position&&wp.a.insertStyleSheet(document.head,'\n        .pbs:not([data-pbs-position="sticky"]) .pbs__player { width: 80%; }\n        .pbs { text-align: initial; }\n      ')}},{key:'_getHeight',value:function(){var e=document.getElementById(za.playerId),t=e.querySelector('.pb-stream'),i=this.ref.getBoundingClientRect(),n=i.height,o=t.getBoundingClientRect(),a=o.height,r=za.playerSize||{},s=r.height,l={thisHeight:n},d;if(s)s=parseInt(s,10);else{var p=e.parentNode,u=getComputedStyle(p),_=parseInt(u.getPropertyValue('border-top-width'),10)||0,c=parseInt(u.getPropertyValue('border-bottom-width'),10)||0,g=p.getBoundingClientRect();d=g.height,d=d-_-c}return s?l.paddingBottom=s<n?s-a:n:d&&(l.paddingBottom=d<n+a&&d!==a?d-a:n,d!==a&&(e.parentNode.style.overflow='hidden')),l}},{key:'_getPlayerWidth',value:function(e){var t=e.getBoundingClientRect(),i=t.width;if(!i){var n=e.parentNode.getBoundingClientRect();i=n.width}this.setState({breakPoint:this._getBreakPoint(i)})}},{key:'_getBreakPoint',value:function(e){var t='',i={sm:[0,350],md:[351,450],lg:[451,520],xl:[521,1e3]};return Object.keys(i).forEach(function(n){i[n][0]<=e&&e<=i[n][1]&&(t=n)}),t}},{key:'_onItemClick',value:function(e){var t=this.props,i=t.onClick,n=t.content.all,o=n.findIndex(function(t){return t.id===e.id});i&&-1<o&&i(o)}},{key:'_getItems',value:function(e){var t=e.content,i=t.index,n=t.all;return-1===i?Hn()(n):[].concat(Hn()(n.slice(i+1,n.length)),Hn()(n.slice(0,i)))}},{key:'renderItem',value:function(e){var t=this;return h('div',{class:'exp-ui__up-next__item',key:e.id,onClick:function(){return t._onItemClick(e)}},h('div',{class:'exp-ui__up-next__item__poster'},h(Nu,{content:e})),h('div',{class:'exp-ui__up-next__item__title'},e.title))}},{key:'render',value:function(){var e=this,t=this.props,i=t.content.all,n=t.sticky,o=this.state,a=o.hidden,r=o.breakPoint,s=this.state.items,l='exp-ui__up-next exp-ui__up-next_'.concat(r);return 0===s.length&&(s=Hn()(i.slice(1,i.length))),a&&(l+=' exp-ui__faded'),!1===n&&h('div',{class:l,ref:function(t){return e.ref=t}},h('div',{class:'exp-ui__up-next__title'},'Up Next:'),h('div',{class:'exp-ui__up-next__items'},s.map(function(t){return e.renderItem(t)})))}}]),t}(d),e_=i(87),t_=i.n(e_);t_.a.use();var i_=function(e){var t=e.onClick,i=e.enabled;return i&&h('div',{class:'exp-ui__next-video-button',onClick:t},h('div',{class:'exp-ui__next-video-button-container'},h('span',{class:'exp-ui__next-video-button-icon'})))},n_=i(88),o_=i.n(n_),a_=f.VIDEO_TEASERS.SPLASH_PREROLL,r_=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),o_.a.use(),n.state={},n._skipTimer=new Aa.Timer,setTimeout(function(){n.setState({animate:'in'})},1e3),n._start(),n._listenToPlayerEvents(),n}En()(t,e);var i=bi(t);return gn()(t,[{key:'componentWillMount',value:function(){var e=this,t=this.props.videoEl;setTimeout(function(){e._getPlayerWidth(t)},500)}},{key:'_contentChange',value:function(){var e=this,t=this.props.videoTeasers;this.setState({animate:'out-force'}),setTimeout(function(){e.setState({animate:'in'})},t.enabled?1500:1e3),this._start()}},{key:'_listenToPlayerEvents',value:function(){var e=this.props.playerProvider;e&&(Br.onchange(this._contentChange.bind(this)),e.onContentPlaying(this._resume.bind(this)),e.onContentPaused(this._pause.bind(this)),e.onAdClosed(this._adFinished.bind(this)),e.onAdSkipped(this._adFinished.bind(this)),e.onAdStart(this._adStarted.bind(this)),e.onAdCompleted(this._adFinished.bind(this)))}},{key:'_adStarted',value:function(){this._adStartTS=new Date().getTime(),this._pause()}},{key:'_adFinished',value:function(){this._adDuration=new Date().getTime()-this._adStartTS,this._resume()}},{key:'_start',value:function(){var e=this;this._stop();var t=this._getDuration(),i=this._adDuration>t?this._adDuration+1e3:t;this._skipTimer.timeout(function(){setTimeout(function(){return e.setState({animate:'out-force'})},1e3)},i),this._adDuration=0}},{key:'_getDuration',value:function(){var e=this.props,t=e.videoEl,i=e.videoTeasers;return i.duration?1e3*(i.duration-a_):1e3*(t.duration-t.currentTime-1)}},{key:'_pause',value:function(){this._skipTimer.pause()}},{key:'_resume',value:function(){this._skipTimer.resume()}},{key:'_stop',value:function(){this._skipTimer.stop()}},{key:'_getPlayerWidth',value:function(e){var t=this,i=e.getBoundingClientRect(),n=i.width;n||setTimeout(function(){return t._getPlayerWidth(e)},500),this.setState({playerWidth:n})}},{key:'render',value:function(){var e=this.props.content,t=this.state,i=t.animate,n=t.playerWidth,o={width:.8*n},a;return h('div',{class:'exp-ui__sticky__full-width__title-wrapper',style:o},h('div',{className:'exp-ui__sticky__full-width__title-overlay exp-ui__'.concat(i)},h('div',{class:'exp-ui__sticky__full-width__title',style:o},h('p',null,null===e||void 0===e||null===(a=e.current)||void 0===a?void 0:a.title))))}}]),t}(d),s_=i(54),l_=i.n(s_),d_=function(e){var t=e.isWide,i=e.onClick,n=e.size,o=void 0===n?12:n,a=e.strokeWidth,r=void 0===a?1.8:a;return h('div',{class:'exp-ui__sticky__close-btn',onClick:function(){return i()}},h('svg',{width:o,height:o,viewBox:'0 0 10 10',fill:t?'black':'#aaa',xmlns:'http://www.w3.org/2000/svg'},h('path',{d:'M8.87883 8.87871L1.32727 1.32715M1.32727 8.87871L8.87883 1.32715',stroke:t?'black':'#aaa',"stroke-width":r,"stroke-linecap":'round',"stroke-linejoin":'round'})))},p_=function(e){function t(e){var n;_n()(this,t),n=i.call(this,e),l_.a.use();var o=n.props.config;if(n._animation={initialStyles:null,styles:null,shift:150,direction:null},o.isWideSticky&&(n._wideStickyStyles=fn.utils.elements.insertStyleSheet(document.head,'\n      .pbs[data-pbs-position="sticky"][data-pbs-device="mobile"] .pbs__player,\n      .pbs[data-pbs-position="sticky"][data-pbs-device="mobile"] .pb-stream,\n      .pbs[data-pbs-position="sticky"][data-pbs-device="mobile"] .pb-stream .avp-p-wrapper div[id^="content_"],\n      .pbs[data-pbs-position="sticky"][data-pbs-device="mobile"] .exp-ui__transition-wrapper {\n        border-radius: 0 !important;\n      }')),o.isAnimated&&n._initAnimation(),e.isMainAsSticky&&e.playerContainer){var a=e.playerContainer.getBoundingClientRect(),r=a.x,s=''.concat(o.widthSize-2*r).concat('pixels'===o.widthUnit?'px':'%');n._isMainAsStickyStyles=fn.utils.elements.insertStyleSheet(document.head,'\n      .pbs__player { width: '.concat(s,'; }\n      .pbs[data-pbs-position="sticky"][data-pbs-device="mobile"] .pbs__player { left: ').concat(r,'px !important; }\n      '))}else n._isMainAsStickyStyles=fn.utils.elements.insertStyleSheet(document.head,'\n      .pbs[data-pbs-device="mobile"][data-pbs-video-title="true"][data-pbs-position="sticky"] .exco_sticky-placement {\n        margin-bottom: calc(var(--pbs-margin-bottom) + 75px);\n      }');return n}En()(t,e);var i=ki(t);return gn()(t,[{key:'componentDidMount',value:function(){var e=this,t=this.props.config;t.isAnimated&&setTimeout(function(){return e._animateIn()})}},{key:'componentWillUnmount',value:function(){var e=this,t=this.props.config;t.isAnimated&&this._animateOut(),setTimeout(function(){return e._cleanUpStyles()},500)}},{key:'_cleanUpStyles',value:function(){l_.a.unuse(),this._removeStyles(this._animation.styles),this._removeStyles(this._wideStickyStyles),this._removeStyles(this._isMainAsStickyStyles)}},{key:'_initAnimation',value:function(){var e=this.props.config;e.isTop?this._animation.direction=za.isStickyInverted?1:-1:e.isBottom&&(this._animation.direction=za.isStickyInverted?-1:1),this._removeStyles(this._animation.initialStyles),this._animation.initialStyles=fn.utils.elements.insertStyleSheet(document.head,'\n    .pbs[data-pbs-position="sticky"][data-pbs-device="mobile"] .pbs__player {\n      transform: translateY('.concat(this._animation.shift*this._animation.direction,'%);\n    }'))}},{key:'_animateIn',value:function(){this._removeStyles(this._animation.styles),this._animation.styles=fn.utils.elements.insertStyleSheet(document.head,'\n    .pbs[data-pbs-position="sticky"][data-pbs-device="mobile"] .pbs__player {\n      transition: transform 0.5s cubic-bezier(0, 0, 0, 1), top 0.2s cubic-bezier(0, 0, 0, 1);\n      transform: translateY(0) !important;\n    }')}},{key:'_animateOut',value:function(){this._removeStyles(this._animation.styles),this._animation.styles=fn.utils.elements.insertStyleSheet(document.head,'\n    .pbs[data-pbs-position="sticky"][data-pbs-device="mobile"] .pbs__player {\n      transition: transform 0.1s cubic-bezier(0, 0, 0, 1);\n      transform: translateY('.concat(this._animation.shift*this._animation.direction,'%) !important;\n    }'))}},{key:'_removeStyles',value:function(e){e&&e.parentNode.removeChild(e)}},{key:'_isCloseBtnEnabled',value:function(){var e=this.props,t=e.config,i=e.isSticky;return i&&t.enableCloseButton&&'inside-element'!==t.position.raw}},{key:'_isUpperOrBottom',value:function(){var e=this.props.config;return e.position.raw.includes('upper')||e.position.raw.includes('bottom')}},{key:'renderFullWidth',value:function(){var e=this.props,t=e.nextVideoConfig,i=e.onNextVideoClick,n=e.onCloseBtnClick,o=e.onCtaClick,a=e.ctaConfig,r=e.logoConfig,s=e.content,l=e.config,d=e.videoEl,p=e.playerProvider,u=e.titleConfig,_=e.adPlaying,c=e.forceShowCta,g=e.videoTeasers,y=e.isTransition,m=l.position.raw.includes('native'),f=!m&&this._isUpperOrBottom()&&!a.enabled;return h('div',{class:'exp-ui__sticky exp-ui__sticky__full-width exp-ui__sticky-position__'.concat(l.position.raw)},this._isCloseBtnEnabled()&&h(d_,{onClick:n,fill:m?'black':null,isWide:!m,size:m?16:7.55,strokeWidth:m?1.2:null}),!_&&f&&h(i_,Nl()({onClick:i},t)),m&&h(Ap,Nl()({},r,{position:'center'})),!y&&h(Yp,Nl()({},a,{content:s,onClick:o,sticky:!0,ignoreAnimation:!0,forceShow:c,squareBy:m?'height':null,biPositionalSticky:l.isBiPositional})),m&&!_&&u.enabled&&h(r_,{content:s,videoTeasers:g,videoEl:d,playerProvider:p}))}},{key:'renderRegular',value:function(){var e=this.props,t=e.onCloseBtnClick,i=e.onCtaClick,n=e.ctaConfig,o=e.content,a=e.config,r=e.forceShowCta,s=e.isTransition;return h('div',{class:'exp-ui__sticky exp-ui__sticky-position__'.concat(a.position.raw)},this._isCloseBtnEnabled()&&h(d_,{onClick:t}),!s&&h(Yp,Nl()({},n,{content:o,onClick:i,ignoreAnimation:!0,sticky:!0,forceShow:r})))}},{key:'render',value:function(){var e=this.props,t=e.config,i=e.isSticky,n=e.isMainAsSticky;return(i||n)&&(t.isWideSticky?this.renderFullWidth():this.renderRegular())}}]),t}(d),u_=i(89),__=i.n(u_),c_=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),__.a.use(),n}En()(t,e);var i=Si(t);return gn()(t,[{key:'componentDidMount',value:function(){this._dynamicStyles=Aa.elements.insertStyleSheet(document.head,'.exp-ui__wrapper { z-index: unset; }\n      .exp-ui__gallery { z-index: 1; }\n      .exp-ui__metadata-wrapper { display: none; }\n      .exp-ui__meta-title-wrapper {\n        bottom: unset;\n        left: 6px;\n      }'),document.body.style.top='-'.concat(window.scrollY,'px'),document.body.style.left=0,document.body.style.right=0,document.body.style.position='fixed',this.ref.classList.add('exp-ui__state__shown')}},{key:'componentWillUnmount',value:function(){this._dynamicStyles&&this._dynamicStyles.parentNode.removeChild(this._dynamicStyles);var e=document.body.style.top;document.body.style.removeProperty('top'),document.body.style.removeProperty('left'),document.body.style.removeProperty('right'),document.body.style.removeProperty('position'),window.scrollTo(0,-1*parseInt(e||'0',10)),this.ref.classList.remove('exp-ui__state__shown')}},{key:'render',value:function(){var e=this,t=this.props,i=t.onClose,n=t.isFullscreen;return h('div',{class:'exp-ui__backdrop',ref:function(t){return e.ref=t},onClick:function(){return i&&i()}},!0!==n&&h('div',{class:'exp-ui__backdrop__close-btn',onClick:function(){return i&&i()}},h('svg',{width:'26',height:'26',viewBox:'0 0 10 10',fill:'transparent',xmlns:'http://www.w3.org/2000/svg'},h('path',{d:'M8.87883 8.87871L1.32727 1.32715M1.32727 8.87871L8.87883 1.32715',stroke:'black',"stroke-width":'1.8',"stroke-linecap":'round',"stroke-linejoin":'round'}))))}}]),t}(d),g_=i(46),y_=function(){function e(t){var i=t.playerProvider,n=t.playerContainerId,o=t.config;_n()(this,e),this._config=o,this._player=i,this._placeholder=new g_.a,this._container=document.querySelector('[id*="'.concat(n,'"]')),this._placeholder.create(this._container,'transparent'),this._placeholder.hide()}return gn()(e,[{key:'setFullScreen',value:function(e){var t=this;Object(qu.isSafari)()&&(e?setTimeout(function(){return t._setDimensions({width:'100%',left:0,top:0})},500):this._setDimensions(this._dimensions))}},{key:'open',value:function(){var e=Fn.isDesktop(),t=Aa.environment.getViewPortWidth(),i=Aa.environment.getViewPortHeight(),n=t*(e?.6:1);this._dimensions={width:''.concat(n,'px'),left:''.concat(this._getLeftWidth(t,n),'px'),top:''.concat((i-n*(9/16))/2,'px')},this._setDimensions(this._dimensions),this._placeholder.show()}},{key:'_setDimensions',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Aa.elements.setStyles(this._container,Pi({position:'fixed',"z-index":9999999999},e))}},{key:'_getLeftWidth',value:function(e,t){var i,n;return e===t?0:null!==(i=this._config)&&void 0!==i&&null!==(n=i.videoGallery)&&void 0!==n&&n.enabled?(e-(t+.2*t))/2:(e-t)/2}},{key:'close',value:function(){this._container.removeAttribute('style'),this._placeholder.hide()}}]),e}(),m_=function(e,t){e.addEventListener('fullscreenchange',t),e.addEventListener('webkitendfullscreen',t),e.addEventListener('webkitfullscreenchange',t)},f_={listenToFullScreenChange:function(e,t){var i=function(){var i=document.webkitFullscreenElement||document.fullscreenElement||e.webkitDisplayingFullscreen;!i&&t&&t()};m_(e,function(){return i()})},exitFS:function(){var e=document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen;e&&e.apply(document)},enterFS:function(e){var t=e.requestFullScreen||e.webkitRequestFullscreen||e.webkitEnterFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen;t&&t.apply(e)}},h_=i(90),v_=i.n(h_),b_=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.size,i=void 0===t?24:t,n=e.color,o=void 0===n?'#ffffff':n;return h('svg',{xmlns:'http://www.w3.org/2000/svg',viewBox:'0 0 24 24',width:i,height:i,fill:o},h('path',{d:'M0 0h24v24H0V0z',fill:'none'}),h('path',{d:'M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z'}))},x_=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.size,i=void 0===t?24:t,n=e.color,o=void 0===n?'#ffffff':n;return h('svg',{xmlns:'http://www.w3.org/2000/svg',bviewBox:'0 0 24 24',width:i,height:i,fill:o},h('path',{d:'M0 0h24v24H0V0z',fill:'none'}),h('path',{d:'M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z'}))},k_=function(e){function t(e){var n;_n()(this,t),n=i.call(this,e),v_.a.use(),n.state={isFS:!1},n.toggleFullScreen=n.toggleFullScreen.bind(Bl()(n));var o=e.playerProvider,a=o.container,r=o.videoTag;return Fn.isMobileOrTablet()?f_.listenToFullScreenChange(r,n.exitFS.bind(Bl()(n))):f_.listenToFullScreenChange(a.parentNode,n.exitFS.bind(Bl()(n))),n}En()(t,e);var i=Ii(t);return gn()(t,[{key:'onToggle',value:function(e){var t=this.props.onToggle;t&&t(e)}},{key:'enterFS',value:function(e){f_.enterFS(e),this.setState({isFS:!0}),this.onToggle(!0)}},{key:'exitFS',value:function(){f_.exitFS(),this.setState({isFS:!1}),this.onToggle(!1)}},{key:'toggleFullScreen',value:function(){var e=this.state.isFS;if(e)this.exitFS();else{var t=this.props.playerProvider,i=t.container,n=t.videoTag;Fn.isMobileOrTablet()?this.enterFS(n):this.enterFS(i.parentNode)}}},{key:'render',value:function(){var e=this.state.isFS,t=this.props.show,i='exp-ui__fullscreen-button';return t&&(i+=' exp-ui__state__shown'),h('div',{class:i,onClick:this.toggleFullScreen},e?b_():x_())}}]),t}(d),E_=i(55),S_=i.n(E_),T_=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),S_.a.use(),n.onFullscreenToggle=n.onFullscreenToggle.bind(Bl()(n)),n}En()(t,e);var i=Di(t);return gn()(t,[{key:'componentWillUnmount',value:function(){S_.a.unuse()}},{key:'onControlClick',value:function(e){this.props.onControlsClick&&this.props.onControlsClick({action:e})}},{key:'onPlayClick',value:function(){this.onControlClick(f.EVENTS.PLAY)}},{key:'onPauseClick',value:function(){this.onControlClick(f.EVENTS.PAUSE)}},{key:'onFullscreenToggle',value:function(e){var t=this.props.onFullscreenToggle;t&&t(e)}},{key:'render',value:function(){var e=this,t=this.props,i=t.paused,n=t.hovered,o=t.adPlaying,a=t.playerProvider,r=t.config.controls;return h('div',{class:'exp-ui__popup-ui'},i?h(Xd,{show:n,onClick:function(){return e.onPlayClick()},config:Oi(Oi({},r.play),{},{size:24,enabled:!0})}):h(Qd,{show:n,onClick:function(){return e.onPauseClick()},config:Oi(Oi({},r.pause),{},{size:24})}),!o&&h(k_,{show:n,playerProvider:a,onToggle:this.onFullscreenToggle}))}}]),t}(d),C_=i(91),P_=i.n(C_),I_=function(e){function t(){return _n()(this,t),i.apply(this,arguments)}En()(t,e);var i=Mi(t);return gn()(t,[{key:'componentDidMount',value:function(){this._fadeIn()}},{key:'componentWillUnmount',value:function(){this._fadeOut()}},{key:'_fadeIn',value:function(){var e=this;this.ref&&setTimeout(function(){return e.ref.classList.add('exp-ui__textual-feed__item_shown')},200)}},{key:'_fadeOut',value:function(){this.ref&&this.ref.classList.remove('exp-ui__textual-feed__item_shown')}}]),t}(d),A_=function(e){function t(){return _n()(this,t),i.apply(this,arguments)}En()(t,e);var i=Mi(t);return gn()(t,[{key:'render',value:function(){var e=this,t=this.props,i=t.item,n=t.onClick;return h('li',{class:'exp-ui__textual-feed__item',ref:function(t){return e.ref=t}},h('a',{class:'exp-ui__textual-feed__item-link',href:i.link,target:'_blank',rel:'noreferrer',onClick:function(t){return n&&n(t,i.link)}},i.title))}}]),t}(I_),w_=function(e){function t(){return _n()(this,t),i.apply(this,arguments)}En()(t,e);var i=Mi(t);return gn()(t,[{key:'_formatDate',value:function(e){var t=new Date(e.pubDate||e.date);return t.toLocaleDateString('en-US',{year:'numeric',month:'long',day:'numeric',hour:'numeric',hourCycle:'h11',minute:'2-digit',timeZoneName:'shortGeneric'})}},{key:'render',value:function(){var e=this,t=this.props,i=t.item,n=t.color,o=t.onClick,a=null===i||void 0===i||null===(r=i.enclosure)||void 0===r?void 0:r.url,r;return h('li',{class:'exp-ui__textual-feed__item',style:{borderColor:n},ref:function(t){return e.ref=t}},h('a',{class:'exp-ui__textual-feed__item-link',href:i.link,target:'_blank',rel:'noreferrer',onClick:function(t){return o&&o(t,i.link)}},h('img',{class:'exp-ui__textual-feed__item-image',src:a,alt:i.title}),h('div',{class:'exp-ui__textual-feed__item-meta'},h('div',{class:'exp-ui__textual-feed__item-title'},i.title),h('div',{class:'exp-ui__textual-feed__item-date'},this._formatDate(i)))))}}]),t}(I_),O_=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),P_.a.use(),n.ref=null,n.state={items:[]},n}En()(t,e);var i=Mi(t);return gn()(t,[{key:'componentWillMount',value:function(){var e=this.props,t=e.items,i=e.layout;'scrolling-stripe'===i?this.setState({items:t}):this._getItems()}},{key:'componentDidMount',value:function(){var e=this.props.layout;this._adjustPlayer(),this._fadeIn(),'scrolling-stripe'===e?this._animate():this._rotate()}},{key:'componentWillUnmount',value:function(){this._dynamicStyles&&this._dynamicStyles.parentNode.removeChild(this._dynamicStyles),this._fadeOut()}},{key:'_rotate',value:function(){var e=this,t=this.props.refreshInterval;setInterval(function(){return e._getItems()},1e3*(t||20))}},{key:'_fadeIn',value:function(){this._shown=!0,this.ref.classList.add('exp-ui__textual-feed__wrapper_shown')}},{key:'_fadeOut',value:function(){this._shown=!1,this.ref.classList.remove('exp-ui__textual-feed__wrapper_shown')}},{key:'_animate',value:function(){var e=this.state.items,t=e.reduce(function(e,t){return e+t.title},''),i=t.length;$p.timeline({loop:!0}).add({targets:'.exp-ui__textual-feed__scrolling-item',translateX:['0%','-100%'],easing:'linear',duration:1e3*(i/10)})}},{key:'_adjustPlayer',value:function(){var e=this.props,t=e.infoPanelConfig,i=e.stickyConfig,n=this._getDimensions(),o=n.height,a=n.width,r=za.playerSize||{},s=r.margin,l=void 0===s?{}:s,d=l.bottom?'var(--pbs-margin-bottom)':'0px',p=this._getMargin(),u=''.concat(d,' + ').concat(o,'px + ').concat(p,' + var(--exco-video-gallery-height)'),_='';if(t.position.includes('outer')){var c=document.querySelector('.exp-ui__info-panel.exp-ui_outer-left');c&&(_='\n        left: -'.concat(c.getBoundingClientRect().width,'px;\n        width: ').concat(a,'px'))}i.isMainAsSticky&&(_='\n      width: calc(100% + var(--exco-remaining-width-sticky))'),this._dynamicStyles=wp.a.insertStyleSheet(document.head,'\n      .pbs {\n        margin-bottom: calc('.concat(u,' + 20px);\n        padding-bottom: 0 !important;\n      }\n      .exp-ui__textual-feed__wrapper {\n        bottom: calc((').concat(u,') * -1);\n        margin-top: ').concat(p,';\n        ').concat(_,'\n      }\n\n      @media only screen and (max-width: 768px) {\n        .pbs[data-pbs-device="mobile"] .exp-ui__textual-feed__wrapper {\n\n        }\n      }\n    '))}},{key:'_getMargin',value:function(){var e=za.playerSize,t=void 0===e?{}:e,i=za.videoGallery;return i&&i.enabled&&'below'===i.position||t.bottom?'0px':'10px'}},{key:'_getDimensions',value:function(){var e=this.ref.getBoundingClientRect(),t=za.title,i=e.width,n=e.height;return Fn.isMobile()&&t&&t.enabled&&(n+=75),{height:n,width:i}}},{key:'_onItemClick',value:function(t,e){t.preventDefault();var i=this.props.onClick;i&&e&&i(e)}},{key:'_getItems',value:function(){var e=this.props,t=e.items,i=e.layout,n=t.sort(function(){return .5-Math.random()}),o;'bullets'===i?o=3:'two-in-row'===i&&(o=2),this.setState({items:n.slice(0,o)})}},{key:'_renderBulletsLayout',value:function(){var e=this.state.items,t=this.props.color;return h('ul',{class:'exp-ui__textual-feed layout-bullets',style:{borderColor:t}},e.map(function(e){return h(A_,{key:e.title,item:e})}))}},{key:'_renderScrollingLayout',value:function(){var t=this,e=this.state.items,i=this.props.color;return h('ul',{class:'exp-ui__textual-feed layout-scrolling-stripe',style:{borderColor:i}},h('div',{class:'exp-ui__textual-feed__scrolling-item'},e.map(function(i){return h(A_,{key:i.title,item:i,onClick:function(n){return t._onItemClick(n,i.link)}})})))}},{key:'_renderImagesLayout',value:function(){var t=this,e=this.state.items,i=this.props.color;return h('ul',{class:'exp-ui__textual-feed layout-two-in-row'},e.map(function(n){return h(w_,{key:n.title,item:n,color:i,onClick:function(i){return t._onItemClick(i,n.link)}})}))}},{key:'_renderLayoutByType',value:function(){switch(this.props.layout){case'bullets':return this._renderBulletsLayout();case'scrolling-stripe':return this._renderScrollingLayout();case'two-in-row':return this._renderImagesLayout();default:return null;}}},{key:'render',value:function(){var e=this,t=this.props.adPlaying,i='exp-ui__textual-feed__wrapper';return t&&(i=''.concat(i,' exp-ui__textual-feed__wrapper_disabled')),this._shown&&(i=''.concat(i,' exp-ui__textual-feed__wrapper_shown')),h('div',{class:i,ref:function(t){return e.ref=t}},this._renderLayoutByType())}}]),t}(d),D_=i(92),L_=i.n(D_),M_=f.VIDEO_TEASERS.SPLASH_PREROLL,R_=function(e){var t=e.size,i=void 0===t?42:t,n=e.color,o=void 0===n?'#ffffff':n;return h('svg',{xmlns:'http://www.w3.org/2000/svg',viewBox:'0 0 24 24',height:''.concat(i,'px'),width:''.concat(i,'px'),fill:o},h('path',{d:'M0 0h24v24H0z',fill:'none'}),h('path',{d:'M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z'}))},N_=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),L_.a.use(),n.props.videoTeasers&&n.props.videoTeasers.tick(function(e){return n._onTick(e)}),n.isMobile=Fn.isMobile(),n}En()(t,e);var i=Ni(t);return gn()(t,[{key:'componentWillMount',value:function(){var e=this.props.videoEl;this._getPlayerWidth(e)}},{key:'_onClick',value:function(){var e=this;this.props.videoTeasers&&(this.props.videoTeasers.stop(),this._animate('out',function(){e.setState({shown:!1})}))}},{key:'_onLoad',value:function(){this._animate('in'),this._animateLoader()}},{key:'_onTick',value:function(e){var t=this.props,i=t.timeOffset,n=t.transitionEnabled;this._show(e<i+(n?M_:0))}},{key:'_getPlayerWidth',value:function(e){var t=e.getBoundingClientRect(),i=t.width;if(!i){var n=e.parentNode.getBoundingClientRect();i=n.width}this.setState({breakPoint:this._getBreakPoint(i)})}},{key:'_getBreakPoint',value:function(e){var t='',i={sm:[0,350],md:[351,450],lg:[451,520],xl:[521,1e3]};return Object.keys(i).forEach(function(n){i[n][0]<=e&&e<=i[n][1]&&(t=n)}),t}},{key:'_show',value:function(e){var t=this.state.shown;t!==e&&this.setState({shown:e})}},{key:'_animateLoader',value:function(){var e=this.props.timeOffset,t={targets:this._loaderRef,easing:'linear',width:['0','100%'],duration:1e3*e-1200};$p.timeline({loop:!1}).add(t)}},{key:'_animate',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'in',t=1<arguments.length?arguments[1]:void 0,i={targets:this._ref,easing:'cubicBezier(0, 0, .3, 1)',opacity:'in'===e?[0,1]:[1,0],duration:700,complete:function(){t&&t()}};$p.timeline({loop:!1}).add(i)}},{key:'render',value:function(){var e=this,t=this.props,i=t.content.next,n=t.isSticky,o=t.isWideSticky,a=t.color,r=this.state,s=r.shown,l=r.breakPoint,d='exp-ui__up-next-video';return(n||this.isMobile||'sm'===l||'md'===l)&&(d=''.concat(d,' button-layout')),n&&o&&(d=''.concat(d,' widesticky-layout')),s&&h('div',{class:d,ref:function(t){return e._ref=t}},h('div',{class:'exp-ui__up-next-video__title',onClick:function(){return e._onClick()}},h(R_,null),h('span',null,'Next Video')),h('div',{class:'exp-ui__up-next-video__poster'},h('div',{class:'exp-ui__up-next-video__overlay'}),h('div',{class:'exp-ui__up-next-video__loader',ref:function(t){return e._loaderRef=t},style:{backgroundColor:a}}),h(Nu,{content:i,onLoad:function(){return e._onLoad()}})))}}]),t}(d),U_=i(93),ui=i.n(U_),B_=function(e){function t(e){var n;return _n()(this,t),n=i.call(this,e),ui.a.use(),n.isMobile=Fn.isMobile(),n.state={adPlaying:!1,paused:!0,once:!1,loading:!0,autoplayBlocked:!1,transition:!0,muted:e.playerProvider.muted,transitionTitle:'',transitionPoster:'',hovered:e.hovered,popup:e.popup,isFullscreen:e.isFullscreen,contentStarted:!1,isClickToPlay:e.config.isClickToPlay,isAutoPlay:e.config.isAutoPlay},e.config.premiumPopup.enabled&&n._initPopup(e.playerContainerId),e.config.videoTeasers.enabled&&n._initVideoTeasers(),e.config.infoPanel.enabled&&n._insertBlurStyles(),Ad.detect(function(e){e&&n.setState({autoplayBlocked:!0})}),n.onFullscreenToggle=n.onFullscreenToggle.bind(Bl()(n)),n.onNextVideoClick=n.onNextVideoClick.bind(Bl()(n)),n.onControlsClick=n.onControlsClick.bind(Bl()(n)),n.onBackdropClose=n.onBackdropClose.bind(Bl()(n)),n.onStickyClose=n.onStickyClose.bind(Bl()(n)),n.onSoundClick=n.onSoundClick.bind(Bl()(n)),n.onSkipClick=n.onSkipClick.bind(Bl()(n)),n.onPaginate=n.onPaginate.bind(Bl()(n)),n.onCtaClick=n.onCtaClick.bind(Bl()(n)),n.onSeek=n.onSeek.bind(Bl()(n)),n._hoverTimer=new Aa.Timer,n._contentTimer=new Aa.Timer,n._listenToPlayerEvents(),ku.apply(e.config.borderRadius),n}En()(t,e);var i=zi(t);return gn()(t,[{key:'componentWillReceiveProps',value:function(e){var t={};this.props.hovered!==e.hovered&&(t.hovered=e.hovered),this.props.popup!==e.popup&&(t.popup=e.popup),this.props.isFullscreen!==e.isFullscreen&&(t.isFullscreen=e.isFullscreen),this.props.sticky!==e.sticky&&e.sticky&&(t.hovered=!1),this.setState(t)}},{key:'onFullscreenToggle',value:function(e){this.setState({isFullscreen:e}),this.props.onEvent(f.EVENTS.FULLSCREEN,{isFullscreen:e}),this.popup.setFullScreen(e)}},{key:'onPrevOrNextClicked',value:function(e){var t=Br.get()[e],i={transition:!0,contentStarted:!1};t&&(i.transitionTitle=t.title,i.transitionPoster=t.poster),this.setState(i)}},{key:'onSeek',value:function(e){this.props.onEvent(f.EVENTS.SEEK,{time:e})}},{key:'onControlsClick',value:function(e){var t=e.action,i=e.data;if(this.props.onEvent(t,i),t===f.EVENTS.PLAY){this.setState({playIsPressed:!0})}}},{key:'onSoundClick',value:function(){var e=this.state.muted;e?this.onUnmute():this.onMute()}},{key:'onMute',value:function(){this.props.onEvent(f.EVENTS.MUTE),this.setState({muted:!0})}},{key:'onUnmute',value:function(){this.props.onEvent(f.EVENTS.UNMUTE),this.setState({muted:!1})}},{key:'onSkipClick',value:function(){this.props.onEvent(f.EVENTS.SKIP_AD)}},{key:'onStickyClose',value:function(){this.props.onEvent(f.EVENTS.CLOSE_STICKY)}},{key:'onPaginate',value:function(e){var t=this.props,i=t.config,n=t.onEvent;if(i.transition.enabled){var o=Br.get()[e],a={transition:!0};o&&(a.transitionTitle=o.title,a.transitionPoster=o.poster),this.setState(a),setTimeout(function(){return n(f.EVENTS.PAGINATE,{index:e})},300)}else n(f.EVENTS.PAGINATE,{index:e});this._contentTimer.pause()}},{key:'onCtaClick',value:function(e){var t=this.props.config.premiumPopup;!e||t.enabled&&t.ignoreCTA?this.popUpOpen():e&&this.props.onEvent(f.EVENTS.CTA,{url:e})}},{key:'onBackdropClose',value:function(){this.popUpClose()}},{key:'onNextVideoClick',value:function(){this.props.onEvent(f.EVENTS.NEXT)}},{key:'setTransitionTitleAndPoster',value:function(){var e=this.props,t=e.config,i=e.content,n=i.next.poster,o=i.next.title;if(!o){var a,r;o=null===t||void 0===t||null===(a=t.title)||void 0===a||null===(r=a.title)||void 0===r?void 0:r.content}this.setState({transitionTitle:o,transitionPoster:n})}},{key:'popUpOpen',value:function(){if(this.popup){var e=this.props.config.premiumPopup;this.props.onEvent(f.EVENTS.POPUP_OPEN),this.videoTeasers&&this.videoTeasers.pause(),!1!==e.unmute&&this.onUnmute(),this.popup.open(),this.setState({popup:!0})}}},{key:'popUpClose',value:function(){var e=this;if(this.popup){var t=this.props.config.premiumPopup;this.videoTeasers&&(this.videoTeasers.state.paused?this.videoTeasers.resume():this.videoTeasers.start()),!1!==t.unmute&&this.onMute(),this.popup.close(),this.setState({popup:!1}),setTimeout(function(){return e.props.onEvent(f.EVENTS.POPUP_CLOSE)},100)}}},{key:'adPlaying',value:function(){var e=this.props.playerProvider;this.setState({adPlaying:!0,paused:!1,muted:e.muted})}},{key:'adPaused',value:function(){this.setState({paused:!0})}},{key:'adEnded',value:function(){this.videoTeasers&&this.videoTeasers.adFinished(),this.setState({adPlaying:!1})}},{key:'adStarted',value:function(){this.videoTeasers&&this.videoTeasers.adStarted(),this._contentTimer.pause(),this.setState({adPlaying:!0,paused:!1,once:!0,transition:!1})}},{key:'_listenToPlayerEvents',value:function(){var e=this,t=this.props.playerProvider;if(t&&(Br.onchange(this.contentChange.bind(this)),t.onContentPlaying(this.contentStartPlaying.bind(this)),t.onContentPaused(this.contentPaused.bind(this)),t.onPrevClicked(this.onPrevOrNextClicked.bind(this)),t.onNextClicked(this.onPrevOrNextClicked.bind(this)),t.onSetContentByIndex(this.onPrevOrNextClicked.bind(this)),t.onAdClosed(this.adEnded.bind(this)),t.onAdSkipped(this.adEnded.bind(this)),t.onAdStart(this.adStarted.bind(this)),t.onAdPlaying(this.adPlaying.bind(this)),t.onAdPaused(this.adPaused.bind(this)),t.onAdCompleted(this.adEnded.bind(this))),t.videoTag){var i=Fn.isMobileOrTablet()&&Aa.browser.isSafari();t.videoTag.addEventListener(i?'loadedmetadata':'canplay',function(){e.setState({loading:!1})}),t.videoTag.addEventListener('loadstart',function(){e.setState({loading:!0})})}}},{key:'_initPopup',value:function(e){var t=this.props,i=t.playerProvider,n=t.config.premiumPopup;this.popup=new y_({playerProvider:i,playerContainerId:e,config:n})}},{key:'_initVideoTeasers',value:function(){var e=this,t=this.props,i=t.config,n=t.playerProvider;this.videoTeasers=new Pu(i.videoTeasers,n),this.videoTeasers.before(function(){e.state.popup||e.setState({transition:!0})}),this.videoTeasers.after(function(){e.state.popup||n.next()}),this.videoTeasers.start()}},{key:'contentChange',value:function(){var e=this,t=this.props,i=t.playerProvider,n=t.sticky,o=t.config.infoPanel,a={transition:!0,muted:i.muted};!n&&!this.state.hovered&&o.enabled&&'left'===o.position&&o.autoHideIn&&(a.hovered=!0,setTimeout(function(){return e.setState({hovered:!1})},1e3*o.autoHideIn)),this.setState(a),this.videoTeasers&&!this.state.popup&&this.videoTeasers.start(),this._contentTimer.timeout(function(){e.setState({transition:!0})},1e3*i.videoTag.duration-300)}},{key:'contentStartPlaying',value:function(){var e=this,t=this.props.playerProvider;setTimeout(function(){return e.setState({transition:!1})},1e3),setTimeout(function(){return e.setTransitionTitleAndPoster()},2e3),this.setState({paused:!1,once:!0,loading:!1,muted:t.muted,contentStarted:!0}),this.videoTeasers&&this.videoTeasers.resume(),this._contentTimer.resume()}},{key:'contentPaused',value:function(){var e=this.state.adPlaying;e||(this.setState({paused:!0}),this.videoTeasers&&this.videoTeasers.pause()),this._contentTimer.pause()}},{key:'isLoading',value:function(){var e=this.state,t=e.loading,i=e.adPlaying,n=e.autoplayBlocked,o=e.contentStarted,a=e.playIsPressed,r=e.isAutoPlay,s=e.isClickToPlay;return!i&&!(n&&t)&&(!!(s&&!o&&a)||r&&!o||t)}},{key:'isComponentEnabled',value:function(e){var t=this,i=this.props,n=i.config,o=i.sticky,a=i.isMainAsSticky,r=this.state,s=r.once,l=r.popup,d=r.paused,p=r.adPlaying,u=r.transition,_={loader:function(){return t.isLoading()},poster:function(){return d&&!s},cta:function(){return!p&&!u&&!(o||a)&&!l},logo:function(){return l||!p&&(n.infoPanel.enabled?!n.infoPanel.logo:n.logo.enabled)&&(!(n.sticky.enabled&&n.sticky.position.raw.includes('native'))||!(o||a))},infoPanel:function(){return!l&&n.infoPanel.enabled&&('outer-left'!==n.infoPanel.position||!1===Fn.isMobile())},pagination:function(){return!(o||a)&&!p&&!l&&n.pagination.enabled},controls:function(){return!t.isLoading()&&!l&&(!n.infoPanel.enabled||'top'===n.infoPanel.position||o||a||p&&'left'===n.infoPanel.position)},progressBar:function(){return!t.isLoading()&&!p&&(l||!(o||a)&&!n.infoPanel.enabled)},skipBtn:function(){return!t.isLoading()&&p},soundBtn:function(){return!t.isLoading()&&(l||!n.infoPanel.enabled||'top'===n.infoPanel.position||o||a||p&&'left'===n.infoPanel.position)},titleMeta:function(){return(n.title.enabled||n.metadata.enabled)&&(o||a?!0!==n.sticky.isWideSticky:!n.infoPanel.enabled)},gallery:function(){return n.gallery.enabled},upNextVideos:function(){return Fn.isDesktop()&&n.upNextVideos.enabled},upNextVideo:function(){return!t.isLoading()&&!p&&!l&&n.upNextVideo.enabled},stickyUI:function(){return(o||a)&&n.sticky.enabled},backdrop:function(){return l},popup:function(){return l},textualFeed:function(){return!o&&n.textualFeed.enabled}};return!!_[e]&&_[e]()}},{key:'_insertBlurStyles',value:function(){var e=this.props.config.infoPanel;e.blur&&Aa.elements.insertStyleSheet(document.head,'\n        .exp-ui__info-panel.exp-ui_blur {\n          backdrop-filter: blur('.concat(e.blur||0,'px);\n          -webkit-backdrop-filter: blur(').concat(e.blur||0,'px);\n        }\n        .exp-ui__transition {\n          backdrop-filter: blur(').concat(e.blur||0,'px);\n          -webkit-backdrop-filter: blur(').concat(e.blur||0,'px);\n          background-color: rgba(var(--pbs-color-transition-rgb), .5) !important;\n        }\n      '))}},{key:'renderPagination',value:function(){var e=this.props,t=e.config,i=t.pagination,n=t.videoTeasers,o=t.transition,a=e.content,r=e.playerProvider,s=this.state.hovered;return i.progressive?h(Hu,Nl()({},i,{videoTeasers:n,transition:o,content:a,hovered:s,videoEl:r.videoTag,onClick:this.onPaginate})):h(Lp,Nl()({},i,{size:a.length,activeIndex:a.index,onClick:this.onPaginate,isMobile:this.isMobile}))}},{key:'render',value:function(){var e=this,t=this.props,i=t.sticky,n=t.isMainAsSticky,o=t.playerProvider,a=t.config,r=t.content,s=this.state,l=s.autoplayBlocked,d=s.adPlaying,p=s.paused,u=s.transition,_=s.transitionTitle,c=s.transitionPoster,g=s.muted,y=s.hovered,m=s.popup,f=s.isFullscreen,v='exp-ui__wrapper',b,x,k;return y&&(v+=' exp-ui__state__hovered'),d&&(v+=' exp-ui__state__ad'),m&&(v+=' exp-ui__popup'),f&&(v+=' exp-ui__fullscreen'),h('div',{class:v},this.isComponentEnabled('infoPanel')&&h(Xu,{config:a,hovered:y||p,content:r,muted:g,paused:p,sticky:i||n,stickyPosition:null===a||void 0===a||null===(b=a.sticky)||void 0===b||null===(x=b.position)||void 0===x?void 0:x.raw,adPlaying:d,videoEl:o.videoTag,playerProvider:o,onControlsClick:this.onControlsClick,onSoundClick:this.onSoundClick,isMobile:this.isMobile}),this.isComponentEnabled('pagination')&&this.renderPagination(),this.isComponentEnabled('loader')&&h(rp,null),this.isComponentEnabled('poster')&&h(np,Nl()({},a.poster,{content:null===r||void 0===r?void 0:r.current})),this.isComponentEnabled('logo')&&h(Ap,Nl()({sticky:i||n},a.logo)),this.isComponentEnabled('controls')&&h(ep,{playerProvider:o,onClick:this.onControlsClick,videoEl:o.videoTag,adPlaying:d,paused:p,sticky:i||n,show:y,config:a.controls}),this.isComponentEnabled('skipBtn')&&h(Gd,{onClick:this.onSkipClick,config:a.skipButton}),this.isComponentEnabled('progressBar')&&h(Ud,{inline:!0,onSeek:this.onSeek,videoEl:o.videoTag,show:y,timeConfig:a.timers,config:a.progress,isPopup:m,isFullscreen:f}),this.isComponentEnabled('soundBtn')&&h(Hd,{onClick:this.onSoundClick,muted:g,show:y,config:a.sound,popup:m,playerProvider:o}),this.isComponentEnabled('cta')&&h(Yp,Nl()({},a.cta,{content:r,onClick:this.onCtaClick,sticky:i||n,forceShow:a.premiumPopup.enabled})),this.isComponentEnabled('titleMeta')&&h(cu,{adPlaying:d,show:y||p,config:a,content:r,isSticky:i||n,isPopup:m,onTitleClick:this.onCtaClick,isMobile:this.isMobile}),h(mu,Nl()({},a.transition,{poster:c||(null===r||void 0===r||null===(k=r.current)||void 0===k?void 0:k.poster),title:_,show:u,autoplayBlocked:l})),this.isComponentEnabled('gallery')&&h(zu,Nl()({},a.gallery,{titleConfig:Vi({},a.title),infoPanelConfig:Vi({},a.infoPanel),adPlaying:d,sticky:i||n,content:r,onClick:function(t){return e.onPaginate(t)}})),this.isComponentEnabled('upNextVideos')&&h($u,Nl()({},a.upNextVideos,{titleConfig:Vi({},a.title),infoPanelConfig:Vi({},a.infoPanel),galleryConfig:Vi({},a.gallery),videoEl:o.videoTag,adPlaying:d,sticky:i||n,content:r,onClick:function(t){return e.onPaginate(t)}})),this.isComponentEnabled('upNextVideo')&&h(N_,Nl()({},a.upNextVideo,{content:r,videoTeasers:this.videoTeasers,transitionEnabled:a.transition.enabled,isSticky:i,isWideSticky:a.sticky.isWideSticky,videoEl:o.videoTag,onClick:function(){}})),this.isComponentEnabled('stickyUI')&&h(p_,{config:a.sticky,content:r,videoEl:o.videoTag,playerContainer:o.container,playerProvider:o,isSticky:i,isMainAsSticky:n,adPlaying:d,forceShowCta:a.premiumPopup.enabled,videoTeasers:a.videoTeasers,logoConfig:a.logo,ctaConfig:a.cta,titleConfig:a.title,onCtaClick:this.onCtaClick,nextVideoConfig:a.nextVideo,onCloseBtnClick:this.onStickyClose,onNextVideoClick:this.onNextVideoClick,isTransition:this.state.transition}),this.isComponentEnabled('backdrop')&&h(c_,Nl()({},a.backdrop,{isFullscreen:f,onClose:this.onBackdropClose})),this.isComponentEnabled('popup')&&h(T_,{config:a,paused:p,hovered:y,adPlaying:d,playerProvider:o,onControlsClick:this.onControlsClick,onFullscreenToggle:this.onFullscreenToggle}),this.isComponentEnabled('textualFeed')&&h(O_,Nl()({},a.textualFeed,{adPlaying:d,items:r.textualFeed,stickyConfig:a.sticky,infoPanelConfig:a.infoPanel,onClick:function(t){return e.onCtaClick(t)}})))}}]),t}(d),V_=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_n()(this,e),this._on={},this._config={adapted:Ed.adapt(t.config,t.state),initial:t.config},this._hoverTimer=new Aa.Timer,delete t.config,this.options=Vi({},t),this.state=Vi({sticky:!1,isMainAsSticky:!1,popup:!1,rss:t.rss,content:null},t.state),this.onEvent=this.onEvent.bind(this),this.container=this.createContainer(t.playerProvider),this._listenToEvents(t.playerProvider.container),this._render()}return gn()(e,[{key:'_listenToEvents',value:function(e){var t=this;Fn.isMobileOrTablet()?e.parentNode.addEventListener('touchstart',function(){t._hoverTimer.stop(),setTimeout(function(){return t.setState({hovered:!0})},300),t._hoverTimer.timeout(function(){t.setState({hovered:!1})},3e3)}):(e.parentNode.addEventListener('mouseenter',function(i){return!t._isOverBackdrop(i)&&t.onMouseEnter()}),e.parentNode.addEventListener('mouseleave',function(i){return!t._isOverBackdrop(i)&&t.onMouseLeave()}),e.parentNode.addEventListener('mousemove',function(i){return t._isOverBackdrop(i)?t.onMouseLeave():t.onMouseMove()}))}},{key:'_isOverBackdrop',value:function(e){var t=e.target;return!!(t.className&&t.className.includes)&&t.className.includes('exp-ui__backdrop')}},{key:'onMouseLeave',value:function(){var e=this;this.state.hovered&&(this._hoverTimer.stop(),this._hoverTimer.timeout(function(){e.setState({hovered:!1})},200))}},{key:'onMouseEnter',value:function(){var e=this;this.state.hovered||(this._hoverTimer.stop(),this._hoverTimer.timeout(function(){return e.onMouseLeave()},3e3),this.setState({hovered:!0}))}},{key:'onMouseMove',value:function(){this.state.hovered||this.onMouseEnter()}},{key:'setState',value:function(e){this.state=Vi(Vi({},this.state),e),this._config.adapted=Ed.adapt(this._config.initial,this.state),this._render()}},{key:'addEventListener',value:function(e,t){return this._on[e]=t,this}},{key:'onEvent',value:function(e,t){this._on[e]&&this._on[e](t)}},{key:'createContainer',value:function(e){var t=document.createElement('div');return t.className='exp-ui',e.appendUi(t),t}},{key:'_render',value:function(){O(h(B_,Nl()({},this.state,this.options,{config:this._config.adapted,onEvent:this.onEvent})),this.container)}}]),e}(),z_=fn.utils.ViewabilityObserver,Y_=fn.utils.is,F_=function(){function e(t){var i=t.target,n=t.timeInView,o=t.onViewability;_n()(this,e),this._target=i,this._timeInView=n,this._onViewability=o,this._viewabilityObserver=new z_({threshold:.5}),this._isDispatched=!1,this._isInView=!1}return gn()(e,[{key:'init',value:function(){this._initViewabilityListener()}},{key:'_initViewabilityListener',value:function(){this._viewabilityObserver.observe(this._target,this._onInView.bind(this),this._onOutOfView.bind(this))}},{key:'_onInView',value:function(){this._isInView=!0,setTimeout(this._triggerCallback.bind(this),this._timeInView)}},{key:'_onOutOfView',value:function(){this._isInView=!1}},{key:'_triggerCallback',value:function(){!this._isDispatched&&this._isInView&&(this._isDispatched=!0,this._viewabilityObserver.disconnect(),Y_['function'](this._onViewability)&&this._onViewability())}}]),e}(),W_={init:function(e){var t=e.interval,i=e.timeout,n=e.callback,o=setInterval(n,t);setTimeout(function(){return clearInterval(o)},i)}},H_=fn.utils.environment,q_=fn.utils.elements,K_=function(){var e=q_.insert(H_.document().body,'div',{id:'ad-container'},'','<img src="data:image/svg+xml,%3Csvg/%3E" id="ad" height="5" width="5" style="position: relative !important;">');return e.style.position='absolute',e},G_={detect:function(){var e=K_();return new Promise(function(t){setTimeout(function(){var i=5>e.offsetHeight;return q_.remove(e),i?t({blocked:!0}):t({blocked:!1})})})}},j_={PARTNER_CODE:'vidplaybuzzjs491747965698',DURATION:30,SUPPORTED_EVENTS:{IMPRESSION:'AdImpression'}},Q_=fn.utils.objects,X_=fn.utils.environment,Z_=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_n()(this,e),this._config=t,this._dispatcher=null,this._moatDispatcherQueue=[],this._isInitiated=!1,this._isMoatScriptLoaded=!1}return gn()(e,[{key:'_init',value:function(){var e=this._config,t=e.container,i=e.duration,n=e.partnerCode,o=e.url,a=this._onLoad.bind(this),r=this._createIds();try{this._dispatcher=this._initMoatTracking(t,r,i,n,o,a)}catch(t){Gn.error('Error loading Moat script.',t)}}},{key:'_dispatchEvent',value:function(e){this._isSupportedEvent(e)&&(this._dispatcher.adData=this._getUpdatedAdData(e),this._dispatcher.dispatchEvent({type:e.type,adVolume:e.adVolume}),Gn.info('Moat Service: dispatched event.',{type:e.type,adVolume:e.adVolume,adData:this._dispatcher.adData}))}},{key:'dispatch',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._isMoatScriptLoaded?this._dispatchEvent(e):this._aggregateEvent(e)}},{key:'_aggregateEvent',value:function(e){this._moatDispatcherQueue.push(e),this._initMoatService(),Gn.info('Moat Service: aggregated event',e)}},{key:'_initMoatService',value:function(){this._isInitiated||(this._init(),this._isInitiated=!0)}},{key:'_dispatchEventsQueue',value:function(){var t=this;this._moatDispatcherQueue.forEach(function(i){return t.dispatch(i)}),Gn.info('Moat Service: dispatch aggregated events',this._moatDispatcherQueue),this._moatDispatcherQueue=[]}},{key:'_isSupportedEvent',value:function(e){var t=Q_.values(j_.SUPPORTED_EVENTS);return t.includes(e.type)}},{key:'_getUpdatedAdData',value:function(e){var t=this._dispatcher.adData;return t.ids.zMoatAdSource=e.adSourceId||t.ids.zMoatAdSource,t}},{key:'_createIds',value:function(){return{level1:this._config.host,level2:this._config.channelId,level3:'',level4:'',slicer1:this._config.url,slicer2:'',zMoatAdSource:''}}},{key:'_onLoad',value:function(){Gn.info('Moat service initialized.',this),this._isMoatScriptLoaded=!0,this._dispatchEventsQueue()}},{key:'_initMoatTracking',value:function(t,i,n,o,s,p){var r=X_.document().createElement('script'),u=[];i={adData:{ids:i,duration:n,url:s},dispatchEvent:function(e){this.sendEvent?(u&&(u.push(e),e=u,u=!1),this.sendEvent(e)):u.push(e)}},n='_moatApi'.concat(rn(1E8*Math.random()));var a,_;try{a=t.ownerDocument,_=a.defaultView||a.parentWindow}catch(e){a=document,_=window}return _[n]=i,r.type='text/javascript',r.defer=!0,r.onload=p,t&&t.insertBefore(r,t.childNodes[0]||null),r.src='https://z.moatads.com/'.concat(o,'/moatvideo.js#').concat(n),i}}]),e}(),J_=i(94),$_=i.n(J_),ec=i(8),tc=i(42),ic=i(40),nc=i(35),oc=i(23),ac=fn.services.AbTests,rc=new ac,sc=rc,lc=fn.constants.DATA_EVENTS.DATA_EVENTS_NAMES,dc=function(){var e=wl.getPlayerDimensions(),t=e.width,i=void 0===t?0:t,n=e.height,o=void 0===n?0:n;return''.concat(i,'x').concat(o)},pc=function(){var e='exco_sid',t=ic.getSessionItem(e);return t||(t=nc.a.generate(),ic.setSessionItem(e,t)),t},uc=function(){var e=oc.a.window().screen,t=e.width,i=void 0===t?0:t,n=e.height,o=void 0===n?0:n;return''.concat(i,'x').concat(o)},_c=function(){return Br.type},cc=function(){var e={},t=dc(),i=_c();return t&&(e.playerSize=t),i&&(e.implementation=i),e.tbv=oc.a.isTabVisible(),e},gc=function(e){if(ec.a.empty(e))return{};var t=Object(Ku.getType)(),i={mcdSourceId:lo(e,t),provider:ro(e),adsModeConfig:uo(e),playbackConfig:po(e,t),stickyConfig:mo(e,t),playerSize:dc(),ct:wo(e),extraData:{sp:Ro(e,t),ct:wo(e)},sid:pc(),sc:uc()},n=tc.a.getPlayerPlaceHolder(ao(e));return n&&(i.pos=Oo(e)),ec.a.nullOrUndefined(sc.name)||(i.abtestTemplateName=sc.name),ec.a.nullOrUndefined(sc.weight)||(i.abtestWeight=sc.weight),i},yc={getEventDispatcherConfig:function(e){return{tracking:so(e),reporting:xo(e),country:Ao(e),isLoggerEnabled:fo(e),baseEventAttributes:gc(e),getDynamicBaseEventAttributes:cc}},getDynamicBaseEventAttributes:cc,getBaseEventAttributes:gc,getCTAClickEvent:function(e,t,i){var n=lc.CONTENT.CTA_CLICK,o={eventName:n,destinationUrl:e},a=cc();return Object.assign(o,i,a),o.ctaIndex=t,o}},mc=fn.constants.SERVER_ROUTES,fc=fn.utils.urls,hc=function(e){return'https://'.concat(mc.CTA_REDIRECT,'?').concat(fc.objectToQueries(e))},vc={buildURL:hc,getCTARedirectURL:function(e){var t=e.url,i=e.index,n=e.urlParams,o=e.attributes,a=''.concat(t);if(n&&n.params){var r=n.replace,s=n.params;a=r?fc.replaceQueryParams(t,s):fc.appendQueryParams(t,s)}return hc(yc.getCTAClickEvent(a,i,o))}},bc=i(32),xc=function(){var e=pn()(mn.a.mark(function e(t){var i=arguments,n,o,a,r,s,l;return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=1<i.length&&void 0!==i[1]?i[1]:{},o=2<i.length?i[2]:void 0,a=t.targetingConfigs,r=t,a&&(s=a.reverse().filter(function(e){return e.active}),l=s.map(function(e){return Object(bc.isTargeted)(e.targeting,n,o)}),l.forEach(function(e,t){e&&(r=us.a.merge([r,s[t].playerConfig]))})),e.abrupt('return',r);case 6:case'end':return e.stop();}},e)}));return function(){return e.apply(this,arguments)}}(),kc={isTargeted:bc.isTargeted,applyTargetedConfigs:xc},Ec=fn.constants.PLAYBACK.MODE,Sc=function(){return function(){}},Tc=Sc(),Cc=Sc(),Pc=(mm={},vn()(mm,Ec.AUTO_PLAY,Tc),vn()(mm,Ec.CLICK_TO_PLAY,Cc),vn()(mm,Ec.PLAY_IN_VIEW_PAUSE_OUT_OF_VIEW,function(e){var t=e.player,i=t._player,n=!1,o=!1,a=!1,r=function(){n||(n=!0,o?t.play():t.pause())},s=function(){o||t.pause()};i.onContentStart(function(){return r()}),i.onContentPlaying(function(){s()}),i.onAdImpression(function(){a=!0,r()}),i.onAdSkipped(function(){a=!1}),i.onAdCompleted(function(){a=!1}),i.onInView(function(){o=!0,t.play()}),i.onOutOfView(function(){o=!1,a||t.pause()})}),vn()(mm,Ec.AUTO_PLAY_IN_VIEW,function(e){var t=e.player,i=t._player,n=!1,o=function(){n||(n=!0,t.play())};i.onInView(function(){o()})}),mm),Ic=function(e){var t=e.player,i=e.playbackMode,n=void 0===i?Ec.AUTO_PLAY:i,o=Pc[n];o?o({player:t}):(Pc[Ec.AUTO_PLAY]({player:t}),Gn.warn('Playback Mode - "'.concat(n,'" - Not Supported')))},Ac=function(e){var t=e.querySelector('video');Aa.elements.setAttributes(t,{"aria-label":'Video Player'})},wc=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.playerContainer;Ac(t)},Oc=gn()(function e(t){var i=this,n=t.timeToTrigger,o=t.callback,a=t.logger;_n()(this,e),vn()(this,'start',function(){i._interval||(i._interval=setInterval(i._handleCallback.bind(i),i._timeToTrigger)),i._logger&&i._logger.info('[trigger] ### start trigger')}),vn()(this,'clear',function(){clearInterval(i._interval),i._interval=void 0,i._logger&&i._logger.info('[trigger] ### clear trigger')}),vn()(this,'_handleCallback',function(){i.clear(),i._callback(),i._logger&&i._logger.info('[trigger] ### handle callback')}),this._callback=o,this._timeToTrigger=n,this._logger=a}),Dc=i(95),Lc=i.n(Dc),Mc=['pb.section.share','pb.section.rank','pb.section.flip','pb.section.poll-vote','pb.section.poll-before-vote','pb.section.poll-result','pb.section.poll-end-card','pb.section.poll-end-empty','pb.section.image-unblur','pb.section.call-to-action-click','pb.section.paragraph-hyperlink-click','pb.section.quiz-question-answered','pb.section.quiz-question-before-answered','pb.section.quiz-result','pb.section.quiz-continue-btn.clicked','pb.section.trivia-continue-btn.clicked','pb.section.trivia-question-answered','pb.section.trivia-question-before-answered','pb.section.trivia-go-back-click','pb.section.trivia-result','pb.section.journey-question-loaded','pb.section.journey-question-answered','pb.section.journey-question-before-answered','pb.section.journey-result','pb.section.journey-continue-btn.clicked','pb.section.checklist-result','pb.section.checklist-answer','pb.section.lead-form-focus','pb.section.lead-form-next','pb.section.lead-form-previous'],Rc=['pb.item.idle','pb.cta.clicked','pb.section.lead-form-submit'],Nc={ON:'on',OFF:'off'},Uc=fn.utils.elements,Bc=fn.utils.ResizeObserver,Vc=function(e,t){var i=Uc.insert(e,'div',{"data-placement-id":t,"data-container":'exco-placement',"trigger-start":!1},null,null);return Uc.insert(i,'script',{},'(window.excoPlacements=window.excoPlacements||[]).push("'.concat(t,'");'),null),i},zc=function(e,t){return Uc.insert(e,'script',{src:'https://smart-placements-sdk.ex.co/v1/'.concat(t,'/sdk.js'),async:!0})},Yc='exco__player-hidden',Fc={itemActive:!1,itemHidden:!1,itemInteracted:!1,playerMuted:!1,playerPaused:!1,triggerClicked:!1},Wc=function(){function e(t){var i=t.parentElement,n=t.tagId,o=t.placementId,a=t.triggerTimeout,r=void 0===a?3e4:a,s=t.player,l=t.logger,d=t.stickyChange,p=t.isMobile;_n()(this,e),Lc.a.use(),this._parentElement=i,this._tagId=n,this._placementId=o,this._player=s,this._triggerTimeout=r,this._logger=l,this._state=Fc,this._stickyChange=d,this._isMobile=p}return gn()(e,[{key:'init',value:function(){this._resizeObserver=new Bc(this._onItemResize.bind(this)),this._initTrigger(),this._initItemEventsListeners(),this._initSdkEventsListeners(),this._initPlayerListeners()}},{key:'_setState',value:function(e){this._state=Wi(Wi({},this._state),e)}},{key:'_initTrigger',value:function(){this._trigger=new Oc({timeToTrigger:this._triggerTimeout,callback:this._setUnitOnPage.bind(this),logger:this._logger}),this._trigger.start()}},{key:'_initItemEventsListeners',value:function(){var e=this;document.body.addEventListener('pbItemEvent',function(t){var i=t.detail.name;e._logger.info('[exco sdk] ### item event: ',i),e._onItemLoadEvent(i),e._onItemCompleteEvent(i),e._onItemInteractionEvent(i),e._onTriggerButtonClickEvent(i)})}},{key:'_initSdkEventsListeners',value:function(){var e=this;document.body.addEventListener('excoSdkEvent',function(t){var i=t.detail.name;e._logger.info('[exco sdk] ### sdk event: ',i),e._onTriggerButtonClickEvent(i)})}},{key:'_onItemLoadEvent',value:function(e){e==='pb.item.load'&&(this._resizeObserver.observe(this._excoTagElement),this._onItemLoad())}},{key:'_onItemCompleteEvent',value:function(e){var t=this;Rc.includes(e)&&(this._player.play(),setTimeout(function(){t._onItemDone(),t._resizeObserver.unobserve(t._excoTagElement),t._trigger.start()},1e3))}},{key:'_isItemActiveAndShown',value:function(){return this._state.itemActive&&!this._state.itemHidden}},{key:'_onItemInteractionEvent',value:function(e){Mc.includes(e)&&this._isItemActiveAndShown()&&(this._player.pause(),this._setState({itemInteracted:!0}))}},{key:'_onTriggerButtonClickEvent',value:function(e){'trigger_action'===e&&this._setState({triggerClicked:!0})}},{key:'_initPlayerListeners',value:function(){this._player.onAdImpression(this._onAdImpression.bind(this)),this._player.onAdCompleted(this._onAdCompleted.bind(this)),this._player.onAdSkipped(this._onAdSkipped.bind(this)),this._player.onResize(this._onPlayerResize.bind(this)),this._player.onContentPaused(this._onContentPaused.bind(this)),this._player.onContentPlaying(this._onContentPlaying.bind(this)),this._isMobile&&this._stickyChange(this._onStickyChanged.bind(this))}},{key:'_onAdImpression',value:function(){this._trigger.clear(),this._state.itemActive?this._hideItem():this._onItemDone(),this._state.playerMuted&&(this._player.unmute(),this._setState({playerMuted:!1})),Gn.info('[exco sdk] ### adImpression')}},{key:'_onAdCompleted',value:function(){this._onAdEnded(),Gn.info('[exco sdk] ### adComplete')}},{key:'_onAdSkipped',value:function(){this._onAdEnded(),Gn.info('[exco sdk] ### onAdSkipped')}},{key:'_onPlayerResize',value:function(){this._isItemActiveAndShown()&&this._hidePlayer()}},{key:'_onContentPaused',value:function(){Gn.info('[exco sdk] ### playerPaused')}},{key:'_onContentPlaying',value:function(){Gn.info('[exco sdk] ### playerResume')}},{key:'_onItemResize',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=e[0];t&&(this._itemHeight=this._excoTagElement.getBoundingClientRect().height,Gn.info('[exco sdk] ### item size changed. size :',this._itemHeight),this._resizeParent())}},{key:'_resizeParent',value:function(){this._isItemActiveAndShown()&&0<this._itemHeight&&Uc.setStyle(this._parentElement,{height:''.concat(this._itemHeight,'px')})}},{key:'_onAdEnded',value:function(){this._state.itemHidden?(this._mutePlayerIfUnmuted(),this._showItem()):this._trigger.start()}},{key:'_setUnitOnPage',value:function(){this._state.itemActive||this._state.playerPaused||(this._excoTagElement=Vc(this._parentElement,this._placementId),this._excoTagScript=zc(this._parentElement,this._tagId))}},{key:'_onItemLoad',value:function(){this._setState({itemActive:!0}),this._isMobile&&this._isSticky&&this._switchTriggerButton({triggerState:Nc.ON}),this._hidePlayer(),Uc.setStyles(this._excoTagElement,{display:'unset',visibility:'visible',position:'absolute',top:'0'}),this._mutePlayerIfUnmuted()}},{key:'_mutePlayerIfUnmuted',value:function(){this._player.muted||(this._player.mute(),this._setState({playerMuted:!0}))}},{key:'_hidePlayer',value:function(){Uc.addClass(this._parentElement.querySelector('.pb-stream'),Yc),this._styleSheet||(this._styleSheet=Uc.insertStyleSheet(this._parentElement,'\n          .exp-ui__wrapper{\n            background: unset!important\n          }        \n          .exp-ui__wrapper > :not(.exp-ui__sticky) {\n            display: none\n          }\n          .exp-ui__cta.exp-ui__cta_shown {\n            display: none\n          }\n          .exp-ui__wrapper.exp-ui__state__hovered {\n            background-color: transparent!important;\n          }'))}},{key:'_hideItem',value:function(){Uc.removeClass(this._parentElement.querySelector('.pb-stream'),Yc),Uc.setStyles(this._excoTagElement,{display:'none',visibility:'hidden'}),Uc.setStyle(this._parentElement,{height:'unset'}),this._setState({itemHidden:!0})}},{key:'_showItem',value:function(){Uc.addClass(this._parentElement.querySelector('.pb-stream'),Yc),Uc.setStyles(this._excoTagElement,{display:'unset',visibility:'visible',position:'absolute',top:'0'}),this._setState({itemHidden:!1})}},{key:'_onItemDone',value:function(){this._setState({itemActive:!1,itemHidden:!1,itemInteracted:!1,triggerClicked:!1}),Uc.remove(this._excoTagElement),Uc.remove(this._excoTagScript),Uc.setStyle(this._parentElement,{height:'unset'}),Uc.removeClass(this._parentElement.querySelector('.pb-stream'),Yc),this._parentElement.removeChild(this._styleSheet),this._styleSheet=void 0}},{key:'_showTriggerButton',value:function(){return!this._state.itemInteracted&&!this._state.triggerClicked}},{key:'_switchTriggerButton',value:function(e){var t=e.triggerState;if(this._state.itemActive){var i=window.EXCO_PLACEMENTS[this._placementId];if(i&&i._Placement){if(t===Nc.ON&&!this._showTriggerButton())return;i._Placement.showTriggerButton(t===Nc.ON)}}}},{key:'_onStickyChanged',value:function(e){var t=e.isSticky;this._isSticky=t,this._switchTriggerButton({triggerState:t?Nc.ON:Nc.OFF}),this._resizeParent()}}]),e}(),Hc=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.adsConfig,i=void 0===t?{}:t;return i},qc=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=Hc(e),i=t.displayAd,n=void 0===i?{}:i;return n},Kc=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Ia.DEVICE_TYPES.MOBILE,i=qc(e),n=i.adUnit,o=void 0===n?{}:n;return t===Ia.DEVICE_TYPES.DESKTOP?o.desktop:o.mobile},Gc=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=qc(e),i=t.refresh;i=void 0===i?{}:i;var n=i.timeout;return n?1e3*n:void 0},jc=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=qc(e),i=t.autoSkipAfter;i=void 0===i?{}:i;var n=i.timeout;return n?1e3*n:void 0},Qc=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=Bo(e),i=t.timeout;return i?1e3*i:void 0},Xc=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=qc(e),i=t.autoSkipAfter;i=void 0===i?{}:i;var n=i.ads;return n||0},Zc=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=qc(e),i=t.autoSkipAfter;i=void 0===i?{}:i;var n=i.unfilled;return n||0},Jc=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.publisher||{}},$c=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return Jc(e).googlePublisherId},eg={DISPLAY_AD_MINIMUM_WIDTH_SIZE:233,FLUID:'fluid',STATIC:[{width:300,height:250},{width:320,height:50}]},tg=xr.MEDIA.ADS,ig=eg.DISPLAY_AD_MINIMUM_WIDTH_SIZE,ng=function(){function e(t){var i=t.triggerTimeout,n=t.dismissalTimeout,o=t.placementCap,a=void 0===o?0:o,r=t.unfilledCap,s=void 0===r?0:r,l=t.onShow,d=t.onHide,p=t.onAdShouldNotBeTriggered;_n()(this,e),this._triggerTimeout=i,this._dismissalTimeout=n,this._placementCap=a,this._unfilledCap=s,this._placementCounter=0,this._unfilledCapCounter=0,this._onShowCallback=l,this._onHideCallback=d,this._onAdShouldNotBeTriggered=p,this._currentTriggerTimeoutId=null,this._isVideoAdPlaying=!1,this._isServiceActive=!0,this._listen()}return gn()(e,[{key:'onAdRendered',value:function(){setTimeout(this._dismissAd.bind(this),this._dismissalTimeout)}},{key:'isTriggerActive',get:function(){return this._currentTriggerTimeoutId&&0<this._currentTriggerTimeoutId&&!this._placementCapReachedLimit()}},{key:'trigger',value:function(){this.stopTriggerCounter(),this._triggerAd()}},{key:'startTriggerCounter',value:function(){this._isServiceActive&&!this.isTriggerActive&&(Gn.info('Display-ad: starting trigger countdown'),this._currentTriggerTimeoutId=setTimeout(this._triggerAd.bind(this),this._triggerTimeout))}},{key:'stopTriggerCounter',value:function(){Gn.info('Display-ad: stopping trigger countdown'),clearTimeout(this._currentTriggerTimeoutId),this._currentTriggerTimeoutId=null}},{key:'decrementPlacementCounter',value:function(){0<this._placementCounter&&this._placementCounter--}},{key:'incrementUnfilledCounter',value:function(){this._unfilledCapCounter++}},{key:'deactivate',value:function(){this._isServiceActive=!1}},{key:'_listen',value:function(){Tr.subscribe([tg.CLOSED,tg.SKIPPED,tg.ENDED],this._onVideoAdEnd.bind(this)),Tr.subscribe(tg.START,this._onVideoAdStart.bind(this)),Tr.subscribe(xr.STATE.CHANGED,this._onStateChange.bind(this))}},{key:'_onVideoAdStart',value:function(){this._isVideoAdPlaying=!0,this.stopTriggerCounter(),this._dismissAd()}},{key:'_onVideoAdEnd',value:function(){this._isVideoAdPlaying=!1,this.startTriggerCounter()}},{key:'_onStateChange',value:function(e){e===rl.POSITION.NAME&&this._dismissAd()}},{key:'_triggerAd',value:function(){if(this._currentTriggerTimeoutId=null,this._shouldTriggerAd()){this._placementCounter++,Gn.info('Display-Ad: Triggering placement '.concat(this._placementCounter,' out of ').concat(this._placementCap));var e=this._getDimensions();this._onShowCallback({dimensions:e})}else this._skipAdTrigger()}},{key:'_skipAdTrigger',value:function(){this._currentTriggerTimeoutId=null,this._onAdShouldNotBeTriggered();var e='';this._placementCapReachedLimit()?e='Placement cap reached':this._unfilledCapReachedLimit()&&(e='Unfilled cap reached'),Gn.info('Display-Ad: ad trigger skipped. '.concat(e))}},{key:'_shouldTriggerAd',value:function(){return!this._placementCapReachedLimit()&&!this._unfilledCapReachedLimit()&&this._isPlayerSizeLargeEnough()&&!this._isVideoAdPlaying}},{key:'_placementCapReachedLimit',value:function(){return 0!==this._placementCap&&this._placementCounter>=this._placementCap}},{key:'_unfilledCapReachedLimit',value:function(){return 0!==this._unfilledCap&&this._unfilledCapCounter>=this._unfilledCap}},{key:'_isPlayerSizeLargeEnough',value:function(){var e=wl.getPlayerDimensions(),t=e.width;return t>=ig}},{key:'_dismissAd',value:function(){this._onHideCallback()}},{key:'_getDimensions',value:function(){var e=[eg.FLUID],t=wl.getPlayerDimensions(),i=t.width,n=t.height,o=eg.STATIC.filter(function(e){return i>=e.width&&n>=e.height}).map(function(e){return[e.width,e.height]});return e.push.apply(e,Hn()(o)),e}}]),e}(),og=function(){var e=document.createElement('script');e.src='//securepubads.g.doubleclick.net/tag/js/gpt.js',e.async=!0,document.body.appendChild(e),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[]},ag=[],rg={initDFP:function(){og(),window.googletag.cmd.push(function(){window.googletag.enableServices()})},isLoaded:function(){return!!window.googletag&&window.googletag.apiReady&&window.googletag.pubadsReady},createAd:function(e){var t=e.adunitId,i=e.adunitName,n=e.dimensions,o=void 0===n?[]:n,a=e.targeting,r=void 0===a?{}:a,s=e.googleId;return new Promise(function(e){var n='/'.concat('94166617').concat(s?','.concat(s):'','/').concat(i);window.googletag.cmd.push(function(){var i=window.googletag.defineSlot(n,o,t).addService(window.googletag.pubads());Object.keys(r).forEach(function(e){i.setTargeting(e,r[e])},void 0),window.googletag.enableServices(),ag.push(i),e(i,ag)})})},show:function(e){window.googletag.cmd.push(function(){if(window.googletag.pubads().isInitialLoadDisabled()){var t=rg.getSlotById(e);window.googletag.pubads().refresh([t])}else window.googletag.display(e)})},clear:function(e){var t=Array.isArray(e)?e:[e];window.googletag.pubads().clear(t.map(function(e){return'string'==typeof e?rg.getSlotById(e):e}))},destroySlots:function(e){var t=Array.isArray(e)?e:[e];window.googletag.destroySlots(t.map(function(e){return'string'==typeof e?rg.getSlotById(e):e}))},refresh:function(e){var t=Array.isArray(e)?e:[e];window.googletag.pubads().refresh(t.map(function(e){return'string'==typeof e?rg.getSlotById(e):e}))},display:function(e){return window.googletag.display(e)},getGoogleTagInstance:function(){return window.googletag},getSlotById:function(e){return ag.find(function(t){return t.getSlotId().getDomId()===e})},onSlotRenderEnded:function(e){var t='string'==typeof e?rg.getSlotById(e):e;return new Promise(function(e){window.googletag.pubads().addEventListener('slotRenderEnded',function(i){i.slot.getSlotId().getDomId()===t.getSlotId().getDomId()&&e(i)})})}},sg=rg,lg=i(96),dg=i.n(lg),pg=fn.utils.elements,ug=fn.utils.time.millisecondsToMinutesAndSeconds,_g=function(){function e(t){var i=t.parentElement,n=void 0===i?null:i,o=t.label;_n()(this,e),this._parentElement=n,this._label=o,this._element=pg.insert(this._parentElement,'div',null,null,null),this._interval=null}return gn()(e,[{key:'start',value:function(e){var t=this,i=e.dismissalTimeout,n=this._getUpdateTimeFunction(i);n(),this._interval=setInterval(n,1e3),setTimeout(function(){clearInterval(t._interval)},i)}},{key:'stop',value:function(){this._interval&&clearInterval(this._interval)}},{key:'_getUpdateTimeFunction',value:function(e){var t=this,i=e;return function(){var e=ug(i),n=e.minutes,o=e.seconds;t._element.innerHTML=''.concat(t._label,' &#8729 ').concat(n,':').concat(9<o?o:'0'.concat(o)),i-=1e3}}}]),e}(),cg=fn.utils.elements,gg='pbs__display-ad',yg=''.concat(gg,'-dfp-ad-unit'),mg=''.concat(gg,'-close-button'),fg=''.concat(gg,'-counter'),hg=Fn.isDesktop()?Fn.desktop:Fn.mobile,vg=function(){function e(t){var i=this,n=t.adunitName,o=t.parentElementId,a=t.onRendered,r=t.onDismissed,s=t.onEmptyFill,l=t.onRefresh,d=t.refreshTimeout,p=t.channelId,u=t.dismissalTimeout,_=t.googlePublisherId;_n()(this,e),dg.a.use(),this._adunitName=n,this._googlePublisherId=_,this._parentElementId=o,this._onRenderedCallback=a,this._onDismissedCallback=r,this._onEmptyFillCallback=s,this._channelId=p,this._onRefreshCallback=l,this._adunitId=null,this._adunitElement=null,this._refreshTimeout=d,this._dismissalTimeout=u,this._initDfpInterface(),this._parentElement=document.querySelector('[id*="'.concat(this._parentElementId,'"')),this._displayAdContainer=this._createContainer(),this._closeButtonElement=this._createCloseButton(),this._closeButtonElement.addEventListener('click',function(){return i.hide()}),this._counterContainer=this._createCounterContainer(),this._counter=new _g({parentElement:this._counterContainer,label:'SPONSORED'})}return gn()(e,[{key:'render',value:function(e){var t=this,i=e.dimensions;this._remainingRefreshTimes=this._calculateNumberOfRefreshTimes(),this._adunitId=''.concat(this._adunitName,'_').concat(+new Date),this._adunitElement=cg.insert(this._displayAdContainer,'div',{id:this._adunitId,class:yg},null,null),sg.createAd({adunitName:this._adunitName,adunitId:this._adunitId,dimensions:i,targeting:{channelid:this._channelId,deviceType:''.concat(this._channelId,'_').concat(hg)},googleId:this._googlePublisherId}).then(function(){sg.show(t._adunitId),sg.onSlotRenderEnded(t._adunitId).then(function(i){return t._onRendered(i)})})}},{key:'hide',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];this._disposeOfAdunit(),this._counter.stop(),Tr.publish(xr.MEDIA.DISPLAY_ADS.ENDED),e?this._onEmptyFillCallback(t):this._onDismissedCallback()}},{key:'_disposeOfAdunit',value:function(){this._adunitElement&&(sg.destroySlots(this._adunitId),cg.remove(this._adunitElement),this._adunitElement=null)}},{key:'_initDfpInterface',value:function(){sg.isLoaded()||sg.initDFP()}},{key:'_createContainer',value:function(){return cg.insert(this._parentElement,'div',{class:gg},null,null)}},{key:'_createCloseButton',value:function(){return this._displayAdContainer||(this._displayAdContainer=this._createContainer()),cg.insert(this._displayAdContainer,'button',{class:mg},null,null)}},{key:'_createCounterContainer',value:function(){return cg.insert(this._displayAdContainer,'div',{class:fg},null,null)}},{key:'_onRendered',value:function(e){e.isEmpty?this.hide(!0):(Tr.publish(xr.MEDIA.DISPLAY_ADS.PLAYING),this._counter.start({dismissalTimeout:this._dismissalTimeout}),this._onRenderedCallback(),this._remainingRefreshTimes&&this._handleDisplayAdRefresh())}},{key:'_handleDisplayAdRefresh',value:function(){var t=this;0<this._remainingRefreshTimes&&(setTimeout(function(){sg.refresh(t._adunitId),sg.display(t._adunitId),sg.onSlotRenderEnded(t._adunitId).then(function(i){return t._onRefreshHandler(i)})},this._refreshTimeout),this._remainingRefreshTimes--)}},{key:'_onRefreshHandler',value:function(e){e.isEmpty?this.hide(!0,!0):(sg.clear(this._adunitId),this._onRefreshCallback(),this._handleDisplayAdRefresh())}},{key:'_calculateNumberOfRefreshTimes',value:function(){return this._dismissalTimeout&&this._refreshTimeout&&rn(this._dismissalTimeout/this._refreshTimeout)-1}}]),e}(),bg=function(){function e(t){var i=this,n=t.config,o=t.player,a=t.playerUI,r=t.channelId,s=t.parentElementId,l=t.deviceType;_n()(this,e),this._player=o,this._playerUI=a,this._ui=new vg({parentElementId:s,adunitName:Kc(n,l),refreshTimeout:Gc(n),dismissalTimeout:jc(n),googlePublisherId:$c(n),onRendered:this._onRendered.bind(this),onDismissed:this._onDismissed.bind(this),onEmptyFill:this._onEmptyFill.bind(this),channelId:r}),this._service=new ng({triggerTimeout:Qc(n),dismissalTimeout:jc(n),placementCap:Xc(n),unfilledCap:Zc(n),onShow:this._onShow.bind(this),onHide:this._onHide.bind(this),onAdShouldNotBeTriggered:function(){return i._service.startTriggerCounter()}})}return gn()(e,[{key:'start',value:function(){this._service.startTriggerCounter()}},{key:'trigger',value:function(){this._service.trigger()}},{key:'deactivate',value:function(){this._service.deactivate()}},{key:'_onRendered',value:function(){this._service.onAdRendered(),this._player.pause(),this._playerUI.setState({adPlaying:!0})}},{key:'_onDismissed',value:function(){this._service.startTriggerCounter(),this._player.play(),this._playerUI.setState({adPlaying:!1})}},{key:'_onEmptyFill',value:function(){this._service.decrementPlacementCounter(),this._service.incrementUnfilledCounter(),this._service.startTriggerCounter(),this._player.play(),this._playerUI.setState({adPlaying:!1})}},{key:'_onShow',value:function(e){this._ui.render(e)}},{key:'_onHide',value:function(e){this._ui.hide(e)}}]),e}(),xg={MOBILE:[[320,50],[320,100]],DESKTOP:[300,250]},kg=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.adsConfig,i=void 0===t?{}:t;return i},Eg=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,i=kg(e),n=i.displayAdV2;n=void 0===n?{}:n;var o=n.desktop,a=void 0===o?{}:o,r=n.mobile,s=void 0===r?{}:r;return t===Ia.DEVICE_TYPES.DESKTOP?a:s},Sg=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=kg(e),i=t.displayAdV2;i=void 0===i?{}:i;var n=i.type,o=void 0===n?1:n;return o},Tg=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=Sg(e);return 2===t},Cg=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Ia.DEVICE_TYPES.MOBILE,i=Eg(e,t),n=i.adUnit;return n},Pg=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Ia.DEVICE_TYPES.MOBILE,i=Eg(e,t),n=i.timeout;return n?1e3*n:void 0},Ig=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Ia.DEVICE_TYPES.MOBILE,i=Eg(e,t),n=i.unfilledCap,o=void 0===n?0:n;return o},Ag=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,i=Eg(e,t),n=i.delay;return Tg(e)?0:1e3*n||0},wg=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;return t===Ia.DEVICE_TYPES.MOBILE?e.minimizeLocationMobile:e.minimizeLocation},Og=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.appearance||{}},Dg=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=Og(e),i=t.borderRadius;return null!==i&&void 0!==i&&i.enabled?i.radius:void 0},Lg=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.publisher||{}},Mg=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return Lg(e).googlePublisherId},Rg=i(97),Ng=i.n(Rg),Ug=fn.utils.elements,Bg=fn.utils.time.millisecondsToMinutesAndSeconds,Vg=fn.utils.Pubsub,zg='countdown.timeout',Yg=function(){function e(t){var i=t.parentElement,n=void 0===i?null:i,o=t.label;_n()(this,e),this._parentElement=n,this._label=o,this._element=Ug.insert(this._parentElement,'div',null,null,null),this._interval=null,this._timeout=null,this._pubsub=new Vg}return gn()(e,[{key:'start',value:function(e){var t=this,i=e.dismissalTimeout,n=this._getUpdateTimeFunction(i);n(),this._interval=setInterval(n,1e3),this._timeout=setTimeout(function(){t._reset(),t._pubsub.publish(zg)},i)}},{key:'stop',value:function(){this._reset()}},{key:'onTimeout',value:function(e){this._pubsub.subscribe(zg,e)}},{key:'_getUpdateTimeFunction',value:function(e){var t=this,i=e;return function(){var e=Bg(i),n=e.minutes,o=e.seconds;t._element.innerHTML=''.concat(t._label,' &#8729 ').concat(n,':').concat(9<o?o:'0'.concat(o)),i-=1e3}}},{key:'_reset',value:function(){this._interval&&clearInterval(this._interval),this._interval=null,this._timeout&&clearTimeout(this._timeout),this._timeout=null,this._element.innerHTML=''}}]),e}(),Fg=function(){return{"300x250":function(e){var t=e.width,i=e.height,n=e.adjustDirection;return{getStyle:function(){return vn()({top:''.concat(i-250,'px'),bottom:0},n,''.concat(t-444,'px'))},getStyleReset:function(){return vn()({top:0,bottom:0},n,0)}}}}},Wg=function(e){var t=e.adSize,i=e.width,n=e.height,o=e.adjustDirection;return Fg()[t]({width:i,height:n,adjustDirection:o})},Hg='exp-display-ad',qg=''.concat(Hg,'__dfp-ad-unit'),Kg=''.concat(Hg,'__close-button'),Gg=''.concat(Hg,'__counter'),jg=''.concat(Hg,'__hidden'),Qg=''.concat(Hg,'__overlay'),Xg=function(){function e(t){var i=this,n=t.parentElementId,o=t.player,a=t.stickyPosition,r=t.borderRadius,s=t.isMobile;_n()(this,e),Ng.a.use(),this._parentElementId=n,this._overlayDirection=this._getOverlayDirection(a),this._parentElement=document.querySelector('[id*="'.concat(this._parentElementId,'"')),this._displayAdContainer=this._createContainer({borderRadius:r}),this._adUnitElement=null,this._overlay=this._createOverlay(),this._closeButtonElement=this._createCloseButton(),this._counterContainer=this._createCounterContainer(),this._counter=new Yg({parentElement:this._counterContainer,label:'SPONSORED'}),this._counter.onTimeout(this.hide.bind(this)),s||o.onResize(function(e){var t=e.width,n=e.height;return i._onPlayerResize({width:t,height:n})}),this.hide()}return gn()(e,[{key:'render',value:function(e){var t=e.timeout;Aa.elements.removeClass(this._displayAdContainer,jg),this._counter.start({dismissalTimeout:t})}},{key:'hide',value:function(){this._counter.stop(),Aa.elements.addClass(this._displayAdContainer,jg)}},{key:'createAdUnit',value:function(e){this._adUnitElement&&this._removeExistingAdUnitElement(),this._adUnitElement=this._createAdUnitElement(e)}},{key:'onTimeout',value:function(e){this._counter.onTimeout(e)}},{key:'onClosed',value:function(e){this._closeButtonElement.addEventListener('click',e)}},{key:'_createAdUnitElement',value:function(e){return Aa.elements.insert(this._displayAdContainer,'div',{id:e,class:qg},null,null)}},{key:'_createContainer',value:function(e){var t=e.borderRadius,i=void 0===t?null:t,n=Aa.elements.insert(this._parentElement,'div',{class:Hg},null,null);return i&&Aa.elements.setStyle(n,{borderRadius:''.concat(i,'px')}),n}},{key:'_createCloseButton',value:function(){return Aa.elements.insert(this._displayAdContainer,'button',{class:Kg},null,null)}},{key:'_createCounterContainer',value:function(){return Aa.elements.insert(this._displayAdContainer,'div',{class:Gg},null,null)}},{key:'_removeExistingAdUnitElement',value:function(){Aa.elements.remove(this._adUnitElement),this._adUnitElement=null}},{key:'_createOverlay',value:function(){return Aa.elements.insert(this._parentElement,'div',{class:Qg},null,null)}},{key:'_onPlayerResize',value:function(e){var t=e.width,i=e.height,n=Wg({adSize:'300x250',width:t,height:i,adjustDirection:this._overlayDirection}),o=n.getStyle,a=n.getStyleReset;250>i?(Aa.elements.addClass(this._displayAdContainer,Qg),Aa.elements.setStyle(this._displayAdContainer,o())):(Aa.elements.removeClass(this._displayAdContainer,Qg),Aa.elements.setStyle(this._displayAdContainer,a()))}},{key:'_getOverlayDirection',value:function(e){return{"bottom-left":'right',"bottom-right":'left'}[e]}}]),e}(),Zg=function(e){var t=e.configuration,i=e.UI,n=e.DFP,o=e.GLOBAL_EVENTS;return function(){function e(i){var n=i.config,o=i.deviceType,a=i.player,r=i.parentElementId,s=i.channelId,l=i.playerUI,d=i.globalPubSub,p=i.logger;_n()(this,e),this._config=n,this._deviceType=o,this._isMobile='mobile'===o,this._globalPubSub=d,this._fetchedAd=!1,this._videoAdsCounter=0,this._adExists=!1,this._requestCount=0,this._hidden=!0,this._contentUnmuted=!1,this._player=a,this._playerUI=l,this._parentElementId=r,this._channelId=s,this._adUnit=t.getDisplayAdUnitId(n,o),this._adUnitId=null,this._showTimeout=null,this._dismissalTimeout=t.getDisplayAdDismissalTimeout(n,o),this._unfilledCap=t.getDisplayAdUnfilledCap(n,o),this._delay=t.getDelayMS(n,o),this._logger=p,this._googlePublisherId=t.getGooglePublisherId(this._config)}return gn()(e,[{key:'start',value:function(){this._initDfpInterface(),this._ui=new i({parentElementId:this._parentElementId,player:this._player,stickyPosition:t.getStickyPosition(this._config,this._deviceType),borderRadius:t.getBorderRadius(this._config),isMobile:this._isMobile}),t.isBackFillTriggerType(this._config)?(this._player.onAdImpression(this._onAdImpressionBackfill.bind(this)),this._player.onRollWindowClose(this._onRollWindowClose.bind(this)),this._firstTimeBackfill=!0):(this._player.onAdImpression(this._onAdImpressionPerformance.bind(this)),this._player.onAdCompleted(this._triggerShowTimeout.bind(this)),this._player.onAdSkipped(this._triggerShowTimeout.bind(this))),this._ui.onTimeout(this._hide.bind(this)),this._ui.onClosed(this._hide.bind(this))}},{key:'trigger',value:function(){this._show()}},{key:'deactivate',value:function(){this._ui.hide(),n.destroySlots(this._adUnitId),this._adUnitId=null}},{key:'_onFetchAd',value:function(){this._fetchedAd||(this._fetchedAd=!0,this._fetchAd())}},{key:'_onAdImpressionBackfill',value:function(){this._videoAdsCounter++,this._onAdImpression()}},{key:'_onAdImpressionPerformance',value:function(){this._onFetchAd(),this._onAdImpression()}},{key:'_onAdImpression',value:function(){this._fetchedAd&&this._hide()}},{key:'_onRollWindowClose',value:function(){0===this._videoAdsCounter&&(this._onFetchAd(),this._triggerShowTimeout()),this._videoAdsCounter=0}},{key:'_show',value:function(){this._adExists&&(n.show(this._adUnitId),this._ui.render({timeout:this._dismissalTimeout}),this._hidden=!1,this._playerUI.setState({displayAdPlaying:!0}),this._globalPubSub.publish(o.MEDIA.DISPLAY_ADS.PLAYING),this._handleContentMute(),this._logger.info('Display-ad Rendered'),this._clearShowTimeout())}},{key:'_hide',value:function(){this._hidden||(this._hidden=!0,this._ui.hide(),this._playerUI.setState({displayAdPlaying:!1}),this._globalPubSub.publish(o.MEDIA.DISPLAY_ADS.ENDED),this._handleContentUnmute(),this._logger.info('Display-ad Hidden')),this._clearShowTimeout()}},{key:'_fetchAd',value:function(){var e=pn()(mn.a.mark(function e(){var t;return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._shouldGetAd()){e.next=12;break}return this._logger.info('Display-Ad Fetching; Try No. '.concat(this._requestCount+1)),this._requestCount++,this._adUnitId=''.concat(this._adUnit,'_').concat(+new Date),this._ui.createAdUnit(this._adUnitId),e.next=7,n.createAd({adunitName:this._adUnit,adunitId:this._adUnitId,dimensions:this._isMobile?xg.MOBILE:xg.DESKTOP,targeting:{channelid:this._channelId,deviceType:''.concat(this._channelId,'_').concat(this._deviceType)},googleId:this._googlePublisherId});case 7:return n.show(this._adUnitId),e.next=10,n.onSlotRenderEnded(this._adUnitId);case 10:t=e.sent,this._onDFPSlotRendered(t);case 12:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'_triggerShowTimeout',value:function(){var e=this;this._clearShowTimeout(),this._showTimeout=setTimeout(function(){return e._show()},this._delay)}},{key:'_clearShowTimeout',value:function(){this._showTimeout&&clearTimeout(this._showTimeout),this._showTimeout=null}},{key:'_initDfpInterface',value:function(){n.isLoaded()||n.initDFP()}},{key:'_shouldGetAd',value:function(){return!this._adExists&&(0===this._unfilledCap||this._requestCount<this._unfilledCap)}},{key:'_onDFPSlotRendered',value:function(e){e.isEmpty?(this._logger.info('Display-ad Empty-Fill'),this._fetchAd()):(this._adExists=!0,this._firstTimeBackfill&&(this._show(),this._firstTimeBackfill=!1),this._logger.info('Display-ad Fetched'))}},{key:'_handleContentMute',value:function(){this._player.muted||(this._player.mute(),this._contentUnmuted=!0)}},{key:'_handleContentUnmute',value:function(){this._contentUnmuted&&this._player.mute()}}]),e}()}({configuration:ln,UI:Xg,DFP:sg,GLOBAL_EVENTS:xr}),Jg=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t;return 2===(null===(t=e.adsConfig)||void 0===t?void 0:t.displayAdVersion)},$g=function(e){var t=e.config,i=e.deviceType;return Jg(t,i)?new Zg(e):new bg(e)},ey=function(e){return{play:function(){return e.play()},pause:function(){return e.pause()},mute:function(){return e.mute()},unmute:function(){return e.unmute()},hidecontrols:function(){return e.onHideControls()},showcontrols:function(){return e.onShowControls()},on:function(t,i){'playing'===t?(e.onContentPlaying(i),e.onAdImpression(i)):'canplay'===t?i():'play'===t?e.onPlayerPlay(i):'pause'===t?e.onPlayerPause(i):'mute'===t?(e.onPlayerMute(i),e.isMuted&&i()):'unmute'===t?e.onPlayerUnmute(i):i()}}},ty=function(e){var t=e.player,i=e.nameSpace,n=ey(t);i.onPlayerInterface&&i.onPlayerInterface(n)},iy=i(47),ny=function(e,t){var i=e.getBoundingClientRect(),n=i.height,o=i.y;if(window.ResizeObserver){var a=new ResizeObserver(function(e){e.forEach(function(e){if(e.contentRect){var i=e.contentRect,a=i.height,r=i.y;a!==n&&(0===a&&0===r?t({height:n,y:o}):(n=a,t(e.contentRect)))}})});a.observe(e)}else t(i)},oy=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1;Aa.environment.window().addEventListener('scroll',Object(iy.a)(function(){t()},i,{leading:!0})),t()},ay=function(e,t){var i=window.getComputedStyle(e),n=i.top;e.style.top='0px'===n?'-1px':n;var o=new IntersectionObserver(function(i){var n=wn()(i,1),o=n[0];t(1>o.intersectionRatio)},{threshold:[1]});o.observe(e)},ry=function(e,t){var i=new Aa.ViewabilityObserver({threshold:.01});i.observe(e,function(){return t(!0)},function(){return t(!1)})},sy=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=t.delay,n=t.once,o,a;return{reset:function(){return o=!1},exec:function(){o||(a&&(clearTimeout(a),a=null),a=setTimeout(function(){n&&(o=!0),e()},i||500))}}},ly=function(e,t){return e&&e.offsetHeight?Aa.environment.window().innerHeight/(e.offsetHeight+2)*(t.includes('bottom')?.3:1):.3},dy={observeElementPosition:function(e,t){var i=window.getComputedStyle(e),n=i.position;if(e.addEventListener('animationend',function(){return t()}),e.addEventListener('transitionend',function(){return t()}),['fixed','absolute'].includes(n))ny(e,function(e){t(e.height+e.y)});else if('sticky'===n){var o;ay(e,function(e){o=e}),oy(e,function(){o||t()}),ny(e,function(e){t(e.height+e.y)})}else{var a=sy(t,{delay:500,once:!1}),r;ry(e,function(e){r=e,a.reset()}),oy(e,function(){r&&t(),a.exec()})}},observeStickyBoundaries:function(e){var t=e.rootRef,i=e.boundariesRef,n=e.stickyConfig,o=e.inViewFn,a=e.outViewFn,r=ly(i,n.position.raw),s=new Aa.ViewabilityObserver({threshold:r}),l=!1;s.observe(i,function(){l=!0,a()},function(){l=!1,o()});var d=new Aa.ViewabilityObserver({threshold:n.isMainAsSticky?1:.5});d.observe(t,function(){l&&o()},function(){l&&a()})},observeStickyInvertor:function(e,t){var i=new Aa.ViewabilityObserver({threshold:.01}),n;i.observe(e,function(){n=!0,t({invert:!0})},function(){n=!1,t({invert:!1})}),ny(e,function(e){t({invert:n&&0<e.height})})}},py=fn.constants.DATA_EVENTS,uy=py.DATA_EVENTS_NAMES,_y=py.AD_SOURCE_OWNERS,cy=fn.constants.STICKY,gy=fn.utils.playerUtil,yy=fn.utils.guid,my=fn.utils.environment,fy=fn.utils.is,hy=fn.utils.storage,vy=fn.utils.elements,by=fn.utils.ViewabilityObserver,xy=fn.utils.sampling,ky=fn.utils.strings,Ey=fn.utils.tracking,Sy=fn.utils.time,Ty=fn.utils.elementsRatio,Cy=fn.utils.ElementObserver,Py=fn.utils.colors.hexToRgb,Iy=fn.utils.realTimeCPM.calculateRealTimeCPM,Ay=fn.utils.jsParser,wy=fn.utils.ResizeObserver,Oy=gy.getPlayerIdSelectors,Dy=gy.getPlayerPlaceHolder,Ly=fn.services.dataEvents.arrangeImpressionEventForData,My=fn.services.EnvVars,Ry=fn.services.cleanio,Ny=fn.services.ClientSideEventDispatcher,Uy=fn.ui.Sticky,By=(fm={},vn()(fm,uy.PLAYER_LOAD,'playerLoad'),vn()(fm,uy.AD.IMPRESSION,'impression'),fm),Vy=ky.interpolateFactory(function(e){return qi(qi({},e),{},{getValue:function(){return encodeURIComponent(e.getValue.apply(e,arguments))}})}),zy=10,Yy=function(){function e(t){var i=this,n=t.containers,o=t.config,a=t.options,r=t.eventDispatcher,s=t.customDimensions;_n()(this,e),vn()(this,'_onStickyResize',function(e,t){i._player.resize(e,t);var n=vy.dimensions(i._stickyElement),o=n.width,a=n.height;o!==e&&a!==t&&setTimeout(function(){i._player.resize(e,t)},1e3)}),My.readVars(o.envVars||[]),this._config=o,this._options=a||{},this._player={},this._containers=this._getContainers(n,this._config._id),this._eventDispatcher=r,this._customDimensions=s,this._isSessionTaggedAsPublisherDemand=!1,this._clientEventsDispatcher=null,this._viewabilityObserver=null,this._staticPlayerViewabilityObserver=null,this._elementObserver=new Cy(my.document()),this._displayAd=null,this._playerContainerId='exp_'.concat(yy.generate()),wl.setPlayerElement(this._playerContainerId),Gn.info('player - initiated environment',{userAgent:Fn.getUserAgent(),device:Fn.getDevice()})}return gn()(e,[{key:'init',value:function(){var t=this;return this._waitForPlayerContainerToExist(this._containers,this._config._id).then(this._waitForRootConfigurationsInit.bind(this)).then(this._initContents.bind(this)).then(pn()(mn.a.mark(function e(){return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._shouldInit();case 2:if(!e.sent){e.next=4;break}'time'===t._configuration.lazy.type?t._waitForPlayerTimeLazyLoad().then(t._initPlayer.bind(t)):t._waitForPlayerToBeInView().then(t._initPlayer.bind(t));case 4:case'end':return e.stop();}},e)})))['catch'](function(){var e=pn()(mn.a.mark(function i(n){return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Gn.error('Error while initializing the player, initializing anyway',n),e.next=3,t._initOnPreInitFailure();case 3:case'end':return e.stop();}},i)}));return function(){return e.apply(this,arguments)}}()),this}},{key:'play',value:function(){this._player.play(),this._clientEventsDispatcher.playerPlaying({title:Br.current.title})}},{key:'pause',value:function(){this._player.pause(),this._clientEventsDispatcher.playerPaused({title:Br.current.title})}},{key:'close',value:function(){return this._displayAd&&this._displayAd.deactivate(),this._player.close()}},{key:'unmute',value:function(){this._player.unmuted||(this._clientEventsDispatcher.playerUnmuted({title:Br.current.title}),this._player.unmute())}},{key:'mute',value:function(){this._player.muted||(this._clientEventsDispatcher.playerMuted({title:Br.current.title}),this._player.mute())}},{key:'prev',value:function(){return this._player.prev()}},{key:'next',value:function(){return this._player.next()}},{key:'skipAd',value:function(){return this._player.skipAd()}},{key:'setTime',value:function(e){return this._player.setTime(e)}},{key:'id',get:function(){return this._config._id}},{key:'container',get:function(){return this._container}},{key:'onContentPlaying',value:function(e){this._player.onContentPlaying(e)}},{key:'onAdImpression',value:function(e){this._player.onAdImpression(e)}},{key:'onPlayerMute',value:function(e){this._player.onMute(e)}},{key:'onPlayerUnmute',value:function(e){this._player.onUnmute(e)}},{key:'onPlayerPause',value:function(e){this._player.onPause(e)}},{key:'onPlayerPlay',value:function(e){this._player.onPlay(e)}},{key:'onHideControls',value:function(){this._playerUI.setState({hiddenControls:!0})}},{key:'onShowControls',value:function(){this._playerUI.setState({hiddenControls:!1})}},{key:'isMuted',value:function(){return this._player.muted}},{key:'_checkAdBlock',value:function(){var e=pn()(mn.a.mark(function e(){var t=this;return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt('return',G_.detect().then(function(e){var i=e.blocked;return i&&t._onAdBlockDetected(),i}));case 1:case'end':return e.stop();}},e)}));return function(){return e.apply(this,arguments)}}()},{key:'_initOnPreInitFailure',value:function(){var e=pn()(mn.a.mark(function e(){return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._initRootConfigurations(this._containers),e.prev=1,e.next=4,this._shouldInit();case 4:if(!e.sent){e.next=6;break}this._initPlayer();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e['catch'](1),this._initPlayer();case 11:case'end':return e.stop();}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:'_shouldInit',value:function(){var e=pn()(mn.a.mark(function e(){var t,i,n,o,a;return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._checkAdBlock();case 2:return t=e.sent,i=this._getTargetingData(t),n=i.targetingConfig,o=i.targetingAdditionalData,a=kc.isTargeted(n,o,Gn),e.abrupt('return',!t&&a);case 6:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'_getTargetingData',value:function(e){var t=this._configuration.targeting;Gn.info('player targeting info',t);var i={country:this._configuration.country,connection:this._configuration.connection,lineItems:this._configuration.lineItems,isPlayerAdBlocked:e};return Gn.info('player additional data - country',i),{targetingConfig:t,targetingAdditionalData:i}}},{key:'_waitForPlayerContainerToExist',value:function(e,t){var i=this;return new Promise(function(n){if(fy.empty(e)){var o=Oy(t);i._elementObserver.observe(function(e){return n(i._onPlayerContainerFound(e))},[o.byId,o.byEmbedId])}else n(e)})}},{key:'_onPlayerContainerFound',value:function(e){return this._elementObserver.disconnect(),Gn.info('Player container found on the DOM',e),[e]}},{key:'_waitForRootConfigurationsInit',value:function(){var e=pn()(mn.a.mark(function e(t){return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt('return',this._initRootConfigurations(t));case 4:return e.prev=4,e.t0=e['catch'](0),e.abrupt('return',Promise.reject(e.t0));case 7:case'end':return e.stop();}},e,this,[[0,4]])}));return function(){return e.apply(this,arguments)}}()},{key:'_initRootConfigurations',value:function(e){this._rootElement=this._rootElement||this._setRoot(e),Gn.info('player - containers set',e),this._configuration=this._initConfigurationService(),this._loadConfigurableReferrer(),this._configuration.logger.enable&&Gn.enable(),Gn.info('Player configurations set'),this._updatePlayerCssAccordingToConfig(),this._clientEventsDispatcher=new Ny({constantData:{playerId:this._configuration.playerId}})}},{key:'_initContents',value:function(){var e=pn()(mn.a.mark(function e(){var t,i,n;return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=vy.dimensions(this._rootElement),i=t.width,n=wl.getBreakpointMaxWidth(wl.getClosestBreakPoint(i)),e.next=4,Br.set({rawContents:this._configuration.contents,fetchOnClient:this._configuration.content.clientSide,contentConfig:{content:this._configuration.content,playerId:this._configuration.playerId},externalContents:this._configuration.externalVideos,random:this._configuration.random,randomFrom:this._configuration.randomFrom,externalCTA:this._configuration.externalCTA,useMp4Only:this._configuration.useMp4Extension,maxVideoWidth:n,textualFeed:this._configuration.textualFeed.items,ignoreExternalProps:this._configuration.raw.ignoreExternalProps});case 4:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'_waitForPlayerTimeLazyLoad',value:function(){var e=this;return new Promise(function(t){var i=e._configuration.lazy;i.enabled&&i.timeDelay?setTimeout(t,1e3*i.timeDelay):t()})}},{key:'_waitForPlayerToBeInView',value:function(){var e=this;return new Promise(function(t){var i=e._configuration.lazy;i.enabled?(e._viewabilityObserver=new by(i),e._viewabilityObserver.observe(i.element,function(){return t(e._onPlayerInView())})):t()})}},{key:'_onPlayerInView',value:function(){var e=this;return new Promise(function(t){var i=e._configuration.lazy.delay;e._viewabilityObserver.disconnect(),i?setTimeout(t,1e3*i):t()})}},{key:'_initPlayer',value:function(){this._loadCSS(),this._enforceSafeAds(),this._bootPlayer()}},{key:'_loadConfigurableReferrer',value:function(){var e=this._configuration.externalReferrer;e&&my.setReferrerOverride(e)}},{key:'_getContainers',value:function(e,t){if(e&&0<e.length)return e;var i=Dy(t);return fy.empty(i)?[]:[i]}},{key:'_setRoot',value:function(e){var t=e[0];return yl.setRoot(t),yl.element}},{key:'_initConfigurationService',value:function(){return za.setConfig(this._config),za.setOverrides([yl.configFromRoot]),za}},{key:'_bootPlayer',value:function(){var e=pn()(mn.a.mark(function e(){return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,al(this._configuration.provider,{rawConfig:this._configuration.raw,channelId:this._configuration.channelId,eventDispatcher:this._eventDispatcher,contentsService:Br,parentElement:this._rootElement,containerId:this._playerContainerId,customDimensions:this._customDimensions,customParams:{config:this._configuration.externalCustomParams,map:this._configuration.customParamsMap},initialPlacementDimensions:this._getPlacementDimensions({ratio:16/9})});case 2:this._player=e.sent,this._onPlayerInitialized();case 4:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'_getPlacementDimensions',value:function(e){var t=e.ratio,i=vy.dimensions(this._rootElement),n=i.width;return{width:n,height:Ty.calculateHeightUponRatio(n,t)}}},{key:'_enforceSafeAds',value:function(){this._configuration.safeAds&&Ry.inject(this._rootElement)}},{key:'_emit',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.enrichedData=qi(qi({},t.enrichedData),{},{playerPosition:this._isSticky?'sticky':'static',vb:this._player.isInView}),t.extraData=qi(qi({},t.extraData||{}),{},{tbv:my.isTabVisible()}),this._eventDispatcher.send(e,t),this._tryToEmitPixelTrackerRequest(e,t)}},{key:'_tryToEmitPixelTrackerRequest',value:function(e,t){var i=By[e],n,o,a;if(i){var r=null===(n=this._configuration.reporting)||void 0===n||null===(o=n.pixelTrackers)||void 0===o?void 0:o.params.filter(function(e){var t=e.key;return t===i});if(r&&r.length){var s=qi(qi({},this._configuration.externalCustomParams),{},{country:this._configuration.country,device:Fn.getMobileOrDesktopDevice(),os:Fn.getOSType(),browser:Fn.getBrowser(),site:my.document().location.hostname,url:my.document().location.href,cpm:null===t||void 0===t||null===(a=t.enrichedData)||void 0===a?void 0:a.cpm,sub_id:this._customDimensions.subId});r.forEach(function(e){var t=e.value,i=Vy(t,s);vy.fireImgElementEvent(i)})}}}},{key:'_onPlayerInitialized',value:function(){var e=this;this._publishLoad();try{my.isAmp()&&ty({player:this,nameSpace:my.getEXCONamespace()}),this._initiateServices()}catch(t){Gn.error('player - error while trying to initiate player features',t)}Ic({player:this,playbackMode:this._configuration.playback}),this._configuration.shouldPauseOnTabBlur&&Wr({inView:function(){e._wasPaused&&(e.play(),e._wasPaused=!1)},outOfView:function(){e._player.paused||(e._wasPaused=!0,e.pause())}}),this._initiateSticky(),this._invokePlayerInitCustomJS(),Gn.info('player - all services and features initiated')}},{key:'_publishLoad',value:function(){var e=this;Gn.info('Player loaded');var t=this._configuration.dple,i=!1,n=function(){i||(e._player.sendPlayerLoadEvent(),e._emit(uy.PLAYER_LOAD),e._clientEventsDispatcher.playerLoad({title:Br.current.title}),i=!0)};(function(){e._emit(uy.OPPORTUNITY,{extraData:{dlist:e._player.demands}}),e._player.sendPlayerOpportunityEvent()})(),t.enabled?(setTimeout(function(){return n()},Sy.secondsToMs(t.delay)),this._player.onAdImpression(function(){return n()})):n()}},{key:'_invokePlayerInitCustomJS',value:function(){var e=this._configuration.getCustomJSByHook('playerInit');if(e)try{Ay.invoke(e,function(t){return Gn.warn('Player-init customJS fail',t)},this)}catch(t){Gn.warn('CJS failure',t)}}},{key:'_initiateServices',value:function(){this._initExcoSdk(),this._initResizeObserver(),this._addListeners(),this._bootAds(),this._bootState(),this._bootContents(),this._bootComponents(),this._setInitialSizeBreakpoint(),this._setLogoPositionAttribute(),this._options.autoplay?this._options.autoplay.blocked&&this._onAutoplayBlocked(this._options.autoplay.blocked):Ad.detect(this._onAutoplayBlocked.bind(this)),this._initViewablePlayerLoadDispatcher(),this._initHeartBeatEventHandler(),wc({playerContainer:this._player.container})}},{key:'_initExcoSdk',value:function(){var e=this._configuration.excoSdk,t=e.id,i=e.enabled,n=e.triggerTimeout;i&&(this._excoSdk=new Wc({parentElement:this._rootElement.querySelector('[id*="'.concat(this._playerContainerId,'"]')),uiClass:'.exp-ui__wrapper',tagId:t,triggerTimeout:n,placementId:this._configuration.playerId,player:this._player,logger:Gn,isMobile:Fn.isMobile(),stickyChange:function(e){return Tr.subscribe(xr.ELEMENT.STICKY_CHANGED,e)}}),this._excoSdk.init())}},{key:'_initResizeObserver',value:function(){var e=this,t=new wy(function(t){var i=t[0];i&&e._player.resize()});t.observe(this._player.container)}},{key:'_initiateSticky',value:function(){var e=this;if(this._stickyConfig.enable&&!my.isAmp()){var t=function(){e._stickyElement=document.querySelector('[id*="'.concat(e._playerContainerId,'"')),e._sticky=new Uy,e._triggerSticky(),(e._stickyConfig.isWideSticky||e._stickyConfig.positionInvertor)&&e._listenToUpperStickyEvents()};this._stickyConfig.delay.enabled?setTimeout(function(){return t()},Sy.secondsToMs(this._stickyConfig.delay.time)):t()}}},{key:'_listenToUpperStickyEvents',value:function(){var t=this,e=function(i){var e=(i.changedTouches||[])[0]||i,o=e.clientX,a=e.clientY;if(n=n||t._configuration.stickyCurrentPosition,(n.top>a||n.left>o)&&!t._stickyConfig.inBoundaries){var r=qi(qi({},t._stickyConfig),{},{onResize:function(){return t._player.resize()}});t._sticky.unset(t._stickyElement,r)}},i=function(e){t._staticInView||(n=e?n||t._configuration.stickyCurrentPosition:t._configuration.stickyCurrentPosition,void 0!==e&&null!==e&&(t._stickyConfig.isBiPositional?t._configuration.isPlayerBelowTheFold?n.bottom=window.innerHeight-e:n.top=e:t._stickyConfig.isTop?n.top=e:n.bottom=window.innerHeight-e),t._sticky.updatePosition(t._stickyElement,n))},n;if(this._stickyConfig.isAttachedToElement){var o=this._stickyConfig.isTop?this._configuration.stickyOffset.top.value:this._configuration.stickyOffset.bottom.value,a=document.querySelector(o);a&&dy.observeElementPosition(a,function(e){i(e)}),vy.insertStyleSheet(document.head,'\n        .pbs[data-pbs-position="sticky"][data-pbs-device="mobile"] .pbs__player {\n          transition: bottom 0.4s cubic-bezier(0, 0, 0, 1),\n                      top 0.4s cubic-bezier(0, 0, 0, 1);\n        }\n        .pbs[data-pbs-position="sticky"][data-pbs-device="mobile"] svg,\n        .pbs[data-pbs-position="sticky"][data-pbs-device="mobile"] .exp-ui__cta-button__text,\n        .pbs[data-pbs-position="sticky"][data-pbs-device="mobile"] .exp-ui__next-video-button-icon {\n          -webkit-transform: translate3d(0, 0, 0);\n        }\n      ')}if(this._stickyConfig.positionInvertor){var r=this._stickyConfig.positionInvertor.selector,s=document.querySelector(r);s&&dy.observeStickyInvertor(s,function(e){var n=e.invert;t._configuration.invertSticky(n),i()})}this._sticky.onSet(function(){i(),my.window().addEventListener('click',e),my.window().addEventListener('touchstart',e)}),this._sticky.onUnset(function(){i(),my.window().removeEventListener('click',e),my.window().removeEventListener('touchstart',e)})}},{key:'_getBoundariesContainer',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'';return document.querySelector(e)}},{key:'_triggerSticky',value:function(){var e=this;this._stickyConfig.inBoundaries?setTimeout(function(){var t=e._getBoundariesContainer(e._stickyConfig.inBoundaries);t?dy.observeStickyBoundaries({rootRef:e._rootElement,boundariesRef:t,stickyConfig:e._stickyConfig,inViewFn:function(){return e._onStaticInView()},outViewFn:function(){return e._onStaticOutOfView()}}):e._forceStickyDisadle=!0}):this._stickyConfig.stickyOnly?this._onStaticOutOfView():(this._staticPlayerViewabilityObserver=new by({threshold:this._stickyConfig.isMainAsSticky?1:.5}),this._staticPlayerViewabilityObserver.observe(this._rootElement,this._onStaticInView.bind(this),this._onStaticOutOfView.bind(this)))}},{key:'_addListeners',value:function(){var e=this;Tr.subscribe(xr.ELEMENT.STICKY,this._onSticky.bind(this)),Tr.subscribe(xr.ELEMENT.STATIC,this._onStatic.bind(this)),Tr.subscribe(xr.ELEMENT.STICKY_CLOSE,this._onStickyClose.bind(this)),this._player.onPlayerStart(this._onPlayerStart.bind(this)),this._player.onContentStart(this._onContentStart.bind(this)),this._player.onContentEnded(this._onContentEnded.bind(this)),this._player.onNextClicked(this._onNextClicked.bind(this)),this._player.onPrevClicked(this._onPrevClicked.bind(this)),this._player.onContentProgress(this._onContentProgress.bind(this)),this._player.onAdImpression(this._onAdImpression.bind(this)),this._player.onAdSkipped(this._onAdSkipped.bind(this)),this._player.onAdRequest(this._onAdRequest.bind(this)),this._player.onAdCompleted(function(){return e._clientEventsDispatcher.adCompleted({})})}},{key:'_shouldSetSticky',value:function(){return!this._staticInView&&!this._isSticky&&!this._forceStickyDisadle}},{key:'_onContentStart',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.data;t=void 0===t?{}:t;var i=t.source;Br.updateContent(i),this._contentStarted=!0,this._shouldSetSticky()&&this._onStaticOutOfView();var n=Br.currentContext.join(',');this._emit(uy.CONTENT.START,{enrichedData:{irisContext:n,mcdContentId:Br.current.id},extraData:{irisContext:n}})}},{key:'_onPlayerStart',value:function(){this._emit(uy.CONTENT.PLAYER_START,{enrichedData:{mcdContentId:Br.current.id}})}},{key:'_onContentProgress',value:function(e){this._emit(uy.CONTENT.CONTENT_PROGRESS,{enrichedData:{mcdContentId:Br.current.id,contentProgress:e}})}},{key:'_onContentEnded',value:function(){this._emit(uy.CONTENT.COMPLETE,{enrichedData:{mcdContentId:Br.current.id}})}},{key:'_onNextClicked',value:function(){this._emit(uy.CONTENT.NEXT_BUTTON_CLICKED,{enrichedData:{mcdContentId:Br.current.id}})}},{key:'_onPrevClicked',value:function(){this._emit(uy.CONTENT.PREVIOUS_BUTTON_CLICKED,{enrichedData:{mcdContentId:Br.current.id}})}},{key:'_onAdImpression',value:function(e){this._handleWhiteOpsTrackingOnAdImpression(e),this._tagPlayerSessionOnFirstAdImpression(e);var t=this._recalculateCpmWithFactor({cpm:e.cpm,adSourceOwner:e.adSourceOwner});this._sendExternalImpressionCallback({realTimeCpm:t});var i=Ly(qi({},e));this._emit(uy.AD.IMPRESSION,{extraData:qi({},i),enrichedData:qi(qi({},i),{},{cpmrealtime:t,mcdContentId:Br.current.id})}),this._adStarted=!0,this._shouldSetSticky()&&this._onStaticOutOfView(),this._player.isInView&&this._player.sendViewableImpressionEvent()}},{key:'_recalculateCpmWithFactor',value:function(e){var t=e.cpm,i=e.adSourceOwner;if(this._configuration.reportCpmOnImpression){var n=i===_y.PUBLISHER,o=this._configuration.getCpmPredictionFactor({isPublisherDemand:n}),a=this._configuration.getChannelRate({isPublisherDemand:n});return Iy(t,a,o)}return t}},{key:'_sendExternalImpressionCallback',value:function(e){var t=e.realTimeCpm,i=this._configuration.reportCpmOnImpression?{cpm:t}:{};this._clientEventsDispatcher.adImpression(i);var n=vy.getGlobalFunctionFromAttribute(this._rootElement,'onImpression');n&&(n(i),this._emit(uy.AD.EXTERNAL_IMPRESSION_CALLBACK,{extraData:i}))}},{key:'_handleWhiteOpsTrackingOnAdImpression',value:function(e){var t=this._configuration.whiteOps;if(null!==t&&void 0!==t&&t.enabled&&xy.shouldSample(t.sampleRate)){var i=null===(n=this._customDimensions.urlParams)||void 0===n||null===(o=n.find(function(e){return e.name===bn.UTM_NAMES.UTM_SOURCE}))||void 0===o?void 0:o.value,n,o;vy.fireImgElementEvent(Ey.getWhiteOpsPixelSrc({adSourceId:e.adSourceId,utmSource:i,host:my.host(),pageLoadUid:this._customDimensions.pageLoadUid,isMobile:Fn.isMobile()}))}}},{key:'_tagPlayerSessionOnFirstAdImpression',value:function(e){this._isSessionTaggedAsPublisherDemand||e.adSourceOwner!==_y.PUBLISHER||(this._player.sendPublisherDemandSessionEvent(),this._emit(uy.PUBLISHER_DEMAND_SESSION),this._isSessionTaggedAsPublisherDemand=!0)}},{key:'_onAdSkipped',value:function(){this._emit(uy.AD.SKIPPED)}},{key:'_onAdRequest',value:function(){this._isFirstAdRequestEventFired||this._emit(uy.MCD_AD_REQUEST),this._isFirstAdRequestEventFired=!0}},{key:'_bootAds',value:function(){ul.init({playerprovider:this._player,eventDispatchers:this._getAdListeners()})}},{key:'_getAdListeners',value:function(){var e=[];if(xy.shouldSample(za.moatSamplingRate)){var t=this._getMoatDispatcher();e.push(t)}else Gn.info('Moat turned off due to sampling of '.concat(za.moatSamplingRate,'%.'));return e}},{key:'_getMoatDispatcher',value:function(){var e=this._getMoatConfig();return new Z_(e)}},{key:'_getMoatConfig',value:function(){var e={container:this._player.container,duration:j_.DURATION,partnerCode:j_.PARTNER_CODE,url:my.url(),channelId:za.channelId,host:my.host()};return e}},{key:'_bootState',value:function(){Ml.set(this._player)}},{key:'_bootContents',value:function(){Br.listen({player:this._player}),Br.onchange(this._onContentChange.bind(this)),vy.setAttributes(this._player.videoTag,{poster:Br.current.poster})}},{key:'_onContentChange',value:function(e){var t={content:{index:Br.currentIndex,next:Br.nextContent,current:e||Br.current,length:Br.get().length,all:Br.get(),textualFeed:Br.textualFeed}};t.rss=Br.containsCTAActions(e),this._playerUI.setState(t),vy.setAttributes(this._player.videoTag,{poster:Br.current.poster})}},{key:'_bootComponents',value:function(){var e=this._rootElement.querySelector('#'.concat(this._playerContainerId));vy.insert(e,'div',{class:'pbs__ui'}),this._bootUiHub(),this._configuration.isDisplayAdEnabled&&this._bootDisplayAdComponent()}},{key:'_bootUiHub',value:function(){var e=this,t=!1,i=Br.current&&Br.current.id?Br.current:Br.nextContent;this._playerUI=new V_({state:{isMainAsSticky:this._stickyConfig.isMainAsSticky,stickyPosition:this._stickyConfig.position.raw,videoTeasers:this._configuration.videoTeasers,rss:this._configuration.rss,content:{index:Br.currentIndex,next:Br.nextContent,current:i||Br.current,length:Br.get().length,all:Br.get(),textualFeed:Br.textualFeed}},playerProvider:this._player,config:this._configuration,playerContainerId:this._playerContainerId}),this._playerUI.addEventListener(f.EVENTS.PAUSE,function(){e._emit(uy.CONTENT.PAUSE_BUTTON_CLICKED,{enrichedData:{mcdContentId:Br.current.id}}),e.pause()}).addEventListener(f.EVENTS.PLAY,function(){e._emit(uy.CONTENT.PLAY_BUTTON_CLICKED,{enrichedData:{mcdContentId:Br.current.id}}),e.play()}).addEventListener(f.EVENTS.MUTE,function(){e._emit(uy.CONTENT.MUTE_BUTTON_CLICKED,{enrichedData:{mcdContentId:Br.current.id}}),e.mute()}).addEventListener(f.EVENTS.UNMUTE,function(){e._emit(uy.CONTENT.UNMUTE_BUTTON_CLICKED,{enrichedData:{mcdContentId:Br.current.id}}),e.unmute()}).addEventListener(f.EVENTS.NEXT,function(){e._emit(uy.CONTENT.NEXT_BUTTON_CLICKED,{enrichedData:{mcdContentId:Br.current.id}}),e.next()}).addEventListener(f.EVENTS.PREVIOUS,function(){e._emit(uy.CONTENT.PREVIOUS_BUTTON_CLICKED,{enrichedData:{mcdContentId:Br.current.id}}),e.prev()}).addEventListener(f.EVENTS.SKIP_AD,function(){return e.skipAd()}).addEventListener(f.EVENTS.SEEK,function(t){var i=t.time;return e.setTime(i)}).addEventListener(f.EVENTS.PAGINATE,function(t){var i=t.index;e._player.play(),e._player.setContentByIndex(i)}).addEventListener(f.EVENTS.CTA,function(t){var i=t.url;i?e._sendCtaClick(i,Br.currentIndex):e._onCTAClick()}).addEventListener(f.EVENTS.POPUP_OPEN,function(){e._staticInView||(e._onStaticInView(),t=!0),e._playerUI.setState({popup:!0})}).addEventListener(f.EVENTS.POPUP_CLOSE,function(){t&&(e._onStaticOutOfView(),t=!1),e._playerUI.setState({popup:!1})}).addEventListener(f.EVENTS.FULLSCREEN,function(t){var i=t.isFullscreen;e._playerUI.setState({isFullscreen:i})}).addEventListener(f.EVENTS.CLOSE_STICKY,function(){e._onCloseButtonClickCallback()})}},{key:'_onCTAClick',value:function(){if(Br.isCurrentActionCTA()){var e=Br.action,t=e.data;t=void 0===t?{}:t;var i=t.url,n=e.index;this._sendCtaClick(i,n)}}},{key:'_sendCtaClick',value:function(e,t){var i=vc.getCTARedirectURL({url:e,index:t,urlParams:this._configuration.reporting.passThroughURLParams,attributes:qi(qi({},this._eventDispatcher.baseAttributes),{},{mcdContentId:Br.current.id})});this._player.sendCTAClickedEvent(),this._clientEventsDispatcher.ctaClicked({title:Br.current.title}),my.redirect(i)}},{key:'_bootDisplayAdComponent',value:function(){this._displayAd=new $g({config:this._config,parentElementId:this._playerContainerId,channelId:this._configuration.channelId,deviceType:Fn.getMobileOrDesktopDevice(),player:this._player,playerUI:this._playerUI,globalPubSub:Tr,logger:Gn}),this._displayAd.start()}},{key:'_setInitialSizeBreakpoint',value:function(){var e=yl.playerContainerElement,t=vy.dimensions(e),i=t.width,n=wl.getBreakpoint(i);yl.setDataAttribute('size',n)}},{key:'_loadCSS',value:function(){$_.a.use(),fy.empty(this._configuration.customCSS)||vy.insertStyleSheet(window.document.head,this._configuration.customCSS)}},{key:'_setLogoPositionAttribute',value:function(){za.logo&&za.logoPosition&&yl.setDataAttribute('logo-pos',za.logoPosition)}},{key:'_onSticky',value:function(){this._playerUI.setState({sticky:!0}),this._player.resize()}},{key:'_onStatic',value:function(){this._playerUI.setState({sticky:!1}),this._player.resize()}},{key:'_onStickyClose',value:function(){this._emit(uy.STICKY_CLOSE_BUTTON_CLICKED),this._clientEventsDispatcher.playerClosed({title:Br.current.title}),this._setPlayerPlaybackModeOnStickyClose(),this._stickyConfig.isNoNPersistentPerSession&&this._persistStickyCloseForSession(),this._stickyConfig.stickyOnly&&this.close()}},{key:'_setPlayerPlaybackModeOnStickyClose',value:function(){var e=this._stickyConfig.closeButtonBehavior;e!==cy.PLAYER_BEHAVIOR_ON_CLOSE.CONTINUE&&this.pause()}},{key:'_persistStickyCloseForSession',value:function(){hy.getSessionItem(cy.STICKY_CLOSE_STORAGE_KEY)||(hy.setSessionItem(cy.STICKY_CLOSE_STORAGE_KEY,!0),Gn.info('Persist sticky close storage parameter set.'))}},{key:'_onAdBlockDetected',value:function(){Gn.info('Ad-blocker detected'),this._emit(uy.AD_BLOCKER_DETECTED)}},{key:'_onAutoplayBlocked',value:function(e){Gn.info('Autoplay block detected - '.concat(e)),this._emit(uy.AUTOPLAY_BLOCKED),this._configuration.isDisplayAdEnabled&&1===this._configuration.displayAdVersion&&this._displayAd&&this._configuration.displayAdShouldTriggerOnAutoplayBlock&&this._configuration.isAutoPlay()&&this._displayAd.trigger()}},{key:'_calcRemainingWidthForGallery',value:function(){return this._stickyConfig=this._configuration.sticky,[cy.POSITION.UPPER_NATIVE,cy.POSITION.UPPER_LARGE,cy.POSITION.UPPER_SMALL,cy.POSITION.BOTTOM_NATIVE,cy.POSITION.BOTTOM_LARGE,cy.POSITION.BOTTOM_SMALL].includes(this._configuration.stickyPosition)?Ty.calculateRemainingWidthFromViewPort(this._stickyConfig.widthSize):'25%'}},{key:'_calcStickyHeight',value:function(){return''.concat(Ty.calculateHeightUponRatio(this._stickyConfig.widthSize,16/9),'px')}},{key:'_updatePlayerCssAccordingToConfig',value:function(){var e=this._configuration,t=e.cta,i=e.font,n=e.pagingColor,o=e.titleBackgroundColor,a=e.titleTextColor,r=e.progressBarColor,s=e.transitionBackgroundColor,l=e.playButtonColor,d=Py(n)||{r:0,g:0,b:0},p=Py(r)||{r:0,g:0,b:0},u=Py(o)||{r:0,g:0,b:0},_=Py(s)||{r:0,g:0,b:0},c=this._configuration.playerSize||{},g=c.width||'100%',y=c.height||'auto',m=this._getPlayerMargins(c),f=this._calcRemainingWidthForGallery(),h=this._calcStickyHeight(),v=this._configuration.sticky.upperStickyBackgroundColor,b;this._adjustWidth(c.margin||{}),this._importFont(i),vy.insertStyleSheet(my.window().document.head,'.pbs[id="'.concat(this._config._id,'"],\n      .pbs[embed-id="').concat(this._config._id,'"] {\n        ').concat('auto'===y?'':'overflow: hidden;','\n      --pbs-width:').concat(g,';\n      --pbs-height:').concat(y,';\n      --pbs-margin-top:').concat(m.top,';\n      --pbs-margin-right:').concat(m.right,';\n      --pbs-margin-bottom:').concat(m.bottom,';\n      --pbs-margin-left:').concat(m.left,';\n      --pbs-color-progress-bar:').concat(r,';\n      --pbs-color-transition:').concat(s,';\n      --pbs-color-transition-rgb:').concat(_.r,', ').concat(_.g,', ').concat(_.b,';\n      --pbs-color-play-button:').concat(l,';\n      --pbs-color-progress-bar-rgb:').concat(p.r,', ').concat(p.g,', ').concat(p.b,';\n      --exco-paging-color-rgb:').concat(d.r,', ').concat(d.g,', ').concat(d.b,';\n      --exco-paging-color:').concat(n,';\n      --exco-cta-color-sticky:').concat(null===t||void 0===t||null===(b=t.button)||void 0===b?void 0:b.color,';\n      --exco-title-text-color:').concat(a,';\n      --exco-title-background-color:').concat(o,';\n      --exco-title-background-color-rgb:').concat(u.r,', ').concat(u.g,', ').concat(u.b,';\n      --exco-remaining-width-sticky:').concat(f,';\n      --exco-sticky-player-height:').concat(h,';\n      --exco-font-family:').concat(i.family,';\n      --exco-font-weight:').concat(i.weight,';\n      --exco-upper-sticky-background-color:').concat(v,';\n      --exco-video-gallery-height: 0px;\n       }'))}},{key:'_importFont',value:function(e){e&&'Arial'!==e&&vy.insertStyleSheet(my.window().document.head,'@import url(\'https://fonts.googleapis.com/css2?family='.concat(e.family,'&display=swap\');'))}},{key:'_getPlayerMargins',value:function(e){var t=this._configuration.cta||{},i=this._configuration.videoGallery||{},n=Br.anyContentContainsCTAActions()||(t.button||{}).enabled,o=i.enabled&&'below'===i.position,a=Fn.isMobile()&&(null===(r=this._configuration.videoTitle)||void 0===r?void 0:r.enabled),r;if(!e.margin&&!e.width&&!n&&!o)return{top:'unset',right:'unset',bottom:'unset',left:'unset'};var s=Object.assign({},e.margin);return s.top=''.concat(s.top||0,'px'),s.right=s.right?''.concat(s.right,'px'):''.concat(s.left?'0px':'auto'),s.left=s.left?''.concat(s.left,'px'):''.concat('auto'===s.right?'auto':'0px'),o||a?s.bottom=''.concat(s.bottom||0,'px'):n&&(s.bottom=s.bottom||n?''.concat(s.bottom||25,'px'):'0px'),s}},{key:'_adjustWidth',value:function(e){var t=e.left,i=void 0===t?0:t,n=e.right,o=void 0===n?0:n;vy.insertStyleSheet(my.window().document.head,'\n    .pbs {\n      width: calc(100% - '.concat(parseInt(i,10)+parseInt(o,10),'px)\n    }\n    '))}},{key:'_initViewablePlayerLoadDispatcher',value:function(){var e=new F_({target:this._player.container,timeInView:Sy.secondsToMs(2),onViewability:this._onPlayerLoadViewability.bind(this)});e.init()}},{key:'_onPlayerLoadViewability',value:function(){this._player.sendViewablePlayerLoadEvent(),this._emit(uy.VIEWABLE_PLAYER_LOAD)}},{key:'_onHeartBeatCallback',value:function(){this._player.sendHeartBeatEvent(zy)}},{key:'_initHeartBeatEventHandler',value:function(){var e={interval:Sy.secondsToMs(zy),timeout:Sy.hoursToMs(1),callback:this._onHeartBeatCallback.bind(this)};W_.init(e)}},{key:'_setStaticMode',value:function(){var e=this;this._isSticky=!1,this._sticky.unset(this._stickyElement,qi(qi({},this._stickyConfig),{},{onResize:function(){return e._player.resize()}})),this._dispatchStickyChangeEvent()}},{key:'_onStaticInView',value:function(){this._staticInView=!0,this._staticPlayerWasInView=!0,this._setStaticMode()}},{key:'_onStaticOutOfView',value:function(){var e=this;this._staticInView=!1;var t=function(){return e._contentStarted||e._adStarted};if(!function(){return!e._sticky||!e._configuration.triggerStickyOnLoad&&e._configuration.isAutoPlay()&&!t()}()){var i=this._configuration.sticky,n=i.isMainAsSticky,o=i.isWideSticky,a=qi(qi({},this._configuration.sticky),{},{isCloseButtonClicked:this._stickyCloseButtonClicked,onCloseButtonClickCallback:this._onCloseButtonClickCallback.bind(this),staticPlayerSize:vy.dimensions(this._player.container),staticPlayerWasInView:this._staticPlayerWasInView,onResize:this._onStickyResize,ignoreSizes:Fn.isMobile()&&n&&o}),r=this._sticky.shouldShowSticky(a);r&&(this._isSticky=!0,this._sticky.set(this._stickyElement,a),this._dispatchStickyChangeEvent())}}},{key:'_dispatchStickyChangeEvent',value:function(){var e={isSticky:this._isSticky};Tr.publish(xr.ELEMENT.STICKY_CHANGED,e)}},{key:'_onCloseButtonClickCallback',value:function(){this._staticPlayerWasInView=!1,this._stickyConfig.stickyOnly?this._sticky.hideStatic(this._rootElement):this._setStaticMode(),this._stickyCloseButtonClicked=!0,Tr.publish(xr.ELEMENT.STICKY_CLOSE)}}]),e}(),Fy=i(28),Wy=function(e){var t=Fy.queries(e),i=Fy.queriesToObject(t);return Object.entries(i).filter(function(e){var t=wn()(e,2),i=t[0],n=t[1];return i.includes('exco-')}).reduce(function(e,t){var i=wn()(t,2),n=i[0],o=i[1];return e[n.replace('exco-','')]=o,e},{})},Hy=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=Object.keys(e),n=Object.keys(t),o=i.filter(function(e){return n.includes(e)}).reduce(function(i,n){return Gi(Gi({},i),t[n](e[n]))},{}),a=i.filter(function(e){return!n.includes(e)}).reduce(function(t,i){return Gi(Gi({},t),{},vn()({},i,e[i]))},{});return Gi(Gi({},a),o)},qy=function(){return{template:function(){return{}},sticky:function(e){return{enableMinimize:'true'===e.toLowerCase(),disableOnMobile:'true'!==e.toLowerCase()}},"sticky-position-desktop":function(e){return{minimizeLocation:e}},"sticky-position-mobile":function(e){return{minimizeLocationMobile:e}},"sticky-offset-top":function(e){return{sticky:{offsetMobile:{top:{type:'pixels',value:e}}}}},"sticky-offset-bottom":function(e){return{sticky:{offsetMobile:{bottom:{type:'pixels',value:e}}}}},ads:function(e){var t='true'===e.toLowerCase();return t?{monetization:!0}:{monetization:!1,adsConfig:{displayAd:null,displayAdV2:null}}}}},Ky=function(e){return Hy(Wy(e),qy())},Gy=fn.constants.PLACEMENT_PLAYER_LOCATION,jy=fn.utils.is,Qy=fn.utils.elements,Xy=fn.utils.playerUtil.getPlayerPlaceHolder,Zy=function(e){return document.querySelector(e)},Jy=function(e,t,i){switch(e){case Gy.BEFORE:Qy.insertBeforeSibling(i,t);break;case Gy.AFTER:Qy.insertNextSibling(i,t);break;case Gy.FIRST_CHILD:Qy.insertFirstChild(i,t);break;case Gy.LAST_CHILD:Qy.appendChild(i,t);break;default:}},$y=function(e,t){var i=Xy(t),n=Zy(e.selector);jy.empty(n)||Jy(e.position,i,n)},em=i(49),tm=function(e){return Object(bc.getTargetingValues)('lineItems',e).map(function(e){return e.split('=')[0]})},im=function(e){var t='//'.concat(Aa.environment.getEnvPrefix(),'lineitems.ex.co');fetch(''.concat(t,'/api/v1/lineitems'),{method:'POST',headers:{"Content-Type":'application/json'},body:JSON.stringify(e)})},nm=function(e,t,i){var n=[],o=null;!Aa.is.nullOrUndefined(window.googletag)&&Aa.is['function'](window.googletag.pubads)&&window.googletag.pubads().addEventListener('slotRenderEnded',function(a){var r=a.isEmpty,s=a.lineItemId;!1!==r||Aa.is.nullOrUndefined(s)||(i(),!e.includes(s.toString())&&(o&&(clearTimeout(o),o=null),!1===n.includes(s)&&n.push(s),o=setTimeout(function(){return t(n)},2e3)))})},om={report:function(e){return new Promise(function(t){var i=Object(em.a)(),n=(e.lineItems||[]).map(function(e){return e.id}),o=i.filter(function(e){return!1===n.includes(e)}),a={playerId:e._id,keys:tm(e),pageUrl:Aa.environment.url()},r=1500,s=+new Date,l=!1,d=function(e){l||(console.log(''.concat(e,' - after ').concat((new Date-s)/1e3,'s')),l=!0,t())};o.length&&im(Qi(Qi({},a),{},{ids:o})),nm(n,function(e){im(Qi(Qi({},a),{},{ids:e}))},function(){d('[exco-log] Line Items resolved by load')}),setTimeout(function(){d('[exco-log] Line Items resolved by timeout - '.concat(r/1e3,'s'))},r)})},isEnabled:function(e){return Object(bc.isTargetingEnabled)('lineItems',e)}},am=fn.constants.DATA_EVENTS.DATA_EVENTS_NAMES,rm=fn.utils.is,sm=fn.utils.objects,lm=fn.utils.jsParser,dm=fn.utils.environment,pm=fn.services.DataEventsDispatcher,um=fn.services.reportingDimensions.getAllDimensions,_m=function(){function e(t){_n()(this,e),this._playerId=ao(t),this._config=t}return gn()(e,[{key:'render',value:function(){var e=pn()(mn.a.mark(function e(){var t=arguments,i;return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=0<t.length&&void 0!==t[0]?t[0]:{},rm.empty(this._config)||this._existingPlayerOnPage()){e.next=16;break}if(!om.isEnabled(this._config)){e.next=5;break}return e.next=5,om.report(this._config);case 5:return e.next=7,this._initConfigWithABTestAndTargetingConfigs(i);case 7:this._config=e.sent,this._config=this._applyURLConfig(),this._adjustPlayerLocation(),this._invokeSDKLoadedCustomJS(),this._customDimensions=this._getCustomDimensions(),this._eventDispatcher=this._getEventDispatcher(),this._dispatchSDKLoadedEvent(),this._config.isBot&&this._dispatchBotFoundEvent(),this._createPlayer(i);case 16:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'_dispatchBotFoundEvent',value:function(){this._eventDispatcher.send(am.PLAYER_BLOCKED,{enrichedData:{botName:this._config.botName}})}},{key:'_getPlayerElement',value:function(){return dm.document().querySelector('[id*="'.concat(this._playerId,'"'))}},{key:'_initConfigWithABTestAndTargetingConfigs',value:function(){var e=pn()(mn.a.mark(function e(t){var i;return mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ignoreABTests){e.next=2;break}return e.abrupt('return',this._config);case 2:return sc.generate(ho(this._config)),e.prev=3,i=sm.merge([{},this._config,sc.templateConfig],{useSourceArray:function(e,t){return sc.templateConfig.targetingConfigs===t}}),e.next=7,kc.applyTargetedConfigs(i,{country:this.country,lineItems:this._config.lineItems},Gn);case 7:return e.abrupt('return',e.sent);case 10:return e.prev=10,e.t0=e['catch'](3),e.abrupt('return',this._config);case 13:case'end':return e.stop();}},e,this,[[3,10]])}));return function(){return e.apply(this,arguments)}}()},{key:'_applyURLConfig',value:function(){return sm.merge([{},this._config,Ky(dm.url())])}},{key:'_adjustPlayerLocation',value:function(){var e=vo(this._config);rm.empty(e)||$y(e,this._playerId)}},{key:'_getCustomDimensions',value:function(){var e=this._getPlayerElement(),t=xo(this._config);return um({country:Ao(this._config),subIdParamName:Po(this._config),configuredSubIdValue:t.subId,version:Ka.a,abTestName:sc.name,abTestWeight:sc.weight,device:Fn.getDevice()},e)}},{key:'_getEventDispatcher',value:function(){var e=yc.getEventDispatcherConfig(this._config);return e.customDimensions=this._customDimensions,new pm(e)}},{key:'_dispatchSDKLoadedEvent',value:function(){this._eventDispatcher.send(am.SDK_LOADED)}},{key:'_invokeSDKLoadedCustomJS',value:function(){var e=ba(this._config,'sdkLoaded');if(e)try{lm.invoke(e)}catch(t){}}},{key:'_createPlayer',value:function(e){var t=new Yy({options:e,config:this._config,eventDispatcher:this._eventDispatcher,customDimensions:this._customDimensions});t.init()}},{key:'_existingPlayerOnPage',value:function(){var e=this._getPlayerElement();return e&&!!e.getAttribute('data-pbs-root')&&this._config.restrictSinglePlayerPerPage}}]),e}(),cm=window.__EXCO||{},gm=window.STREAM_CONFIGS[window.STREAM_ID],ym=new _m(gm),mm,fm;cm.STREAM_SDK_CORE?gm.init=function(e){return ym.render(Object.assign({ignoreABTests:!0},e))}:ym.render()},function(e,t,i){'use strict';function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e){for(var t=1,i;t<arguments.length;t++)i=null==arguments[t]?{}:arguments[t],t%2?n(Object(i),!0).forEach(function(t){h()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))});return e}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function r(e){for(var t=1,i;t<arguments.length;t++)i=null==arguments[t]?{}:arguments[t],t%2?a(Object(i),!0).forEach(function(t){h()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))});return e}function s(e){var t=e.div;return{EVENTS:Z,playerLoad:function(){return J(t,Z.PLAYER_LOAD)}}}function l(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.constantData;return{EVENT_TYPE:te,EVENTS:ie,playerLoad:oe(ie.PLAYER_LOAD,t),adImpression:oe(ie.AD_IMPRESSION,t),adCompleted:oe(ie.AD_COMPLETED,t),playerClosed:oe(ie.PLAYER_CLOSED,t),ctaClicked:oe(ie.CTA_CLICKED,t),playerMuted:oe(ie.PLAYER_MUTED,t),playerUnmuted:oe(ie.PLAYER_UNMUTED,t),playerPlaying:oe(ie.PLAYER_PLAYING,t),playerPaused:oe(ie.PLAYER_PAUSED,t)}}i.r(t),i.d(t,'constants',function(){return y}),i.d(t,'utils',function(){return m}),i.d(t,'services',function(){return _}),i.d(t,'ui',function(){return g});var d={};i.r(d),i.d(d,'getURLReportingParams',function(){return I}),i.d(d,'getSubId',function(){return A}),i.d(d,'getAllDimensions',function(){return O});var p={};i.r(p),i.d(p,'arrangeDimensionsParamsForDataEvents',function(){return N}),i.d(p,'arrangeImpressionEventForData',function(){return U});var u={};i.r(u),i.d(u,'CLEAN_IO_SDK_URL',function(){return B}),i.d(u,'inject',function(){return V});var _={};i.r(_),i.d(_,'reportingDimensions',function(){return d}),i.d(_,'AbTests',function(){return G}),i.d(_,'EnvVars',function(){return Q}),i.d(_,'dataEvents',function(){return p}),i.d(_,'cleanio',function(){return u}),i.d(_,'DivEventDispatcher',function(){return s}),i.d(_,'ClientSideEventDispatcher',function(){return l}),i.d(_,'DataEventsDispatcher',function(){return X}),i.d(_,'targeting',function(){return z}),i.d(_,'consent',function(){return Y});var c={};i.r(c),i.d(c,'create',function(){return qe}),i.d(c,'remove',function(){return Ke}),i.d(c,'show',function(){return Ge}),i.d(c,'hide',function(){return je});var g={};i.r(g),i.d(g,'Sticky',function(){return Ve}),i.d(g,'Placeholder',function(){return ae.a}),i.d(g,'Headline',function(){return Xe});var y=i(5),m=i(0),f=i(4),h=i.n(f),v=i(48),b=i.n(v),x=i(20),k=i.n(x),E=i(24),S=i.n(E),T=i(34),C=['subIdParamName','configuredSubIdValue'],P={pageLoadUid:'pageLoadUid',urlParams:'urlParams',subId:'subId',integrationType:'integrationType',country:'country',version:'version',device:'device',abTestName:'abTestName',abTestWeight:'abTestWeight'},I=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=m.objects.entries(e).map(function(e){var t=S()(e,2),i=t[0],n=t[1];return{name:m.strings.toUnderscore(i),value:n}}),i=m.objects.entries(T.UTM_NAMES).map(function(e){var t=S()(e,2),i=t[0],n=t[1];return n}).filter(function(i){return t.every(function(t){return t.name!==i})}).filter(function(e){return!!m.environment.param(e)}).map(function(e){return{name:e,value:m.environment.param(e)}});return[].concat(k()(t),k()(i))},A=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:'',t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,i=m.is.element(t)&&m.elements.getGlobalFunctionFromAttribute(t,'subid-function'),n=m.is['function'](i)&&i(),o=n||m.environment.param(e);return o||void 0},w=function(e){var t=m.elements.getAttributeAsJson(e,'data-exs-config')||{},i=t.reporting,n=void 0===i?{}:i,o=n.subId,a=Object.assign({},n);return delete a.subId,{subId:o,urlParams:a}},O=function(e,t){var i=e.subIdParamName,n=e.configuredSubIdValue,a=void 0===n?null:n,r=b()(e,C),s=w(t);return m.objects.mapExistingData(P,o(o({},r),{},{pageLoadUid:m.environment.getPageLoadUid(),urlParams:I(s.urlParams),subId:s.subId||a||A(i,t),integrationType:m.environment.getIntegrationType()}))},D=i(26),L=['urlParams'],M=D.DATA_EVENTS_ATTRIBUTES.DIMENSIONS_PARAMS_MAPPING,R=D.DATA_EVENTS_ATTRIBUTES.IMPRESSION_EVENT_ATTRIBUTES,N=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.urlParams,i=void 0===t?[]:t,n=b()(e,L),o=i.reduce(function(e,t){var i=t.name,n=t.value;return i in M&&(e[i]=n),e},{});return m.objects.mapExistingData(M,r(r({},n),o))},U=function(e){var t=e.adVolume,i=e.cpm,n=e.adSourceOwner,o=e.adSourceType,a=e.adSourceId,r=e.videoUrl,s=e.adDuration,l;return l={},h()(l,R.VOLUME,t),h()(l,R.CPM,i),h()(l,R.AD_SOURCE_OWNER,n),h()(l,R.AD_SOURCE_TYPE,o),h()(l,R.AD_SOURCE_ID,a),h()(l,R.VIDEO_SOURCE_URL,r),h()(l,R.DURATION,s),l},B='//d3j3yrurxcqogk.cloudfront.net/script.js',V=function(e){var t=m.elements.create('script',{type:'text/javascript',src:B});m.elements.insertFirstChild(e,t)},z=i(32),Y=i(45),F=i(2),W=i.n(F),H=i(3),q=i.n(H),K=function(){function e(){W()(this,e),this._templates=[],this.STORAGE_KEY='exco-template',this._storage=null,this._template=null,this._MAIN_TEMPLATE={name:'main',active:!0,weight:0,config:{}}}return q()(e,[{key:'generate',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.storageType,i=void 0===t?'session':t;return m.is.empty(e.templates)?this.template:(this._templates=this._addMainTemplate(e.templates),this._storage=this._createStorage(i),this._template=this._getTemplate(),this._storage.set(this.name),this.template)}},{key:'template',get:function(){return this._template||{}}},{key:'templateConfig',get:function(){return this.template.config||{}}},{key:'name',get:function(){return this.template.name||null}},{key:'weight',get:function(){return this.template.weight||null}},{key:'_createStorage',value:function(e){var t=this;return'session'===e?{get:function(){return m.storage.getSessionItem(t.STORAGE_KEY)},set:function(e){return m.storage.setSessionItem(t.STORAGE_KEY,e)}}:{get:function(){return m.storage.localStorageGet(t.STORAGE_KEY)},set:function(e){return m.storage.localStorageSet(t.STORAGE_KEY,e)}}}},{key:'_addMainTemplate',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=k()(e),i=t.filter(function(e){return!!e.active}).reduce(function(e,i){return e+ +i.weight},0);return this._MAIN_TEMPLATE.weight=100-i,t.push(this._MAIN_TEMPLATE),t}},{key:'_getTemplate',value:function(){var e;try{var t=this._getPredefinedTemplateName();e=this._templateNameExistsAndActive(t)?this._getTemplateByName(t):this._getTemplateByName(this._getRandomTemplateName())}catch(t){e={}}return e}},{key:'_getPredefinedTemplateName',value:function(){return m.environment.param(this.STORAGE_KEY)||this._storage.get()}},{key:'_getRandomTemplateName',value:function(){for(var e=this._getActiveTemplates(),n=Math.random(),o=0,a={},r=0,i;r<e.length;r++)if(i=e[r],o+=+i.weight/100,n<o){a=i;break}return a.name}},{key:'_getActiveTemplates',value:function(){return this._templates.filter(function(e){return e.active})}},{key:'_getTemplateByName',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'';return this._templates.find(function(i){return i.name===e})}},{key:'_templateNameExistsAndActive',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'';return this._getActiveTemplates().some(function(i){return i.name===e})}}]),e}(),G=K,j=function(e){try{return Function('"use strict"; return ('.concat(e,')'))()}catch(e){return null}},Q={readVars:function(e){var t={};e.forEach(function(e){var i=j(e.getter);m.is['function'](i)&&(t[e.name]=i())});var i=m.environment.getEXCONamespace();i.ENV_VARS=i.ENV_VARS||{},Object.assign(i.ENV_VARS,t)},applyEnvVars:function(e){var t=m.environment.getEXCONamespace(),i=e;return Object.keys(t.ENV_VARS).forEach(function(e){i=i.replace('{{'.concat(e,'}}'),t.ENV_VARS[e])}),i}},X=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};W()(this,e);var i=t.baseEventAttributes,n=t.getDynamicBaseEventAttributes,o=t.customDimensions;this._config=this._setConfig(t),this._getDynamicBaseEventAttributes=n;var a=N(o);this._baseAttributes=this._getBaseAttributes(i,a),this._samplingConfig=this._initSamplingConfig(this._config.tracking)||{},this._logger=new m.Logger({prefix:'[exco-log]'}),t.isLoggerEnabled&&this._logger.enable()}return q()(e,[{key:'send',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(this._shouldSendEvent(e)){var i=this._buildEventPayload(e,t);m.http.post(D.DATA_EVENTS_NAMES.END_POINTS.ANONYMOUS,null,this._onSendEventError.bind(this),JSON.stringify(i))}}},{key:'baseAttributes',get:function(){return this._baseAttributes}},{key:'_setConfig',value:function(e){return e?{tracking:e.tracking,reporting:e.reporting,country:e.country}:{}}},{key:'_getBaseAttributes',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i={parentUrl:m.environment.url(),pageLoadUid:m.environment.getPageLoadUid(),sessionParentHost:m.environment.host(),parentReferrer:m.environment.referrer(),integrationType:m.environment.getIntegrationType(),userId:m.cookies.getUserCookieId(),playerId:m.playerUtil.getPlayerId(),hl:m.environment.getHistoryLength(),extraData:t};return Object.assign(i,e,t),i}},{key:'_initSamplingConfig',value:function(e){var t={};if(e&&e.on){var i=Object.assign({},e);delete i.on,Object.keys(i).forEach(function(i){t[i]=m.sampling.shouldSample(+e[i])})}return t}},{key:'_shouldSendEvent',value:function(e){return!1!==this._samplingConfig[e]}},{key:'_onSendEventError',value:function(e){this._logger.error('Send event HTTP request failed',e)}},{key:'_buildEventPayload',value:function(e,t){var i=t.extraData,n=t.enrichedData,o=void 0===n?{}:n,a={},r={},s={};i&&Object.assign(r,i),o&&Object.assign(a,o),this._baseAttributes.extraData&&Object.assign(s,this._baseAttributes.extraData),Object.assign(s,r),Object.assign(s,{});var l=m.is['function'](this._getDynamicBaseEventAttributes)?Object.assign(this._getDynamicBaseEventAttributes()):{};return Object.assign({eventName:e},this._baseAttributes,{deltaTime:m.environment.getDeltaTime()},l,{extraData:s},a)}}]),e}(),Z={PLAYER_LOAD:'load'},J=function(e,t,i){e.dispatchEvent(new CustomEvent(t,{detail:i}))},$=i(44),ee=i(23),te='exco-event',ie={PLAYER_LOAD:'player-load',AD_IMPRESSION:'ad-impression',AD_COMPLETED:'ad-completed',PLAYER_CLOSED:'player-closed',CTA_CLICKED:'cta-clicked',PLAYER_MUTED:'player-muted',PLAYER_UNMUTED:'player-unmuted',PLAYER_PLAYING:'player-playing',PLAYER_PAUSED:'player-paused'},ne=function(e){var t=e.name,i=e.metadata,n=void 0===i?{}:i;return{type:te,name:t,metadata:n}},oe=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Object($.postToAllParentFrames)(ee.a.window(),ne({name:e,metadata:Object.assign({},t,i)}))}},ae=i(46),re=i(8),se=i(63),le=i.n(se),de=i(64),pe=i.n(de),ue=function(e){var t=m.elements.getElementId(e);return''.concat(t,'-placeholder')},_e=function(e){var t=ue(e);return document.querySelector('#'.concat(t))},ce=function(e,t,i){m.elements.setStyles(e,{width:''.concat(t.toString(),'px'),height:''.concat(i.toString(),'px')})},ge=function(e,t,i){m.elements.setStyles(e,{width:''.concat(t,'px'),height:''.concat(i,'px'),backgroundColor:'grey'})},ye=function(e,t,i){var n=i.showPlacementOnAdOnly,o=ue(t);m.elements.setAttributes(e,{id:o,class:'exco_sticky-placement'}),n&&m.elements.setAttributes(e,{class:'exco_sticky-placement-show-on-ad-only'})},me={get:_e,create:function(e,t){var i=m.elements.dimensions(t),n=i.width,o=i.height,a=_e(t);return a?ce(a,n,o):(a=document.createElement('div'),ye(a,t,e),ge(a,n,o),m.elements.insertBeforeSibling(t,a)),a},hide:function(e){var t=_e(e);t&&ce(t,0,0)}},fe=function(e,t){Object.keys(e.dataset).forEach(function(i){t.dataset[i]='pbsPosition'===i?'sticky':e.dataset[i]})},he=function(e){return'sticky'===e.dataset.pbsPosition},ve=function(e,t){t&&he(t)&&m.elements.insertBeforeSibling(me.get(e),e)},be=function(e,t){t&&(!Object.keys(t.dataset).length&&(fe(e.parentNode,t),m.elements.addClass(t,e.parentNode.className)),m.elements.insertFirstChild(t,e))},xe={TOP:'top',BOTTOM:'bottom',LEFT:'left',RIGHT:'right'},ke=function(e){var t=e.currentWidth,i=void 0===t?0:t,n=e.minWidth,o=void 0===n?0:n;return Math.min(ee.a.document().body.clientWidth-30,Math.max(i,o,o?y.STICKY.MINIMUM_WIDTH_SIZE_V2:y.STICKY.MINIMUM_WIDTH_SIZE))},Ee=function(e,t){var i=t.vPosition,n=t.vPositionInPx,o=void 0===n?0:n,a=t.hPosition,r=t.hPositionInPx,s=void 0===r?0:r,l;m.elements.removeElementStyles(e,['top','left','right','bottom']),m.elements.setStyles(e,(l={},h()(l,i,''.concat(o.toString(),'px')),h()(l,a,''.concat(s.toString(),'px')),l))},Se=function(e){var t=e.position;t=void 0===t?{}:t;var i=t.top,n=t.right,o=t.bottom,a=t.left,r=xe.RIGHT,s=n,l=xe.BOTTOM,d=o;return m.is.nullOrUndefined(a)||(r=xe.LEFT,s=a),m.is.nullOrUndefined(i)||(l=xe.TOP,d=i),{hPosition:r,hPositionInPx:s,vPosition:l,vPositionInPx:d}},Te=function(e,t){return Math.ceil(10*(e/t))/10},Ce=function(e){var t=e.widthUnit,i=e.widthSize,n=e.maxWidth,o=e.staticPlayerWidth,a=e.forceMinimumSize,r=e.minWidth,s=e.position,l='pixels'===t?i:o*i/100;return a&&!1===[y.STICKY.POSITION.UPPER_SMALL,y.STICKY.POSITION.UPPER_LARGE,y.STICKY.POSITION.UPPER_NATIVE,y.STICKY.POSITION.BOTTOM_SMALL,y.STICKY.POSITION.BOTTOM_LARGE,y.STICKY.POSITION.BOTTOM_NATIVE].includes(s)&&(l=ke({currentWidth:l,minWidth:r})),n&&l>n?n:l},Pe=function(e){var t=e.widthUnit,i=e.widthSize,n=e.maxWidth,o=e.staticPlayerSize,a=e.forceMinimumSize,r=e.minWidth,s=e.position,l=o.height,d=o.width,p=Ce({widthUnit:t,widthSize:i,maxWidth:n,staticPlayerWidth:d,forceMinimumSize:a,position:s.raw,minWidth:r}),u=Te(p,d/l);return{width:p,height:u}},Ie=function(e,t){m.elements.setStyles(e,{width:''.concat(t.toString(),'px')})},Ae=function(e,t){t.stickyOnly||me.create(t,e)},we=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.raw===y.STICKY.POSITION.INSIDE_ELEMENT&&e.insideElement},Oe=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:'';return!!m.elements.getElement(e)},De=function(e,t){var i=m.elements.getElement(t);i&&ve(e,i)},Le=function(e,t){var i=m.elements.getElement(t);i&&be(e,i)},Me=function(e,t){var i=t.position,n=void 0===i?{}:i;we(n)&&De(e,n.insideElement),m.elements.removeElementStyles(e,['top','left','right','bottom','position','width','z-index'])},Re=function(e,t){var i=t.position,n=void 0===i?{}:i,o=t.zIndex,a=void 0===o?y.STICKY.ZINDEX:o;we(n)?Le(e,n.insideElement):m.elements.setStyles(e,{position:'fixed',"z-index":a||y.STICKY.ZINDEX})},Ne=function(e){var t=e.position;return!we(t)||Oe(t.insideElement)},Ue={set:function(e,t){if(Ne(t)){var i=Se(t);if(Ae(e,t),Re(e,t),Ee(e,i),!t.ignoreSizes){var n=Pe(t),o=n.width,a=n.height;Ie(e,o),m.is['function'](t.onResize)&&t.onResize(o,a)}}},unset:function(e,t){Ne(t)&&(Me(e,t),me.hide(e),m.is['function'](t.onResize)&&t.onResize())},hideStatic:function(e){m.elements.addClass(e,'hidden')},getStickySize:Pe,shouldShowSticky:function(e){var t=e.isPersistent,i=e.enableInView,n=e.isCloseButtonClicked,o=e.staticPlayerWasInView,a=!1;return n&&t&&(a=o),n||(a=!i||o),a},updatePosition:function(e,t){var i=Se({position:t});e&&Ee(e,i)}},Be=function(){function e(){W()(this,e),le.a.use(),pe.a.use(),this._onSetSubs=[],this._onUnsetSubs=[]}return q()(e,[{key:'set',value:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this._onSetSubs.forEach(function(e){return e.apply(void 0,t)}),Ue.set.apply(Ue,t)}},{key:'onSet',value:function(e){re.a['function'](e)&&this._onSetSubs.push(e)}},{key:'unset',value:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this._onUnsetSubs.forEach(function(e){return e.apply(void 0,t)}),Ue.unset.apply(Ue,t)}},{key:'onUnset',value:function(e){re.a['function'](e)&&this._onUnsetSubs.push(e)}},{key:'updatePosition',value:function(){return Ue.updatePosition.apply(Ue,arguments)}},{key:'shouldShowSticky',value:function(){return Ue.shouldShowSticky.apply(Ue,arguments)}},{key:'hideStatic',value:function(){return Ue.hideStatic.apply(Ue,arguments)}}]),e}(),Ve=Be,ze=i(65),Ye=i.n(ze),Fe='exco_headline',We=''.concat(Fe,'-hide'),He=function(){var e=document.getElementsByClassName(Fe);return e&&e[0]},qe=function(e,t){var i=m.elements.create('div',{class:Fe},t,null);return m.elements.insertFirstChild(e,i),i},Ke=function(){var e=He();e&&m.elements.remove(e)},Ge=function(){m.elements.removeClass(He(),We)},je=function(){m.elements.addClass(He(),We)},Qe=function(){function e(){W()(this,e),Ye.a.use()}return q()(e,[{key:'create',value:function(){return qe.apply(c,arguments)}},{key:'remove',value:function(){return Ke.apply(c,arguments)}},{key:'show',value:function(){return Ge.apply(c,arguments)}},{key:'hide',value:function(){return je.apply(c,arguments)}}]),e}(),Xe=Qe}]);